function _createSuper(t){return function(){var e,r=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"1vCq":function(t,e,r){"use strict";(function(t){var n=r("fw2E"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,c=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=c&&c.exports===o?n.a.Buffer:void 0,i=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}}).call(this,r("cyaT")(t))},"Z+F6":function(t,e,r){"use strict";r.r(e),r.d(e,"RouteTwoModule",(function(){return te}));var n,o,c=r("2kYt"),a=r("sEIs"),i=r("D57K"),s=r("MJ1a"),u=r("yDe4"),l=r("IdLP"),f=r("8htw"),b=r("LTOS"),p=r("nIj0"),h=r("EM62"),d=((n=function t(){_classCallCheck(this,t)}).\u0275mod=h.Sb({type:n}),n.\u0275inj=h.Rb({factory:function(t){return new(t||n)},imports:[[c.c,b.c,p.s]]}),n),m=r("qFEQ"),y=r("OZ4H"),v=r("PBFl"),g=r("bFHC"),C=r("29Wa"),O=r("R7+U"),_=r("mFH5"),j=r("Meci"),w=((o=function(){function t(){_classCallCheck(this,t),this.revertChange=new h.q}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=h.Ob({type:o,selectors:[["rms-frontend-history-segment"]],inputs:{history:"history",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:22,vars:8,consts:[[1,"segment"],["fxLayout","column"],["fxLayout","row"],["fxFlex","1 1 auto"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["aria-hidden","false","aria-label","Arrow Icon",1,"icon",3,"inline"]],template:function(t,e){1&t&&(h.ac(0,"mat-card",0),h.ac(1,"mat-card-content",1),h.ac(2,"div",2),h.ac(3,"span"),h.ac(4,"strong"),h.Kc(5),h.Zb(),h.Kc(6," updated "),h.ac(7,"strong"),h.Kc(8),h.Zb(),h.Kc(9),h.nc(10,"date"),h.Zb(),h.Vb(11,"span",3),h.ac(12,"button",4),h.ic("click",(function(){return e.revertChange.emit(e.history)})),h.ac(13,"mat-icon"),h.Kc(14,"undo"),h.Zb(),h.Zb(),h.Zb(),h.ac(15,"div",5),h.ac(16,"p"),h.Kc(17),h.Zb(),h.ac(18,"mat-icon",6),h.Kc(19,"arrow_forward"),h.Zb(),h.ac(20,"p"),h.Kc(21),h.Zb(),h.Zb(),h.Zb(),h.Zb()),2&t&&(h.Ib(5),h.Lc(e.history.user),h.Ib(3),h.Lc(e.history.field),h.Ib(1),h.Mc(" ",h.oc(10,6,e.history.date),""),h.Ib(8),h.Lc(e.history.oldValue),h.Ib(1),h.tc("inline",!0),h.Ib(3),h.Lc(e.history.newValue))},directives:[j.a,j.b,m.c,m.a,v.a,g.a,m.b],pipes:[c.e],styles:[".segment[_ngcontent-%COMP%]{margin:10px;background-color:var(--alternate-card-color)}.icon[_ngcontent-%COMP%], .segment[_ngcontent-%COMP%]{font-size:large}.icon[_ngcontent-%COMP%]{margin:5px}"]}),o),k=r("4+zl");function I(t,e){if(1&t&&(h.ac(0,"mat-option",6),h.Kc(1),h.Zb()),2&t){var r=e.$implicit;h.tc("value",r),h.Ib(1),h.Lc(r)}}function F(t,e){if(1&t&&(h.ac(0,"mat-option",6),h.Kc(1),h.Zb()),2&t){var r=e.$implicit;h.tc("value",r),h.Ib(1),h.Lc(r)}}function Z(t,e){if(1&t){var r=h.bc();h.ac(0,"rms-frontend-history-segment",8),h.ic("revertChange",(function(t){return h.Bc(r),h.mc().revertChange.emit(t)})),h.Zb()}if(2&t){var n=e.$implicit,o=h.mc();h.tc("history",n)("canEdit",o.canEdit)}}var x,A,S,q=((A=function(){function t(){_classCallCheck(this,t),this.revertChange=new h.q,this.fieldFilter=new p.e,this.userFilter=new p.e,this.sort=new p.e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getFilter",value:function(t){return _toConsumableArray(new Set(this.histories.map((function(e){return e[t]}))))}},{key:"filterHistories",value:function(){var t=this.histories,e=this.fieldFilter.value,r=this.userFilter.value;return(null==e?void 0:e.length)&&(t=t.filter((function(t){return e.includes(t.field)}))),(null==r?void 0:r.length)&&(t=t.filter((function(t){return r.includes(t.user)}))),t}}]),t}()).\u0275fac=function(t){return new(t||A)},A.\u0275cmp=h.Ob({type:A,selectors:[["rms-frontend-history-list"]],inputs:{histories:"histories",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:22,vars:13,consts:[["fxFlex","","flexlayout","column"],["fxLayoutAlign","space-between"],[1,"filters"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"formControl","value"],[3,"value"],[3,"history","canEdit","revertChange",4,"ngFor","ngForOf"],[3,"history","canEdit","revertChange"]],template:function(t,e){1&t&&(h.ac(0,"div",0),h.ac(1,"span",1),h.ac(2,"mat-form-field",2),h.ac(3,"mat-label"),h.Kc(4,"Field"),h.Zb(),h.ac(5,"mat-select",3),h.Ic(6,I,2,2,"mat-option",4),h.Zb(),h.Zb(),h.ac(7,"mat-form-field",2),h.ac(8,"mat-label"),h.Kc(9,"User"),h.Zb(),h.ac(10,"mat-select",3),h.Ic(11,F,2,2,"mat-option",4),h.Zb(),h.Zb(),h.ac(12,"mat-form-field",2),h.ac(13,"mat-label"),h.Kc(14,"Sort"),h.Zb(),h.ac(15,"mat-select",5),h.ac(16,"mat-option",6),h.Kc(17," Least Recent"),h.Zb(),h.ac(18,"mat-option",6),h.Kc(19," Most Recent"),h.Zb(),h.Zb(),h.Zb(),h.Zb(),h.Ic(20,Z,1,2,"rms-frontend-history-segment",7),h.nc(21,"orderBy"),h.Zb()),2&t&&(h.Ib(5),h.tc("formControl",e.fieldFilter),h.Ib(1),h.tc("ngForOf",e.getFilter("field")),h.Ib(4),h.tc("formControl",e.userFilter),h.Ib(1),h.tc("ngForOf",e.getFilter("user")),h.Ib(4),h.tc("formControl",e.sort)("value","asc"),h.Ib(1),h.tc("value","asc"),h.Ib(2),h.tc("value","desc"),h.Ib(2),h.tc("ngForOf",h.qc(21,9,e.filterHistories(),e.sort.value,"date")))},directives:[m.a,m.b,C.b,C.e,O.a,p.o,p.f,c.k,_.n,w],pipes:[k.a],styles:[".filters[_ngcontent-%COMP%]{width:100px}"]}),A),D=((x=function(){function t(){_classCallCheck(this,t),this.revertChange=new h.q}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"emit",value:function(t){this.revertChange.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||x)},x.\u0275cmp=h.Ob({type:x,selectors:[["rms-frontend-history-modal"]],outputs:{revertChange:"revertChange"},decls:10,vars:4,consts:[["fxLayout","row"],["mat-dialog-title",""],["fxFlex","1 1 auto"],["mat-icon-button","","mat-dialog-close",""],[3,"histories","canEdit","revertChange"]],template:function(t,e){1&t&&(h.ac(0,"div",0),h.ac(1,"h1",1),h.Kc(2,"History"),h.Zb(),h.Vb(3,"span",2),h.ac(4,"button",3),h.ac(5,"mat-icon"),h.Kc(6," close "),h.Zb(),h.Zb(),h.Zb(),h.ac(7,"mat-dialog-content"),h.ac(8,"rms-frontend-history-list",4),h.ic("revertChange",(function(t){return e.emit(t)})),h.nc(9,"async"),h.Zb(),h.Zb()),2&t&&(h.Ib(8),h.tc("histories",h.oc(9,2,e.histories))("canEdit",e.canEdit))},directives:[m.c,y.g,m.a,v.a,y.c,g.a,y.d,q],pipes:[c.b],styles:[""]}),x),E=r("ZTXN"),P=r("Ohay"),K=r("kuMc"),L=r("mWib"),M=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Status"}}]),t}(),T=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Value"}}]),t}(),U=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form"}}]),t}(),R=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Dirty"}}]),t}(),V=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Errors"}}]),t}(),G=((S=function(){function t(e,r,n){_classCallCheck(this,t),this._store=e,this._formGroupDirective=r,this._cd=n,this.path=null,this.debounce=100,this.clearDestroy=!1,this._destroy$=new E.a,this._updating=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.getStateStream("".concat(this.path,".model")).subscribe((function(e){!t._updating&&e&&(t.form.patchValue(e),t._cd.markForCheck())})),this.getStateStream("".concat(this.path,".dirty")).subscribe((function(e){t.form.dirty!==e&&"boolean"==typeof e&&(e?t.form.markAsDirty():t.form.markAsPristine(),t._cd.markForCheck())})),this._store.selectOnce((function(e){return Object(u.m)(e,t.path)})).subscribe((function(){t._store.dispatch([new T({path:t.path,value:t.form.getRawValue()}),new M({path:t.path,status:t.form.status}),new R({path:t.path,dirty:t.form.dirty})])})),this.getStateStream("".concat(this.path,".disabled")).subscribe((function(e){t.form.disabled!==e&&"boolean"==typeof e&&(e?t.form.disable():t.form.enable(),t._cd.markForCheck())})),this._formGroupDirective.valueChanges.pipe(this.debounceChange()).subscribe((function(){var e=t._formGroupDirective.control.getRawValue();t._updating=!0,t._store.dispatch([new T({path:t.path,value:e}),new R({path:t.path,dirty:t._formGroupDirective.dirty}),new V({path:t.path,errors:t._formGroupDirective.errors})]).subscribe({error:function(){return t._updating=!1},complete:function(){return t._updating=!1}})})),this._formGroupDirective.statusChanges.pipe(Object(P.a)(),this.debounceChange()).subscribe((function(e){t._store.dispatch(new M({status:e,path:t.path}))}))}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this.clearDestroy&&this._store.dispatch(new U({path:this.path,value:null,dirty:null,status:null,errors:null}))}},{key:"debounceChange",value:function(){var t=this;return"change"!==this._formGroupDirective.control.updateOn||this.debounce<0?function(e){return e.pipe(Object(K.a)(t._destroy$))}:function(e){return e.pipe(Object(L.a)(t.debounce),Object(K.a)(t._destroy$))}}},{key:"getStateStream",value:function(t){return this._store.select((function(e){return Object(u.m)(e,t)})).pipe(Object(K.a)(this._destroy$))}},{key:"form",get:function(){return this._formGroupDirective.form}}]),t}()).\u0275fac=function(t){return new(t||S)(h.Ub(u.i),h.Ub(p.i),h.Ub(h.i))},S.\u0275dir=h.Pb({type:S,selectors:[["","ngxsForm",""]],inputs:{path:["ngxsForm","path"],debounce:["ngxsFormDebounce","debounce"],clearDestroy:["ngxsFormClearOnDestroy","clearDestroy"]}}),S),H=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.value=e.value,this.key=e.key||"",this.label=e.label||"",this.required=!!e.required,this.order=void 0===e.order?1:e.order,this.controlType=e.controlType||"",this.type=e.type||""},$=r("Cd2c");function B(t,e){if(1&t&&(h.ac(0,"mat-form-field"),h.ac(1,"mat-label"),h.Kc(2),h.Zb(),h.Vb(3,"input",4),h.Zb()),2&t){var r=h.mc();h.Ib(2),h.Lc(r.question.label),h.Ib(1),h.tc("placeholder",r.question.label)("id",r.question.key)("type",r.question.type)("formControlName",r.question.key)}}function N(t,e){if(1&t&&(h.ac(0,"mat-option",7),h.Kc(1),h.Zb()),2&t){var r=e.$implicit;h.tc("value",r.key),h.Ib(1),h.Mc(" ",r.value," ")}}function z(t,e){if(1&t&&(h.ac(0,"mat-form-field"),h.ac(1,"mat-label"),h.Kc(2),h.Zb(),h.ac(3,"mat-select",5),h.Ic(4,N,2,2,"mat-option",6),h.Zb(),h.Zb()),2&t){var r=h.mc();h.Ib(2),h.Lc(r.question.label),h.Ib(1),h.tc("formControlName",r.question.key),h.Ib(1),h.tc("ngForOf",r.question.options)}}function W(t,e){if(1&t&&(h.ac(0,"div",8),h.Kc(1),h.Zb()),2&t){var r=h.mc();h.Ib(1),h.Mc(" ",r.question.label," is required ")}}var J,Q=((J=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isValid",get:function(){return this.form.controls[this.question.key].valid}}]),t}()).\u0275fac=function(t){return new(t||J)},J.\u0275cmp=h.Ob({type:J,selectors:[["app-question"]],inputs:{question:"question",form:"form"},decls:5,vars:5,consts:[[3,"formGroup"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","errorMessage",4,"ngIf"],["matInput","",3,"placeholder","id","type","formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"errorMessage"]],template:function(t,e){1&t&&(h.ac(0,"div",0),h.ac(1,"div",1),h.Ic(2,B,4,5,"mat-form-field",2),h.Ic(3,z,5,3,"mat-form-field",2),h.Zb(),h.Ic(4,W,2,1,"div",3),h.Zb()),2&t&&(h.tc("formGroup",e.form),h.Ib(1),h.tc("ngSwitch",e.question.controlType),h.Ib(1),h.tc("ngSwitchCase","textbox"),h.Ib(1),h.tc("ngSwitchCase","dropdown"),h.Ib(1),h.tc("ngIf",!e.isValid))},directives:[p.p,p.i,c.n,c.o,c.l,C.b,C.e,$.b,p.b,p.o,p.g,O.a,c.k,_.n],encapsulation:2}),J);function Y(t,e){if(1&t&&(h.ac(0,"div",2),h.Vb(1,"app-question",3),h.Zb()),2&t){var r=e.$implicit,n=h.mc();h.Ib(1),h.tc("question",r)("form",n.form)}}var X,tt,et=((tt=function(){function t(){_classCallCheck(this,t),this.questions=[],this.clearOnDestroy=!1,this.payLoad=""}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||tt)},tt.\u0275cmp=h.Ob({type:tt,selectors:[["dynamic-form"]],inputs:{questions:"questions",form:"form",clearOnDestroy:"clearOnDestroy"},decls:3,vars:3,consts:[["ngxsForm","dynamicForms.formGroup","autocomplete","off",3,"formGroup","ngxsFormClearOnDestroy"],["class","form-row",4,"ngFor","ngForOf"],[1,"form-row"],[3,"question","form"]],template:function(t,e){1&t&&(h.ac(0,"div"),h.ac(1,"form",0),h.Ic(2,Y,2,2,"div",1),h.Zb(),h.Zb()),2&t&&(h.Ib(1),h.tc("formGroup",e.form)("ngxsFormClearOnDestroy",e.clearOnDestroy),h.Ib(1),h.tc("ngForOf",e.questions))},directives:[p.u,p.p,G,p.i,c.k,Q],encapsulation:2}),tt),rt=((X=function(){function t(){_classCallCheck(this,t),this.outputEvent=new h.q}return _createClass(t,[{key:"ngOnInit",value:function(){this.form=this.toFormGroup(this.questions)}},{key:"saveAsDraft",value:function(){this.outputEvent.emit(this.form.value)}},{key:"toFormGroup",value:function(t){var e={};return t.forEach((function(t){e[t.key]=t.required?new p.e(t.value||"",p.t.required):new p.e(t.value||"")})),new p.h(e)}}]),t}()).\u0275fac=function(t){return new(t||X)},X.\u0275cmp=h.Ob({type:X,selectors:[["rms-dynamic-form-modal"]],inputs:{questions:"questions",clearOnDestroy:"clearOnDestroy"},outputs:{outputEvent:"outputEvent"},decls:9,vars:3,consts:[["mat-dialog-title",""],[3,"form","questions","clearOnDestroy"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"],["mat-raised-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(h.ac(0,"div"),h.Vb(1,"h1",0),h.ac(2,"mat-dialog-content"),h.Vb(3,"dynamic-form",1),h.Zb(),h.ac(4,"mat-dialog-actions"),h.ac(5,"button",2),h.ic("click",(function(){return e.saveAsDraft()})),h.Kc(6," Submit "),h.Zb(),h.ac(7,"button",3),h.Kc(8,"Cancel"),h.Zb(),h.Zb(),h.Zb()),2&t&&(h.Ib(3),h.tc("form",e.form)("questions",e.questions)("clearOnDestroy",e.clearOnDestroy))},directives:[y.g,y.d,et,y.b,v.a,y.c],styles:[""]}),X),nt=function(t){_inherits(r,t);var e=_createSuper(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,r),(t=e.call(this,n)).controlType="dropdown",t.options=[],t.options=n.options||[],t}return r}(H),ot=function(t){_inherits(r,t);var e=_createSuper(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,r),(t=e.call(this,n)).controlType="textbox",t.type=n.type||"",t}return r}(H),ct=r("DHAC"),at=r("lv0l"),it=function(t,e,r){"__proto__"==e&&at.a?Object(at.a)(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},st=r("HVAe"),ut=Object.prototype.hasOwnProperty,lt=function(t,e,r){var n=t[e];ut.call(t,e)&&Object(st.a)(n,r)&&(void 0!==r||e in t)||it(t,e,r)},ft=function(t,e,r,n){var o=!r;r||(r={});for(var c=-1,a=e.length;++c<a;){var i=e[c],s=n?n(r[i],t[i],i,r,t):void 0;void 0===s&&(s=t[i]),o?it(r,i,s):lt(r,i,s)}return r},bt=r("FoV5"),pt=r("/ciH"),ht=r("gDU4"),dt=r("Rmop"),mt=Object.prototype.hasOwnProperty,yt=r("GIvL"),vt=function(t){return Object(yt.a)(t)?Object(pt.a)(t,!0):function(t){if(!Object(ht.a)(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Object(dt.a)(t),r=[];for(var n in t)("constructor"!=n||!e&&mt.call(t,n))&&r.push(n);return r}(t)},gt=r("1vCq"),Ct=r("qd5q"),Ot=r("gFym"),_t=r("CrBj"),jt=Object(_t.a)(Object.getPrototypeOf,Object),wt=r("NUo7"),kt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(Ot.a)(e,Object(Ct.a)(t)),t=jt(t);return e}:wt.a,It=r("BaCy"),Ft=r("lnqP"),Zt=function(t){return Object(Ft.a)(t,vt,kt)},xt=r("EaxY"),At=Object.prototype.hasOwnProperty,St=r("mY74"),qt=function(t){var e=new t.constructor(t.byteLength);return new St.a(e).set(new St.a(t)),e},Dt=/\w*$/,Et=r("GAvS"),Pt=Et.a?Et.a.prototype:void 0,Kt=Pt?Pt.valueOf:void 0,Lt=Object.create,Mt=function(){function t(){}return function(e){if(!Object(ht.a)(e))return{};if(Lt)return Lt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Tt=r("SEb4"),Ut=r("TPB+"),Rt=r("gfy7"),Vt=r("clBK"),Gt=r("Af8m"),Ht=Gt.a&&Gt.a.isMap,$t=Ht?Object(Vt.a)(Ht):function(t){return Object(Rt.a)(t)&&"[object Map]"==Object(xt.a)(t)},Bt=Gt.a&&Gt.a.isSet,Nt=Bt?Object(Vt.a)(Bt):function(t){return Object(Rt.a)(t)&&"[object Set]"==Object(xt.a)(t)},zt={};zt["[object Arguments]"]=zt["[object Array]"]=zt["[object ArrayBuffer]"]=zt["[object DataView]"]=zt["[object Boolean]"]=zt["[object Date]"]=zt["[object Float32Array]"]=zt["[object Float64Array]"]=zt["[object Int8Array]"]=zt["[object Int16Array]"]=zt["[object Int32Array]"]=zt["[object Map]"]=zt["[object Number]"]=zt["[object Object]"]=zt["[object RegExp]"]=zt["[object Set]"]=zt["[object String]"]=zt["[object Symbol]"]=zt["[object Uint8Array]"]=zt["[object Uint8ClampedArray]"]=zt["[object Uint16Array]"]=zt["[object Uint32Array]"]=!0,zt["[object Error]"]=zt["[object Function]"]=zt["[object WeakMap]"]=!1;var Wt,Jt,Qt,Yt=[{path:"",component:(Wt=function(){function t(e,r){_classCallCheck(this,t),this.store=e,this.dialog=r,this.userControl=new p.e,this.person={name:"",description:"",favColor:""},this.version=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.userControl.setValue("Steve")}},{key:"openHistory",value:function(){var t=this,e=this.dialog.open(D);e.componentInstance.histories=this.histories$,e.componentInstance.canEdit=!0,e.componentInstance.revertChange.subscribe((function(e){var r=function(t){return function t(e,r,n,o,c,a){var i,s=1&r,u=2&r,l=4&r;if(n&&(i=c?n(e,o,c,a):n(e)),void 0!==i)return i;if(!Object(ht.a)(e))return e;var f=Object(Tt.a)(e);if(f){if(i=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&At.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!s)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(e,i)}else{var b=Object(xt.a)(e),p="[object Function]"==b||"[object GeneratorFunction]"==b;if(Object(Ut.a)(e))return Object(gt.a)(e,s);if("[object Object]"==b||"[object Arguments]"==b||p&&!c){if(i=u||p?{}:function(t){return"function"!=typeof t.constructor||Object(dt.a)(t)?{}:Mt(jt(t))}(e),!s)return u?function(t,e){return ft(t,kt(t),e)}(e,function(t,e){return t&&ft(e,vt(e),t)}(i,e)):function(t,e){return ft(t,Object(Ct.a)(t),e)}(e,function(t,e){return t&&ft(e,Object(bt.a)(e),t)}(i,e))}else{if(!zt[b])return c?e:{};i=function(t,e,r){var n,o,c=t.constructor;switch(e){case"[object ArrayBuffer]":return qt(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return function(t,e){var r=e?qt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?qt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return(o=new(n=t).constructor(n.source,Dt.exec(n))).lastIndex=n.lastIndex,o;case"[object Set]":return new c;case"[object Symbol]":return Kt?Object(Kt.call(t)):{}}}(e,b,s)}}a||(a=new ct.a);var h=a.get(e);if(h)return h;a.set(e,i),Nt(e)?e.forEach((function(o){i.add(t(o,r,n,o,e,a))})):$t(e)&&e.forEach((function(o,c){i.set(c,t(o,r,n,c,e,a))}));var d=l?u?Zt:It.a:u?keysIn:bt.a,m=f?void 0:d(e);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r););}(m||e,(function(o,c){m&&(o=e[c=o]),lt(i,c,t(o,r,n,c,e,a))})),i}(t,5)}(t.person);r[e.field]=e.oldValue,t.onSave(r)})),e.afterClosed().subscribe((function(t){}))}},{key:"openForms",value:function(){var t=this,e=this.dialog.open(rt,{width:"500px"});e.componentInstance.questions=this.getQuestions(),e.componentInstance.clearOnDestroy=!1,e.componentInstance.outputEvent.subscribe((function(e){t.onSave(e)})),e.afterClosed().subscribe((function(t){}))}},{key:"getQuestions",value:function(){var t,e,r;return[new nt({key:"favColor",label:"Favorite Color",options:[{key:"Orange",value:"Orange"},{key:"Green",value:"Green"},{key:"Blue",value:"Blue"},{key:"Red",value:"Red"}],value:null===(t=this.person)||void 0===t?void 0:t.favColor,order:3}),new ot({key:"name",label:"Name",value:null===(e=this.person)||void 0===e?void 0:e.name,order:1}),new ot({key:"description",label:"Description",type:"textbox",value:null===(r=this.person)||void 0===r?void 0:r.description,order:2})].sort((function(t,e){return t.order-e.order}))}},{key:"onSave",value:function(t){var e=this,r=new Date;Object.keys(this.person).forEach((function(n){t[n]!=e.person[n]&&(e.store.dispatch(new f.a({user:e.userControl.value,version:e.version,date:r,newValue:t[n],oldValue:e.person[n],field:n})),e.person[n]=t[n])}))}}]),t}(),Wt.\u0275fac=function(t){return new(t||Wt)(h.Ub(u.i),h.Ub(y.a))},Wt.\u0275cmp=h.Ob({type:Wt,selectors:[["lazy-load-route-two"]],decls:19,vars:7,consts:[["fxFlex",""],["mat-raised-button","","color","accent","routerLink","/home",2,"margin","20px"],["mat-raised-button","","color","accent",2,"margin","20px",3,"click"],["mat-raised-button","","color","accent",2,"margin","20px",3,"disabled","click"],["fxLayout","column"],[2,"margin","10px","width","120px"],["matInput","","placeholder","user","id","userVal",3,"formControl"],[2,"margin","10px"]],template:function(t,e){1&t&&(h.ac(0,"div",0),h.ac(1,"button",1),h.Kc(2," Lazy-App Home "),h.Zb(),h.ac(3,"button",2),h.ic("click",(function(){return e.openForms()})),h.Kc(4," Edit Person "),h.Zb(),h.ac(5,"button",3),h.ic("click",(function(){return e.openHistory()})),h.nc(6,"async"),h.Kc(7," History Modal "),h.Zb(),h.ac(8,"div",4),h.ac(9,"mat-form-field",5),h.ac(10,"mat-label"),h.Kc(11,"User"),h.Zb(),h.Vb(12,"input",6),h.Zb(),h.ac(13,"span",7),h.Kc(14),h.Zb(),h.ac(15,"span",7),h.Kc(16),h.Zb(),h.ac(17,"span",7),h.Kc(18),h.Zb(),h.Zb(),h.Zb()),2&t&&(h.Ib(5),h.tc("disabled",0==h.oc(6,5,e.histories$).length),h.Ib(7),h.tc("formControl",e.userControl),h.Ib(2),h.Mc(" Name: ",e.person.name," "),h.Ib(2),h.Mc(" Description: ",e.person.description," "),h.Ib(2),h.Mc(" Favorite Color: ",e.person.favColor," "))},directives:[m.a,v.a,a.h,m.c,C.b,C.e,$.b,p.b,p.o,p.f],pipes:[c.b],styles:[""]}),Object(i.b)([Object(u.e)(s.a.getHistories),Object(i.c)("design:type",l.a)],Wt.prototype,"histories$",void 0),Wt)}],Xt=((Qt=function t(){_classCallCheck(this,t)}).\u0275mod=h.Sb({type:Qt}),Qt.\u0275inj=h.Rb({factory:function(t){return new(t||Qt)},imports:[[a.i.forChild(Yt)],a.i]}),Qt),te=((Jt=function t(){_classCallCheck(this,t)}).\u0275mod=h.Sb({type:Jt}),Jt.\u0275inj=h.Rb({factory:function(t){return new(t||Jt)},imports:[[c.c,b.c,p.s,Xt,d]]}),Jt)}}]);