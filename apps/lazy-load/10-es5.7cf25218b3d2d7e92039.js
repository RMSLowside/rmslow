function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"Z+F6":function(t,e,n){"use strict";n.r(e),n.d(e,"RouteTwoModule",(function(){return P}));var r,a,o=n("2kYt"),i=n("sEIs"),c=n("D57K"),s=n("MJ1a"),l=n("LTOS"),u=n("nIj0"),f=n("EM62"),b=((r=function t(){_classCallCheck(this,t)}).\u0275mod=f.Sb({type:r}),r.\u0275inj=f.Rb({factory:function(t){return new(t||r)},imports:[[o.c,l.c,u.r]]}),r),d=function t(){_classCallCheck(this,t)},h=n("qFEQ"),m=n("OZ4H"),p=n("PBFl"),y=n("bFHC"),v=n("29Wa"),g=n("R7+U"),C=n("mFH5"),w=n("Meci"),Z=((a=function(){function t(){_classCallCheck(this,t),this.revertChange=new f.q}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=f.Ob({type:a,selectors:[["rms-frontend-history-segment"]],inputs:{history:"history",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:22,vars:8,consts:[[1,"segment"],["fxLayout","column"],["fxLayout","row"],["fxFlex","1 1 auto"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["aria-hidden","false","aria-label","Arrow Icon",1,"icon",3,"inline"]],template:function(t,e){1&t&&(f.ac(0,"mat-card",0),f.ac(1,"mat-card-content",1),f.ac(2,"div",2),f.ac(3,"span"),f.ac(4,"strong"),f.Jc(5),f.Zb(),f.Jc(6," updated "),f.ac(7,"strong"),f.Jc(8),f.Zb(),f.Jc(9),f.nc(10,"date"),f.Zb(),f.Vb(11,"span",3),f.ac(12,"button",4),f.ic("click",(function(){return e.revertChange.emit(e.history)})),f.ac(13,"mat-icon"),f.Jc(14,"undo"),f.Zb(),f.Zb(),f.Zb(),f.ac(15,"div",5),f.ac(16,"p"),f.Jc(17),f.Zb(),f.ac(18,"mat-icon",6),f.Jc(19,"arrow_forward"),f.Zb(),f.ac(20,"p"),f.Jc(21),f.Zb(),f.Zb(),f.Zb(),f.Zb()),2&t&&(f.Ib(5),f.Kc(e.history.user),f.Ib(3),f.Kc(e.history.field),f.Ib(1),f.Lc(" ",f.oc(10,6,e.history.date),""),f.Ib(8),f.Kc(e.history.oldValue),f.Ib(1),f.tc("inline",!0),f.Ib(3),f.Kc(e.history.newValue))},directives:[w.a,w.b,h.c,h.a,p.a,y.a,h.b],pipes:[o.e],styles:[".segment[_ngcontent-%COMP%]{margin:10px;background-color:var(--alternate-card-color)}.icon[_ngcontent-%COMP%], .segment[_ngcontent-%COMP%]{font-size:large}.icon[_ngcontent-%COMP%]{margin:5px}"]}),a),_=n("4+zl");function I(t,e){if(1&t&&(f.ac(0,"mat-option",6),f.Jc(1),f.Zb()),2&t){var n=e.$implicit;f.tc("value",n),f.Ib(1),f.Kc(n)}}function k(t,e){if(1&t&&(f.ac(0,"mat-option",6),f.Jc(1),f.Zb()),2&t){var n=e.$implicit;f.tc("value",n),f.Ib(1),f.Kc(n)}}function O(t,e){if(1&t){var n=f.bc();f.ac(0,"rms-frontend-history-segment",8),f.ic("revertChange",(function(t){return f.Bc(n),f.mc().revertChange.emit(t)})),f.Zb()}if(2&t){var r=e.$implicit,a=f.mc();f.tc("history",r)("canEdit",a.canEdit)}}var F,J,x,A,L,E=((J=function(){function t(){_classCallCheck(this,t),this.revertChange=new f.q,this.fieldFilter=new u.e,this.userFilter=new u.e,this.sort=new u.e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getFilter",value:function(t){return _toConsumableArray(new Set(this.histories.map((function(e){return e[t]}))))}},{key:"filterHistories",value:function(){var t=this.histories,e=this.fieldFilter.value,n=this.userFilter.value;return(null==e?void 0:e.length)&&(t=t.filter((function(t){return e.includes(t.field)}))),(null==n?void 0:n.length)&&(t=t.filter((function(t){return n.includes(t.user)}))),t}}]),t}()).\u0275fac=function(t){return new(t||J)},J.\u0275cmp=f.Ob({type:J,selectors:[["rms-frontend-history-list"]],inputs:{histories:"histories",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:22,vars:13,consts:[["fxFlex","","flexlayout","column"],["fxLayoutAlign","space-between"],[1,"filters"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"formControl","value"],[3,"value"],[3,"history","canEdit","revertChange",4,"ngFor","ngForOf"],[3,"history","canEdit","revertChange"]],template:function(t,e){1&t&&(f.ac(0,"div",0),f.ac(1,"span",1),f.ac(2,"mat-form-field",2),f.ac(3,"mat-label"),f.Jc(4,"Field"),f.Zb(),f.ac(5,"mat-select",3),f.Hc(6,I,2,2,"mat-option",4),f.Zb(),f.Zb(),f.ac(7,"mat-form-field",2),f.ac(8,"mat-label"),f.Jc(9,"User"),f.Zb(),f.ac(10,"mat-select",3),f.Hc(11,k,2,2,"mat-option",4),f.Zb(),f.Zb(),f.ac(12,"mat-form-field",2),f.ac(13,"mat-label"),f.Jc(14,"Sort"),f.Zb(),f.ac(15,"mat-select",5),f.ac(16,"mat-option",6),f.Jc(17," Least Recent"),f.Zb(),f.ac(18,"mat-option",6),f.Jc(19," Most Recent"),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Hc(20,O,1,2,"rms-frontend-history-segment",7),f.nc(21,"orderBy"),f.Zb()),2&t&&(f.Ib(5),f.tc("formControl",e.fieldFilter),f.Ib(1),f.tc("ngForOf",e.getFilter("field")),f.Ib(4),f.tc("formControl",e.userFilter),f.Ib(1),f.tc("ngForOf",e.getFilter("user")),f.Ib(4),f.tc("formControl",e.sort)("value","asc"),f.Ib(1),f.tc("value","asc"),f.Ib(2),f.tc("value","desc"),f.Ib(2),f.tc("ngForOf",f.qc(21,9,e.filterHistories(),e.sort.value,"date")))},directives:[h.a,h.b,v.b,v.e,g.a,u.n,u.f,o.k,C.n,Z],pipes:[_.a],styles:[".filters[_ngcontent-%COMP%]{width:100px}"]}),J),H=((F=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"emit",value:function(t){alert("You are reverting ".concat(t.field,' to: "').concat(t.newValue,'"'))}}]),t}()).\u0275fac=function(t){return new(t||F)},F.\u0275cmp=f.Ob({type:F,selectors:[["rms-frontend-history-modal"]],decls:10,vars:4,consts:[["fxLayout","row"],["mat-dialog-title",""],["fxFlex","1 1 auto"],["mat-icon-button","","mat-dialog-close",""],[3,"histories","canEdit","revertChange"]],template:function(t,e){1&t&&(f.ac(0,"div",0),f.ac(1,"h1",1),f.Jc(2,"History"),f.Zb(),f.Vb(3,"span",2),f.ac(4,"button",3),f.ac(5,"mat-icon"),f.Jc(6," close "),f.Zb(),f.Zb(),f.Zb(),f.ac(7,"mat-dialog-content"),f.ac(8,"rms-frontend-history-list",4),f.ic("revertChange",(function(t){return e.emit(t)})),f.nc(9,"async"),f.Zb(),f.Zb()),2&t&&(f.Ib(8),f.tc("histories",f.oc(9,2,e.histories))("canEdit",e.canEdit))},directives:[h.c,m.g,h.a,p.a,m.c,y.a,m.d,E],pipes:[o.b],styles:[""]}),F),S=n("yDe4"),T=n("IdLP"),M=n("8htw"),j=[{path:"",component:(x=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.dialog=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=[];if(0===this.store.selectSnapshot((function(t){var e;return null===(e=t.history)||void 0===e?void 0:e.histories.length}))){for(var e=0;e<10;e++){var n=new d;n.date=new Date,n.date.setDate(n.date.getDate()-(10-e)),n.field=e%2==0?"fieldOne":"fieldTwo",n.oldValue=e>1?t[e-2].newValue:"None",n.user=e%2==0?"Steve":"Bryan",n.version=Math.floor((e+2)/2),n.newValue="This is the ".concat(n.version," entry for ").concat(n.field),t.push(n)}this.store.dispatch(new M.a(t))}}},{key:"openHistory",value:function(){var t=this.dialog.open(H);t.componentInstance.histories=this.histories$,t.componentInstance.canEdit=!0,t.afterClosed().subscribe((function(t){}))}}]),t}(),x.\u0275fac=function(t){return new(t||x)(f.Ub(S.i),f.Ub(m.a))},x.\u0275cmp=f.Ob({type:x,selectors:[["lazy-load-route-two"]],decls:12,vars:6,consts:[["fxFlex",""],["mat-raised-button","","color","accent","routerLink","/home",2,"margin","20px"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","column"]],template:function(t,e){1&t&&(f.ac(0,"div",0),f.ac(1,"button",1),f.Jc(2," Lazy-App Home "),f.Zb(),f.ac(3,"button",2),f.ic("click",(function(){return e.openHistory()})),f.Jc(4," History Modal "),f.Zb(),f.ac(5,"div",3),f.ac(6,"span"),f.Jc(7),f.nc(8,"async"),f.Zb(),f.ac(9,"span"),f.Jc(10),f.nc(11,"async"),f.Zb(),f.Zb(),f.Zb()),2&t&&(f.Ib(7),f.Lc(" Current Value for fieldOne is: ",null==f.oc(8,2,e.histories$)[8]?null:f.oc(8,2,e.histories$)[8].newValue," "),f.Ib(3),f.Lc(" Current Value for fieldTwo is: ",null==f.oc(11,4,e.histories$)[9]?null:f.oc(11,4,e.histories$)[9].newValue," "))},directives:[h.a,p.a,i.h,h.c],pipes:[o.b],styles:[""]}),Object(c.b)([Object(S.e)(s.a.getHistories),Object(c.c)("design:type",T.a)],x.prototype,"histories$",void 0),x)}],V=((L=function t(){_classCallCheck(this,t)}).\u0275mod=f.Sb({type:L}),L.\u0275inj=f.Rb({factory:function(t){return new(t||L)},imports:[[i.i.forChild(j)],i.i]}),L),P=((A=function t(){_classCallCheck(this,t)}).\u0275mod=f.Sb({type:A}),A.\u0275inj=f.Rb({factory:function(t){return new(t||A)},imports:[[o.c,l.c,V,b]]}),A)}}]);