function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a,i=!0,r=!1;return{s:function(){c=e[Symbol.iterator]()},n:function(){var e=c.next();return i=e.done,e},e:function(e){r=!0,a=e},f:function(){try{i||null==c.return||c.return()}finally{if(r)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2Xdf":function(e,t,n){"use strict";n.r(t),n.d(t,"FileExplorerComponent",(function(){return R}));var c,a,i=n("EM62"),r=n("rQns"),o=n("OZ4H"),l=n("29Wa"),u=n("Cd2c"),d=n("nIj0"),s=n("PBFl"),f=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=i.Ob({type:a,selectors:[["s3-new-folder-modal"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"example-full-width"],["matInput","","placeholder","Folder Name",3,"ngModel","ngModelChange"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.ac(0,"h1",0),i.Hc(1,"Create a new folder"),i.Zb(),i.ac(2,"mat-dialog-content"),i.ac(3,"mat-form-field",1),i.ac(4,"input",2),i.ic("ngModelChange",(function(e){return t.folderName=e})),i.Zb(),i.Zb(),i.Zb(),i.ac(5,"mat-dialog-actions"),i.ac(6,"button",3),i.Hc(7,"Cancel"),i.Zb(),i.ac(8,"button",4),i.Hc(9," OK "),i.Zb(),i.Zb()),2&e&&(i.Ib(4),i.rc("ngModel",t.folderName),i.Ib(4),i.rc("mat-dialog-close",t.folderName))},directives:[o.f,o.d,l.b,u.b,d.b,d.h,d.j,o.b,s.a,o.c],styles:[""]}),a),m=((c=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=i.Ob({type:c,selectors:[["s3-rename-modal"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"example-full-width"],["matInput","","placeholder","Folder Name",3,"ngModel","ngModelChange"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.ac(0,"h1",0),i.Hc(1,"Rename Element"),i.Zb(),i.ac(2,"mat-dialog-content"),i.ac(3,"mat-form-field",1),i.ac(4,"input",2),i.ic("ngModelChange",(function(e){return t.folderName=e})),i.Zb(),i.Zb(),i.Zb(),i.ac(5,"mat-dialog-actions"),i.ac(6,"button",3),i.Hc(7,"Cancel"),i.Zb(),i.ac(8,"button",4),i.Hc(9," OK "),i.Zb(),i.Zb()),2&e&&(i.Ib(4),i.rc("ngModel",t.folderName),i.Ib(4),i.rc("mat-dialog-close",t.folderName))},directives:[o.f,o.d,l.b,u.b,d.b,d.h,d.j,o.b,s.a,o.c],styles:[""]}),c),p=n("A7yd"),b=n("2kYt"),g=n("qFEQ"),v=n("bFHC"),h=n("Jb3d"),y=n("GAih"),F=n("hcP7");function Z(e,t){if(1&e){var n=i.bc();i.ac(0,"button",4),i.ic("click",(function(){return i.zc(n),i.mc().navigateUp()})),i.ac(1,"mat-icon"),i.Hc(2," arrow_back "),i.Zb(),i.Zb()}}function k(e,t){if(1&e&&(i.ac(0,"span",15),i.Hc(1),i.Zb()),2&e){var n=i.mc();i.Ib(1),i.Jc("",n.selected.length," File(s) Selected")}}function I(e,t){if(1&e){var n=i.bc();i.ac(0,"button",4),i.ic("click",(function(){return i.zc(n),i.mc().selected=[]})),i.ac(1,"mat-icon"),i.Hc(2," clear "),i.Zb(),i.Zb()}}function w(e,t){1&e&&(i.ac(0,"mat-icon",21),i.Hc(1," folder "),i.Zb())}function M(e,t){1&e&&(i.ac(0,"mat-icon",21),i.Hc(1," insert_drive_file "),i.Zb())}var C=function(e){return{element:e}},_=function(e){return{"background-color":e}};function E(e,t){if(1&e){var n=i.bc();i.ac(0,"div",16),i.Vb(1,"span",17,18),i.ac(3,"div",19),i.ic("click",(function(e){i.zc(n);var c=t.$implicit;return i.mc().navigate(c,e)}))("contextmenu",(function(e){return i.zc(n),i.xc(2).openMenu(),e.preventDefault()})),i.Fc(4,w,2,0,"mat-icon",20),i.Fc(5,M,2,0,"mat-icon",20),i.ac(6,"span"),i.Hc(7),i.Zb(),i.Zb(),i.Zb()}if(2&e){var c=t.$implicit,a=i.mc(),r=i.xc(18);i.Ib(1),i.rc("matMenuTriggerFor",r)("matMenuTriggerData",i.uc(6,C,c)),i.Ib(2),i.rc("ngStyle",i.uc(8,_,a.selected.includes(c)?"grey":"")),i.Ib(1),i.rc("ngIf",c.isFolder),i.Ib(1),i.rc("ngIf",!c.isFolder),i.Ib(2),i.Ic(c.name)}}function H(e,t){if(1&e){var n=i.bc();i.ac(0,"button",24),i.ic("click",(function(){i.zc(n);var e=i.mc().element;return i.mc().encrypt(e)})),i.ac(1,"mat-icon"),i.Hc(2,"lock"),i.Zb(),i.ac(3,"span"),i.Hc(4,"Encrypt"),i.Zb(),i.Zb()}}function x(e,t){if(1&e){var n=i.bc();i.ac(0,"button",24),i.ic("click",(function(){i.zc(n);var e=i.mc().element;return i.mc().decrypt(e)})),i.ac(1,"mat-icon"),i.Hc(2,"lock_open"),i.Zb(),i.ac(3,"span"),i.Hc(4,"Decrypt"),i.Zb(),i.Zb()}}var O=function(e){return{self:e}};function T(e,t){if(1&e){var n=i.bc();i.ac(0,"button",22),i.ac(1,"mat-icon"),i.Hc(2,"open_with"),i.Zb(),i.ac(3,"span"),i.Hc(4,"Move To"),i.Zb(),i.Zb(),i.ac(5,"button",23),i.ic("click",(function(){i.zc(n);var e=t.element;return i.mc().openRenameDialog(e)})),i.ac(6,"mat-icon"),i.Hc(7,"edit"),i.Zb(),i.ac(8,"span"),i.Hc(9,"Rename"),i.Zb(),i.Zb(),i.ac(10,"button",24),i.ic("click",(function(){i.zc(n);var e=t.element;return i.mc().deleteElement(e)})),i.ac(11,"mat-icon"),i.Hc(12,"delete"),i.Zb(),i.ac(13,"span"),i.Hc(14,"Delete"),i.Zb(),i.Zb(),i.Fc(15,H,5,0,"button",25),i.Fc(16,x,5,0,"button",25)}if(2&e){var c=t.element,a=i.mc(),r=i.xc(21);i.rc("matMenuTriggerFor",r)("matMenuTriggerData",i.uc(5,O,c)),i.Ib(5),i.rc("disabled",a.selected.length>0),i.Ib(10),i.rc("ngIf",!c.isFolder),i.Ib(1),i.rc("ngIf",!c.isFolder)}}function D(e,t){if(1&e){var n=i.bc();i.ac(0,"button",24),i.ic("click",(function(){i.zc(n);var e=i.mc().$implicit,t=i.mc().self;return i.mc().moveElement(t,e)})),i.Hc(1),i.Zb()}if(2&e){var c=i.mc().$implicit;i.Ib(1),i.Jc(" ",c.name," ")}}function A(e,t){if(1&e&&(i.Yb(0),i.Fc(1,D,2,1,"button",25),i.Xb()),2&e){var n=t.$implicit,c=i.mc().self,a=i.mc();i.Ib(1),i.rc("ngIf",n.isFolder&&n.id!==c.id&&!a.selected.includes(n))}}function N(e,t){if(1&e&&i.Fc(0,A,2,1,"ng-container",26),2&e){var n=i.mc();i.rc("ngForOf",n._fileElements)}}function U(e,t){if(1&e){var n=i.bc();i.ac(0,"ngx-file-drop",27),i.ic("onFileDrop",(function(e){i.zc(n);var t=i.mc();return t.dropped(e),t.dragged=!1}))("onFileOver",(function(e){return i.zc(n),i.mc().fileOver(e)}))("onFileLeave",(function(e){i.zc(n);var t=i.mc();return t.fileLeave(e),t.dragged=!1})),i.Zb()}}var z,R=((z=function(){function e(t){_classCallCheck(this,e),this.dialog=t,this.selected=[],this._fileElements=[],this.folderAdded=new i.q,this.filesUploaded=new i.q,this.elementRemoved=new i.q,this.elementRenamed=new i.q,this.elementMoved=new i.q,this.navigatedDown=new i.q,this.fileSelected=new i.q,this.navigatedUp=new i.q,this.encryptEmitter=new i.q,this.decryptEmitter=new i.q}return _createClass(e,[{key:"deleteElement",value:function(e){var t=this;this.selected.length?(this.selected.includes(e)||this.selected.push(e),this.selected.forEach((function(e){t.elementRemoved.emit(e)}))):this.elementRemoved.emit(e)}},{key:"navigate",value:function(e,t){t.ctrlKey?this.selected=this.toggleInArray(this.selected,e):(this.selected=[],e.isFolder?this.navigatedDown.emit(e):this.fileSelected.emit(e))}},{key:"navigateUp",value:function(){this.navigatedUp.emit()}},{key:"moveElement",value:function(e,t){var n=this;this.selected.length?(this.selected.includes(e)||this.selected.push(e),this.selected.forEach((function(e){n.elementMoved.emit({element:e,moveTo:t})}))):this.elementMoved.emit({element:e,moveTo:t})}},{key:"openNewFolderDialog",value:function(){var e=this;this.dialog.open(f).afterClosed().subscribe((function(t){t&&e.folderAdded.emit({name:t})}))}},{key:"openRenameDialog",value:function(e){var t=this;this.dialog.open(m).afterClosed().subscribe((function(n){n&&(e.name=n,t.elementRenamed.emit(e))}))}},{key:"openMenu",value:function(e,t,n){e.preventDefault(),n.openMenu()}},{key:"uploadFile",value:function(e){for(var t=e.srcElement.files,n=[],c=0;c<t.length;c++){var a=t[c],i=new r.a;i.actualFile=a,i.isFolder=!1,i.name=a.name,n.push(i)}this.filesUploaded.emit(n)}},{key:"dropped",value:function(e,t){var n,c=this,a=[],i=e.length,o=0,l=_createForOfIteratorHelper(e);try{var u=function(){var e=n.value;e.fileEntry.isFile&&e.fileEntry.file((function(t){var n=e.relativePath,l=n.split("/");l.pop(),n=l.join("/"),o++;var u=new r.a;u.actualFile=t,u.isFolder=!1,u.name=t.name,u.parent=n,a.push(u),o===i&&c.filesUploaded.emit(a)}))};for(l.s();!(n=l.n()).done;)u()}catch(d){l.e(d)}finally{l.f()}}},{key:"fileOver",value:function(e){}},{key:"fileLeave",value:function(e){}},{key:"encrypt",value:function(e){this.encryptEmitter.emit(e)}},{key:"decrypt",value:function(e){this.decryptEmitter.emit(e)}},{key:"toggleInArray",value:function(e,t){var n=e.indexOf(t);return-1===n?e.push(t):e.splice(n,1),e}},{key:"fileElements",set:function(e){this._fileElements=e,this.selected=[]}}]),e}()).\u0275fac=function(e){return new(e||z)(i.Ub(o.a))},z.\u0275cmp=i.Ob({type:z,selectors:[["rms-file-explorer"]],inputs:{fileElements:"fileElements",canNavigateUp:"canNavigateUp",path:"path"},outputs:{folderAdded:"folderAdded",filesUploaded:"filesUploaded",elementRemoved:"elementRemoved",elementRenamed:"elementRenamed",elementMoved:"elementMoved",navigatedDown:"navigatedDown",fileSelected:"fileSelected",navigatedUp:"navigatedUp",encryptEmitter:"encryptEmitter",decryptEmitter:"decryptEmitter"},decls:26,vars:7,consts:[[3,"dragover"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","1 1 auto"],["class","small-font",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"container"],["fxFlex","","fxLayout","row wrap",1,"content"],["class","file-or-folder",4,"ngFor","ngForOf"],[3,"overlapTrigger"],["rootMenu","matMenu"],["matMenuContent",""],["moveToMenu","matMenu"],["dropZoneLabel","Drop files here","dropZoneClassName","drop-area","contentClassName","drop-content",3,"onFileDrop","onFileOver","onFileLeave",4,"ngIf"],["hidden","","multiple","","type","file",3,"change"],["uploader",""],[1,"small-font"],[1,"file-or-folder"],[3,"matMenuTriggerFor","matMenuTriggerData"],["menuTrigger","matMenuTrigger"],["fxFlex","","fxLayout","column space-between",1,"element-container",3,"ngStyle","click","contextmenu"],["color","primary","class","file-or-folder-icon pointer",4,"ngIf"],["color","primary",1,"file-or-folder-icon","pointer"],["mat-menu-item","",3,"matMenuTriggerFor","matMenuTriggerData"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["dropZoneLabel","Drop files here","dropZoneClassName","drop-area","contentClassName","drop-content",3,"onFileDrop","onFileOver","onFileLeave"]],template:function(e,t){if(1&e){var n=i.bc();i.ac(0,"div",0),i.ic("dragover",(function(){return t.dragged=!0})),i.ac(1,"mat-toolbar"),i.Fc(2,Z,3,0,"button",1),i.ac(3,"span"),i.Hc(4),i.Zb(),i.Vb(5,"span",2),i.Fc(6,k,2,1,"span",3),i.Fc(7,I,3,0,"button",1),i.ac(8,"button",4),i.ic("click",(function(){return t.openNewFolderDialog()})),i.ac(9,"mat-icon"),i.Hc(10," create_new_folder "),i.Zb(),i.Zb(),i.ac(11,"button",4),i.ic("click",(function(){return i.zc(n),i.xc(25).click()})),i.ac(12,"mat-icon"),i.Hc(13," cloud_upload "),i.Zb(),i.Zb(),i.Zb(),i.ac(14,"div",5),i.ac(15,"div",6),i.Fc(16,E,8,10,"div",7),i.Zb(),i.Zb(),i.ac(17,"mat-menu",8,9),i.Fc(19,T,17,7,"ng-template",10),i.Zb(),i.ac(20,"mat-menu",null,11),i.Fc(22,N,1,1,"ng-template",10),i.Zb(),i.Zb(),i.Fc(23,U,1,0,"ngx-file-drop",12),i.ac(24,"input",13,14),i.ic("change",(function(e){return t.uploadFile(e)})),i.Zb()}2&e&&(i.Ib(2),i.rc("ngIf",t.canNavigateUp),i.Ib(2),i.Jc(" ",t.path||"Files"," "),i.Ib(2),i.rc("ngIf",t.selected.length),i.Ib(1),i.rc("ngIf",t.selected.length),i.Ib(9),i.rc("ngForOf",t._fileElements),i.Ib(1),i.rc("overlapTrigger",!1),i.Ib(6),i.rc("ngIf",t.dragged))},directives:[p.a,b.k,g.a,s.a,v.a,g.b,b.j,h.e,h.a,h.d,b.l,y.a,h.b,F.a],styles:[".file-or-folder[_ngcontent-%COMP%]{padding:8px;overflow:hidden}.file-or-folder-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:50px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.element-container[_ngcontent-%COMP%]{padding:15px;width:100px;word-break:break-all}.small-font[_ngcontent-%COMP%]{font-size:small}"],changeDetection:0}),z)}}]);