function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2Xdf":function(e,t,n){"use strict";n.r(t),n.d(t,"FileExplorerComponent",(function(){return Z}));var i,o,r=n("EM62"),a=n("rQns"),c=n("OZ4H"),l=n("29Wa"),d=n("Cd2c"),u=n("nIj0"),s=n("PBFl"),f=((o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=r.Fb({type:o,selectors:[["s3-new-folder-modal"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"example-full-width"],["matInput","","placeholder","Folder Name",3,"ngModel","ngModelChange"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(r.Rb(0,"h1",0),r.xc(1,"Create a new folder"),r.Qb(),r.Rb(2,"mat-dialog-content"),r.Rb(3,"mat-form-field",1),r.Rb(4,"input",2),r.Zb("ngModelChange",(function(e){return t.folderName=e})),r.Qb(),r.Qb(),r.Qb(),r.Rb(5,"mat-dialog-actions"),r.Rb(6,"button",3),r.xc(7,"Cancel"),r.Qb(),r.Rb(8,"button",4),r.xc(9," OK "),r.Qb(),r.Qb()),2&e&&(r.zb(4),r.ic("ngModel",t.folderName),r.zb(4),r.ic("mat-dialog-close",t.folderName))},directives:[c.f,c.d,l.b,d.b,u.b,u.h,u.j,c.b,s.a,c.c],styles:[""]}),o),b=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.Fb({type:i,selectors:[["s3-rename-modal"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"example-full-width"],["matInput","","placeholder","Folder Name",3,"ngModel","ngModelChange"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(r.Rb(0,"h1",0),r.xc(1,"Rename Element"),r.Qb(),r.Rb(2,"mat-dialog-content"),r.Rb(3,"mat-form-field",1),r.Rb(4,"input",2),r.Zb("ngModelChange",(function(e){return t.folderName=e})),r.Qb(),r.Qb(),r.Qb(),r.Rb(5,"mat-dialog-actions"),r.Rb(6,"button",3),r.xc(7,"Cancel"),r.Qb(),r.Rb(8,"button",4),r.xc(9," OK "),r.Qb(),r.Qb()),2&e&&(r.zb(4),r.ic("ngModel",t.folderName),r.zb(4),r.ic("mat-dialog-close",t.folderName))},directives:[c.f,c.d,l.b,d.b,u.b,u.h,u.j,c.b,s.a,c.c],styles:[""]}),i),m=n("A7yd"),p=n("2kYt"),g=n("bFHC"),v=n("kAAd"),h=n("Jb3d"),y=n("hcP7");function R(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",5),r.Zb("click",(function(){return r.qc(n),r.dc().navigateUp()})),r.Rb(1,"mat-icon"),r.xc(2," arrow_back "),r.Qb(),r.Qb()}}function x(e,t){if(1&e&&(r.Rb(0,"span",17),r.xc(1),r.Qb()),2&e){var n=r.dc();r.zb(1),r.zc("",n.selected.length," File(s) Selected")}}function Q(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",5),r.Zb("click",(function(){return r.qc(n),r.dc().selected=[]})),r.Rb(1,"mat-icon"),r.xc(2," clear "),r.Qb(),r.Qb()}}function k(e,t){1&e&&(r.Rb(0,"mat-icon",23),r.xc(1," folder "),r.Qb())}function w(e,t){1&e&&(r.Rb(0,"mat-icon",23),r.xc(1," insert_drive_file "),r.Qb())}var F=function(e){return{element:e}},M=function(e){return{"background-color":e}};function C(e,t){if(1&e){var n=r.Sb();r.Rb(0,"mat-grid-tile",18),r.Mb(1,"span",19,20),r.Rb(3,"div",21),r.Zb("click",(function(e){r.qc(n);var i=t.$implicit;return r.dc().navigate(i,e)}))("contextmenu",(function(e){return r.qc(n),r.oc(2).openMenu(),e.preventDefault()})),r.vc(4,k,2,0,"mat-icon",22),r.vc(5,w,2,0,"mat-icon",22),r.Rb(6,"span"),r.xc(7),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit,o=r.dc(),a=r.oc(19);r.zb(1),r.ic("matMenuTriggerFor",a)("matMenuTriggerData",r.lc(6,F,i)),r.zb(2),r.ic("ngStyle",r.lc(8,M,o.selected.includes(i)?"grey":"")),r.zb(1),r.ic("ngIf",i.isFolder),r.zb(1),r.ic("ngIf",!i.isFolder),r.zb(2),r.yc(i.name)}}function _(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",26),r.Zb("click",(function(){r.qc(n);var e=r.dc().element;return r.dc().encrypt(e)})),r.Rb(1,"mat-icon"),r.xc(2,"lock"),r.Qb(),r.Rb(3,"span"),r.xc(4,"Encrypt"),r.Qb(),r.Qb()}}function E(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",26),r.Zb("click",(function(){r.qc(n);var e=r.dc().element;return r.dc().decrypt(e)})),r.Rb(1,"mat-icon"),r.xc(2,"lock_open"),r.Qb(),r.Rb(3,"span"),r.xc(4,"Decrypt"),r.Qb(),r.Qb()}}var z=function(e){return{self:e}};function I(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",24),r.Rb(1,"mat-icon"),r.xc(2,"open_with"),r.Qb(),r.Rb(3,"span"),r.xc(4,"Move To"),r.Qb(),r.Qb(),r.Rb(5,"button",25),r.Zb("click",(function(){r.qc(n);var e=t.element;return r.dc().openRenameDialog(e)})),r.Rb(6,"mat-icon"),r.xc(7,"edit"),r.Qb(),r.Rb(8,"span"),r.xc(9,"Rename"),r.Qb(),r.Qb(),r.Rb(10,"button",26),r.Zb("click",(function(){r.qc(n);var e=t.element;return r.dc().deleteElement(e)})),r.Rb(11,"mat-icon"),r.xc(12,"delete"),r.Qb(),r.Rb(13,"span"),r.xc(14,"Delete"),r.Qb(),r.Qb(),r.vc(15,_,5,0,"button",27),r.vc(16,E,5,0,"button",27)}if(2&e){var i=t.element,o=r.dc(),a=r.oc(22);r.ic("matMenuTriggerFor",a)("matMenuTriggerData",r.lc(5,z,i)),r.zb(5),r.ic("disabled",o.selected.length>0),r.zb(10),r.ic("ngIf",!i.isFolder),r.zb(1),r.ic("ngIf",!i.isFolder)}}function O(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",26),r.Zb("click",(function(){r.qc(n);var e=r.dc().$implicit,t=r.dc().self;return r.dc().moveElement(t,e)})),r.xc(1),r.Qb()}if(2&e){var i=r.dc().$implicit;r.zb(1),r.zc(" ",i.name," ")}}function T(e,t){if(1&e&&(r.Pb(0),r.vc(1,O,2,1,"button",27),r.Ob()),2&e){var n=t.$implicit,i=r.dc().self,o=r.dc();r.zb(1),r.ic("ngIf",n.isFolder&&n.id!==i.id&&!o.selected.includes(n))}}function D(e,t){if(1&e&&r.vc(0,T,2,1,"ng-container",28),2&e){var n=r.dc();r.ic("ngForOf",n._fileElements)}}function S(e,t){if(1&e){var n=r.Sb();r.Rb(0,"ngx-file-drop",29),r.Zb("onFileDrop",(function(e){r.qc(n);var t=r.dc();return t.dropped(e),t.dragged=!1}))("onFileOver",(function(e){return r.qc(n),r.dc().fileOver(e)}))("onFileLeave",(function(e){r.qc(n);var t=r.dc();return t.fileLeave(e),t.dragged=!1})),r.Qb()}}var A,Z=((A=function(){function e(t){_classCallCheck(this,e),this.dialog=t,this.selected=[],this._fileElements=[],this.folderAdded=new r.m,this.filesUploaded=new r.m,this.elementRemoved=new r.m,this.elementRenamed=new r.m,this.elementMoved=new r.m,this.navigatedDown=new r.m,this.fileSelected=new r.m,this.navigatedUp=new r.m,this.encryptEmitter=new r.m,this.decryptEmitter=new r.m}return _createClass(e,[{key:"deleteElement",value:function(e){var t=this;this.selected.length?(this.selected.includes(e)||this.selected.push(e),this.selected.forEach((function(e){t.elementRemoved.emit(e)}))):this.elementRemoved.emit(e)}},{key:"navigate",value:function(e,t){t.ctrlKey?this.selected=this.toggleInArray(this.selected,e):(this.selected=[],e.isFolder?this.navigatedDown.emit(e):this.fileSelected.emit(e))}},{key:"navigateUp",value:function(){this.navigatedUp.emit()}},{key:"moveElement",value:function(e,t){var n=this;this.selected.length?(this.selected.includes(e)||this.selected.push(e),this.selected.forEach((function(e){n.elementMoved.emit({element:e,moveTo:t})}))):this.elementMoved.emit({element:e,moveTo:t})}},{key:"openNewFolderDialog",value:function(){var e=this;this.dialog.open(f).afterClosed().subscribe((function(t){t&&e.folderAdded.emit({name:t})}))}},{key:"openRenameDialog",value:function(e){var t=this;this.dialog.open(b).afterClosed().subscribe((function(n){n&&(e.name=n,t.elementRenamed.emit(e))}))}},{key:"openMenu",value:function(e,t,n){e.preventDefault(),n.openMenu()}},{key:"uploadFile",value:function(e){for(var t=e.srcElement.files,n=[],i=0;i<t.length;i++){var o=t[i],r=new a.a;r.actualFile=o,r.isFolder=!1,r.name=o.name,n.push(r)}this.filesUploaded.emit(n)}},{key:"dropped",value:function(e,t){var n,i=this,o=[],r=e.length,c=0,l=_createForOfIteratorHelper(e);try{var d=function(){var e=n.value;e.fileEntry.isFile&&e.fileEntry.file((function(t){var n=e.relativePath,l=n.split("/");l.pop(),n=l.join("/"),c++;var d=new a.a;d.actualFile=t,d.isFolder=!1,d.name=t.name,d.parent=n,o.push(d),c===r&&i.filesUploaded.emit(o)}))};for(l.s();!(n=l.n()).done;)d()}catch(u){l.e(u)}finally{l.f()}}},{key:"fileOver",value:function(e){}},{key:"fileLeave",value:function(e){}},{key:"encrypt",value:function(e){this.encryptEmitter.emit(e)}},{key:"decrypt",value:function(e){this.decryptEmitter.emit(e)}},{key:"toggleInArray",value:function(e,t){var n=e.indexOf(t);return-1===n?e.push(t):e.splice(n,1),e}},{key:"fileElements",set:function(e){this._fileElements=e,this.selected=[]}}]),e}()).\u0275fac=function(e){return new(e||A)(r.Lb(c.a))},A.\u0275cmp=r.Fb({type:A,selectors:[["rms-file-explorer"]],inputs:{fileElements:"fileElements",canNavigateUp:"canNavigateUp",path:"path"},outputs:{folderAdded:"folderAdded",filesUploaded:"filesUploaded",elementRemoved:"elementRemoved",elementRenamed:"elementRenamed",elementMoved:"elementMoved",navigatedDown:"navigatedDown",fileSelected:"fileSelected",navigatedUp:"navigatedUp",encryptEmitter:"encryptEmitter",decryptEmitter:"decryptEmitter"},decls:27,vars:7,consts:[[3,"dragover"],["mat-icon-button","",3,"click",4,"ngIf"],[2,"margin-left","8px"],[1,"spacer"],["style","font-size: small;",4,"ngIf"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between stretch",1,"container"],["fxFlex","","fxLayout","row",1,"content"],["cols","8","rowHeight","100px","fxFlex",""],["class","file-or-folder",4,"ngFor","ngForOf"],[3,"overlapTrigger"],["rootMenu","matMenu"],["matMenuContent",""],["moveToMenu","matMenu"],["dropZoneLabel","Drop files here","dropZoneClassName","drop-area","contentClassName","drop-content",3,"onFileDrop","onFileOver","onFileLeave",4,"ngIf"],["hidden","","multiple","","type","file",3,"change"],["uploader",""],[2,"font-size","small"],[1,"file-or-folder"],[3,"matMenuTriggerFor","matMenuTriggerData"],["menuTrigger","matMenuTrigger"],[1,"element-container",3,"ngStyle","click","contextmenu"],["color","primary","class","file-or-folder-icon pointer",4,"ngIf"],["color","primary",1,"file-or-folder-icon","pointer"],["mat-menu-item","",3,"matMenuTriggerFor","matMenuTriggerData"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["dropZoneLabel","Drop files here","dropZoneClassName","drop-area","contentClassName","drop-content",3,"onFileDrop","onFileOver","onFileLeave"]],template:function(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div",0),r.Zb("dragover",(function(){return t.dragged=!0})),r.Rb(1,"mat-toolbar"),r.vc(2,R,3,0,"button",1),r.Rb(3,"span",2),r.xc(4),r.Qb(),r.Mb(5,"span",3),r.vc(6,x,2,1,"span",4),r.vc(7,Q,3,0,"button",1),r.Rb(8,"button",5),r.Zb("click",(function(){return t.openNewFolderDialog()})),r.Rb(9,"mat-icon"),r.xc(10," create_new_folder "),r.Qb(),r.Qb(),r.Rb(11,"button",5),r.Zb("click",(function(){return r.qc(n),r.oc(26).click()})),r.Rb(12,"mat-icon"),r.xc(13," cloud_upload "),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"div",6),r.Rb(15,"div",7),r.Rb(16,"mat-grid-list",8),r.vc(17,C,8,10,"mat-grid-tile",9),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"mat-menu",10,11),r.vc(20,I,17,7,"ng-template",12),r.Qb(),r.Rb(21,"mat-menu",null,13),r.vc(23,D,1,1,"ng-template",12),r.Qb(),r.Qb(),r.vc(24,S,1,0,"ngx-file-drop",14),r.Rb(25,"input",15,16),r.Zb("change",(function(e){return t.uploadFile(e)})),r.Qb()}2&e&&(r.zb(2),r.ic("ngIf",t.canNavigateUp),r.zb(2),r.zc(" ",t.path||"Files"," "),r.zb(2),r.ic("ngIf",t.selected.length),r.zb(1),r.ic("ngIf",t.selected.length),r.zb(10),r.ic("ngForOf",t._fileElements),r.zb(1),r.ic("overlapTrigger",!1),r.zb(6),r.ic("ngIf",t.dragged))},directives:[m.a,p.g,s.a,g.a,v.a,p.f,h.e,h.a,v.c,h.d,p.h,h.b,y.a],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.file-or-folder[_ngcontent-%COMP%]{padding:8px;overflow:hidden}.file-or-folder-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:50px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.element-container[_ngcontent-%COMP%]{display:flex;align-content:space-between;flex-direction:column;padding:15px;word-break:break-all;overflow-y:hidden;height:60px}"],changeDetection:0}),A)}}]);