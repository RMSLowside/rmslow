function _createSuper(t){return function(){var e,n=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"Z+F6":function(t,e,n){"use strict";n.r(e),n.d(e,"RouteTwoModule",(function(){return dt}));var r,o,i,a=n("2kYt"),c=n("sEIs"),s=n("D57K"),l=n("MJ1a"),u=n("yDe4"),f=n("IdLP"),p=n("8htw"),h=n("LTOS"),m=n("nIj0"),b=n("EM62"),d=((r=function t(){_classCallCheck(this,t)}).\u0275mod=b.Sb({type:r}),r.\u0275inj=b.Rb({factory:function(t){return new(t||r)},imports:[[h.c,a.c]]}),r),y=n("OZ4H"),v=n("PBFl"),g=((o=function(){function t(e,n){_classCallCheck(this,t),this.dialogRef=e,this.data=n,this.title=n.title,this.message=n.message}return _createClass(t,[{key:"onConfirm",value:function(){this.dialogRef.close(!0)}},{key:"onDismiss",value:function(){this.dialogRef.close(!1)}}]),t}()).\u0275fac=function(t){return new(t||o)(b.Ub(y.g),b.Ub(y.a))},o.\u0275cmp=b.Ob({type:o,selectors:[["rms-frontend-confirmation-modal"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"innerHtml"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(b.ac(0,"h1",0),b.Kc(1),b.Zb(),b.ac(2,"div",1),b.Vb(3,"p",2),b.Zb(),b.ac(4,"div",3),b.ac(5,"button",4),b.ic("click",(function(){return e.onDismiss()})),b.Kc(6,"No"),b.Zb(),b.ac(7,"button",5),b.ic("click",(function(){return e.onConfirm()})),b.Kc(8,"Yes"),b.Zb(),b.Zb()),2&t&&(b.Ib(1),b.Mc(" ",e.title,"\n"),b.Ib(2),b.tc("innerHtml",e.message,b.Cc))},directives:[y.h,y.e,y.c,v.a],styles:[""]}),o),C=function t(e,n){_classCallCheck(this,t),this.title=e,this.message=n},_=((i=function t(){_classCallCheck(this,t)}).\u0275mod=b.Sb({type:i}),i.\u0275inj=b.Rb({factory:function(t){return new(t||i)},imports:[[a.c,h.c,m.s,d]]}),i),k=n("qFEQ"),I=n("bFHC"),w=n("nsO7"),O=n("29Wa"),Z=n("R7+U"),F=n("mFH5");function x(t,e){if(1&t){var n=b.bc();b.ac(0,"button",10),b.ic("click",(function(){b.Bc(n);var t=b.mc().$implicit;return b.mc().confirmDialog([t])})),b.ac(1,"mat-icon"),b.Kc(2,"reply"),b.Zb(),b.Zb()}}function D(t,e){if(1&t&&(b.ac(0,"div",5),b.ac(1,"span"),b.ac(2,"strong",6),b.Kc(3),b.Zb(),b.Zb(),b.Vb(4,"span",7),b.ac(5,"mat-icon",8),b.Kc(6,"arrow_forward"),b.Zb(),b.Vb(7,"span",7),b.Vb(8,"span",2),b.Ic(9,x,3,0,"button",9),b.Zb()),2&t){var n=e.$implicit,r=e.first,o=e.last;b.Ib(3),b.Mc("",n.field,":"),b.Ib(1),b.tc("innerHTML",n.oldValue||"<em>Blank</em>",b.Cc),b.Ib(1),b.tc("inline",!0),b.Ib(2),b.tc("innerHTML",n.newValue||"<em>Blank</em>",b.Cc),b.Ib(2),b.tc("ngIf",!(r&&o))}}var q,S=((q=function(){function t(e){_classCallCheck(this,t),this.dialog=e,this.revertChange=new b.q}return _createClass(t,[{key:"emit",value:function(t){this.revertChange.emit(t)}},{key:"trackByIndex",value:function(t){return t}},{key:"confirmDialog",value:function(t){var e=this,n="You are about to revert ";t.forEach((function(e,r){n+="<strong>".concat(e.field,"</strong> to ").concat(e.oldValue||"<em>Blank</em>"," "),r!=t.length-1&&(n+="and ")}));var r=new C("Confirm Revert",n+=". Do you want to continue?");this.dialog.open(g,{maxWidth:"400px",data:r}).afterClosed().subscribe((function(n){n&&e.emit(t)}))}}]),t}()).\u0275fac=function(t){return new(t||q)(b.Ub(y.b))},q.\u0275cmp=b.Ob({type:q,selectors:[["rms-frontend-history-segment"]],inputs:{histories:"histories",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:16,vars:9,consts:[["fxLayout","column"],["fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 1 auto"],["mat-icon-button","","title","Revert all changes in set",3,"click"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","class","change-segment",4,"ngFor","ngForOf","ngForTrackBy"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"change-segment"],[2,"padding-right","5px","padding-left","10px"],[3,"innerHTML"],["aria-hidden","false","aria-label","Arrow Icon",1,"icon",3,"inline"],["mat-icon-button","","style","padding-right: 50px;","title","Revert change",3,"click",4,"ngIf"],["mat-icon-button","","title","Revert change",2,"padding-right","50px",3,"click"]],template:function(t,e){1&t&&(b.ac(0,"div",0),b.ac(1,"div",1),b.ac(2,"span"),b.ac(3,"strong"),b.Kc(4),b.Zb(),b.Kc(5," updated "),b.ac(6,"strong"),b.Kc(7),b.Zb(),b.Kc(8),b.nc(9,"date"),b.Zb(),b.Vb(10,"span",2),b.ac(11,"button",3),b.ic("click",(function(){return e.confirmDialog(e.histories)})),b.ac(12,"mat-icon"),b.Kc(13,"reply_all"),b.Zb(),b.Zb(),b.Zb(),b.ac(14,"div",0),b.Ic(15,D,10,5,"div",4),b.Zb(),b.Zb()),2&t&&(b.Ib(4),b.Lc(e.histories[0].user),b.Ib(3),b.Lc(e.histories.length),b.Ib(1),b.Nc(" ",e.histories.length>1?"fields":"field"," ",b.pc(9,6,e.histories[0].date,"medium")," "),b.Ib(7),b.tc("ngForOf",e.histories)("ngForTrackBy",e.trackByIndex))},directives:[k.c,k.b,k.a,v.a,I.a,a.k,a.l],pipes:[a.e],styles:[".segment[_ngcontent-%COMP%]{margin:10px;background-color:var(--alternate-card-color)}.icon[_ngcontent-%COMP%], .segment[_ngcontent-%COMP%]{font-size:large}.icon[_ngcontent-%COMP%]{margin:5px}.change-segment[_ngcontent-%COMP%]{margin-top:-10px}"]}),q);function K(t,e){if(1&t&&(b.ac(0,"mat-option",5),b.Kc(1),b.Zb()),2&t){var n=e.$implicit;b.tc("value",n),b.Ib(1),b.Lc(n)}}function E(t,e){if(1&t&&(b.ac(0,"mat-option",5),b.Kc(1),b.Zb()),2&t){var n=e.$implicit;b.tc("value",n),b.Ib(1),b.Lc(n)}}function R(t,e){if(1&t){var n=b.bc();b.ac(0,"div"),b.ac(1,"rms-frontend-history-segment",7),b.ic("revertChange",(function(t){return b.Bc(n),b.mc().revertChange.emit(t)})),b.Zb(),b.Vb(2,"hr"),b.Zb()}if(2&t){var r=e.$implicit,o=b.mc();b.Ib(1),b.tc("histories",r)("canEdit",o.canEdit)}}var L,T,j,P=((T=function(){function t(){_classCallCheck(this,t),this.revertChange=new b.q,this.fieldFilter=new m.e,this.userFilter=new m.e,this.sort=new m.e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getFilter",value:function(t){return _toConsumableArray(new Set(this.histories.map((function(e){return e[t]}))))}},{key:"filterHistories",value:function(){var t=this.histories,e=this.fieldFilter.value,n=this.userFilter.value;(null==e?void 0:e.length)&&(t=t.filter((function(t){return e.includes(t.field)}))),(null==n?void 0:n.length)&&(t=t.filter((function(t){return n.includes(t.user)})));var r=[],o=[];return t.forEach((function(e,n){0===n||o.length&&o[0].date===e.date?o.push(e):(r.push(w.cloneDeep(o)),o=[e]),n===t.length-1&&r.push(w.cloneDeep(o))})),"desc"===this.sort.value?r.reverse():r}},{key:"trackByIndex",value:function(t,e){return t}}]),t}()).\u0275fac=function(t){return new(t||T)},T.\u0275cmp=b.Ob({type:T,selectors:[["rms-frontend-history-list"]],inputs:{histories:"histories",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:21,vars:10,consts:[["fxFlex","","flexlayout","column"],[1,"filters"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"formControl","value"],[3,"value"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"histories","canEdit","revertChange"]],template:function(t,e){1&t&&(b.ac(0,"div",0),b.ac(1,"span"),b.ac(2,"mat-form-field",1),b.ac(3,"mat-label"),b.Kc(4,"Field"),b.Zb(),b.ac(5,"mat-select",2),b.Ic(6,K,2,2,"mat-option",3),b.Zb(),b.Zb(),b.ac(7,"mat-form-field",1),b.ac(8,"mat-label"),b.Kc(9,"User"),b.Zb(),b.ac(10,"mat-select",2),b.Ic(11,E,2,2,"mat-option",3),b.Zb(),b.Zb(),b.ac(12,"mat-form-field",1),b.ac(13,"mat-label"),b.Kc(14,"Sort"),b.Zb(),b.ac(15,"mat-select",4),b.ac(16,"mat-option",5),b.Kc(17," Least Recent"),b.Zb(),b.ac(18,"mat-option",5),b.Kc(19," Most Recent"),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.Ic(20,R,3,2,"div",6),b.Zb()),2&t&&(b.Ib(5),b.tc("formControl",e.fieldFilter),b.Ib(1),b.tc("ngForOf",e.getFilter("field")),b.Ib(4),b.tc("formControl",e.userFilter),b.Ib(1),b.tc("ngForOf",e.getFilter("user")),b.Ib(4),b.tc("formControl",e.sort)("value","asc"),b.Ib(1),b.tc("value","asc"),b.Ib(2),b.tc("value","desc"),b.Ib(2),b.tc("ngForOf",e.filterHistories())("ngForTrackBy",e.trackByIndex))},directives:[k.a,O.b,O.e,Z.a,m.o,m.f,a.k,F.n,S],styles:[".filters[_ngcontent-%COMP%]{width:100px;margin-left:15px;margin-right:15px}"]}),T),A=((L=function(){function t(){_classCallCheck(this,t),this.revertChange=new b.q}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"emit",value:function(t){this.revertChange.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||L)},L.\u0275cmp=b.Ob({type:L,selectors:[["rms-frontend-history-modal"]],outputs:{revertChange:"revertChange"},decls:10,vars:4,consts:[["fxLayout","row"],["mat-dialog-title",""],["fxFlex","1 1 auto"],["mat-icon-button","","mat-dialog-close",""],[3,"histories","canEdit","revertChange"]],template:function(t,e){1&t&&(b.ac(0,"div",0),b.ac(1,"h1",1),b.Kc(2,"History"),b.Zb(),b.Vb(3,"span",2),b.ac(4,"button",3),b.ac(5,"mat-icon"),b.Kc(6," close "),b.Zb(),b.Zb(),b.Zb(),b.ac(7,"mat-dialog-content"),b.ac(8,"rms-frontend-history-list",4),b.ic("revertChange",(function(t){return e.emit(t)})),b.nc(9,"async"),b.Zb(),b.Zb()),2&t&&(b.Ib(8),b.tc("histories",b.oc(9,2,e.histories))("canEdit",e.canEdit))},directives:[k.c,y.h,k.a,v.a,y.d,I.a,y.e,P],pipes:[a.b],styles:[""]}),L),V=n("ZTXN"),M=n("Ohay"),H=n("kuMc"),G=n("mWib"),U=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Status"}}]),t}(),$=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Value"}}]),t}(),B=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form"}}]),t}(),N=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Dirty"}}]),t}(),z=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Errors"}}]),t}(),W=((j=function(){function t(e,n,r){_classCallCheck(this,t),this._store=e,this._formGroupDirective=n,this._cd=r,this.path=null,this.debounce=100,this.clearDestroy=!1,this._destroy$=new V.a,this._updating=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.getStateStream("".concat(this.path,".model")).subscribe((function(e){!t._updating&&e&&(t.form.patchValue(e),t._cd.markForCheck())})),this.getStateStream("".concat(this.path,".dirty")).subscribe((function(e){t.form.dirty!==e&&"boolean"==typeof e&&(e?t.form.markAsDirty():t.form.markAsPristine(),t._cd.markForCheck())})),this._store.selectOnce((function(e){return Object(u.m)(e,t.path)})).subscribe((function(){t._store.dispatch([new $({path:t.path,value:t.form.getRawValue()}),new U({path:t.path,status:t.form.status}),new N({path:t.path,dirty:t.form.dirty})])})),this.getStateStream("".concat(this.path,".disabled")).subscribe((function(e){t.form.disabled!==e&&"boolean"==typeof e&&(e?t.form.disable():t.form.enable(),t._cd.markForCheck())})),this._formGroupDirective.valueChanges.pipe(this.debounceChange()).subscribe((function(){var e=t._formGroupDirective.control.getRawValue();t._updating=!0,t._store.dispatch([new $({path:t.path,value:e}),new N({path:t.path,dirty:t._formGroupDirective.dirty}),new z({path:t.path,errors:t._formGroupDirective.errors})]).subscribe({error:function(){return t._updating=!1},complete:function(){return t._updating=!1}})})),this._formGroupDirective.statusChanges.pipe(Object(M.a)(),this.debounceChange()).subscribe((function(e){t._store.dispatch(new U({status:e,path:t.path}))}))}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this.clearDestroy&&this._store.dispatch(new B({path:this.path,value:null,dirty:null,status:null,errors:null}))}},{key:"debounceChange",value:function(){var t=this;return"change"!==this._formGroupDirective.control.updateOn||this.debounce<0?function(e){return e.pipe(Object(H.a)(t._destroy$))}:function(e){return e.pipe(Object(G.a)(t.debounce),Object(H.a)(t._destroy$))}}},{key:"getStateStream",value:function(t){return this._store.select((function(e){return Object(u.m)(e,t)})).pipe(Object(H.a)(this._destroy$))}},{key:"form",get:function(){return this._formGroupDirective.form}}]),t}()).\u0275fac=function(t){return new(t||j)(b.Ub(u.i),b.Ub(m.i),b.Ub(b.i))},j.\u0275dir=b.Pb({type:j,selectors:[["","ngxsForm",""]],inputs:{path:["ngxsForm","path"],debounce:["ngxsFormDebounce","debounce"],clearDestroy:["ngxsFormClearOnDestroy","clearDestroy"]}}),j),J=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.value=e.value,this.key=e.key||"",this.label=e.label||"",this.required=!!e.required,this.order=void 0===e.order?1:e.order,this.controlType=e.controlType||"",this.type=e.type||""},Q=n("Cd2c");function Y(t,e){if(1&t&&(b.ac(0,"mat-form-field"),b.ac(1,"mat-label"),b.Kc(2),b.Zb(),b.Vb(3,"input",4),b.Zb()),2&t){var n=b.mc();b.Ib(2),b.Lc(n.question.label),b.Ib(1),b.tc("placeholder",n.question.label)("id",n.question.key)("type",n.question.type)("formControlName",n.question.key)}}function X(t,e){if(1&t&&(b.ac(0,"mat-option",7),b.Kc(1),b.Zb()),2&t){var n=e.$implicit;b.tc("value",n.key),b.Ib(1),b.Mc(" ",n.value," ")}}function tt(t,e){if(1&t&&(b.ac(0,"mat-form-field"),b.ac(1,"mat-label"),b.Kc(2),b.Zb(),b.ac(3,"mat-select",5),b.Ic(4,X,2,2,"mat-option",6),b.Zb(),b.Zb()),2&t){var n=b.mc();b.Ib(2),b.Lc(n.question.label),b.Ib(1),b.tc("formControlName",n.question.key),b.Ib(1),b.tc("ngForOf",n.question.options)}}function et(t,e){if(1&t&&(b.ac(0,"div",8),b.Kc(1),b.Zb()),2&t){var n=b.mc();b.Ib(1),b.Mc(" ",n.question.label," is required ")}}var nt,rt=((nt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isValid",get:function(){return this.form.controls[this.question.key].valid}}]),t}()).\u0275fac=function(t){return new(t||nt)},nt.\u0275cmp=b.Ob({type:nt,selectors:[["app-question"]],inputs:{question:"question",form:"form"},decls:5,vars:5,consts:[[3,"formGroup"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","errorMessage",4,"ngIf"],["matInput","",3,"placeholder","id","type","formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"errorMessage"]],template:function(t,e){1&t&&(b.ac(0,"div",0),b.ac(1,"div",1),b.Ic(2,Y,4,5,"mat-form-field",2),b.Ic(3,tt,5,3,"mat-form-field",2),b.Zb(),b.Ic(4,et,2,1,"div",3),b.Zb()),2&t&&(b.tc("formGroup",e.form),b.Ib(1),b.tc("ngSwitch",e.question.controlType),b.Ib(1),b.tc("ngSwitchCase","textbox"),b.Ib(1),b.tc("ngSwitchCase","dropdown"),b.Ib(1),b.tc("ngIf",!e.isValid))},directives:[m.p,m.i,a.n,a.o,a.l,O.b,O.e,Q.b,m.b,m.o,m.g,Z.a,a.k,F.n],encapsulation:2}),nt);function ot(t,e){if(1&t&&(b.ac(0,"div",2),b.Vb(1,"app-question",3),b.Zb()),2&t){var n=e.$implicit,r=b.mc();b.Ib(1),b.tc("question",n)("form",r.form)}}var it,at,ct,st,lt,ut=((at=function(){function t(){_classCallCheck(this,t),this.questions=[],this.clearOnDestroy=!1,this.payLoad=""}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||at)},at.\u0275cmp=b.Ob({type:at,selectors:[["dynamic-form"]],inputs:{questions:"questions",form:"form",clearOnDestroy:"clearOnDestroy"},decls:3,vars:3,consts:[["ngxsForm","dynamicForms.formGroup","autocomplete","off",3,"formGroup","ngxsFormClearOnDestroy"],["class","form-row",4,"ngFor","ngForOf"],[1,"form-row"],[3,"question","form"]],template:function(t,e){1&t&&(b.ac(0,"div"),b.ac(1,"form",0),b.Ic(2,ot,2,2,"div",1),b.Zb(),b.Zb()),2&t&&(b.Ib(1),b.tc("formGroup",e.form)("ngxsFormClearOnDestroy",e.clearOnDestroy),b.Ib(1),b.tc("ngForOf",e.questions))},directives:[m.u,m.p,W,m.i,a.k,rt],encapsulation:2}),at),ft=((it=function(){function t(){_classCallCheck(this,t),this.outputEvent=new b.q}return _createClass(t,[{key:"ngOnInit",value:function(){this.form=this.toFormGroup(this.questions)}},{key:"saveAsDraft",value:function(){this.outputEvent.emit(this.form.value)}},{key:"toFormGroup",value:function(t){var e={};return t.forEach((function(t){e[t.key]=t.required?new m.e(t.value||"",m.t.required):new m.e(t.value||"")})),new m.h(e)}}]),t}()).\u0275fac=function(t){return new(t||it)},it.\u0275cmp=b.Ob({type:it,selectors:[["rms-dynamic-form-modal"]],inputs:{questions:"questions",clearOnDestroy:"clearOnDestroy"},outputs:{outputEvent:"outputEvent"},decls:9,vars:3,consts:[["mat-dialog-title",""],[3,"form","questions","clearOnDestroy"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"],["mat-raised-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(b.ac(0,"div"),b.Vb(1,"h1",0),b.ac(2,"mat-dialog-content"),b.Vb(3,"dynamic-form",1),b.Zb(),b.ac(4,"mat-dialog-actions"),b.ac(5,"button",2),b.ic("click",(function(){return e.saveAsDraft()})),b.Kc(6," Submit "),b.Zb(),b.ac(7,"button",3),b.Kc(8,"Cancel"),b.Zb(),b.Zb(),b.Zb()),2&t&&(b.Ib(3),b.tc("form",e.form)("questions",e.questions)("clearOnDestroy",e.clearOnDestroy))},directives:[y.h,y.e,ut,y.c,v.a,y.d],styles:[""]}),it),pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).controlType="dropdown",t.options=[],t.options=r.options||[],t}return n}(J),ht=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).controlType="textbox",t.type=r.type||"",t}return n}(J),mt=[{path:"",component:(ct=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.dialog=n,this.userControl=new m.e,this.person={name:"",description:"",favColor:""},this.version=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.userControl.setValue("Steve")}},{key:"openHistory",value:function(){var t=this,e=this.dialog.open(A,{width:"600px"});e.componentInstance.histories=this.histories$,e.componentInstance.canEdit=!0,e.componentInstance.revertChange.subscribe((function(n){var r=w.cloneDeep(t.person);n.forEach((function(t){r[t.field]=t.oldValue})),t.onSave(r),e.close()})),e.afterClosed().subscribe((function(t){}))}},{key:"openForms",value:function(){var t=this,e=this.dialog.open(ft,{width:"500px"});e.componentInstance.questions=this.getQuestions(),e.componentInstance.clearOnDestroy=!1,e.componentInstance.outputEvent.subscribe((function(e){t.onSave(e)})),e.afterClosed().subscribe((function(t){}))}},{key:"getQuestions",value:function(){var t,e,n;return[new pt({key:"favColor",label:"Favorite Color",options:[{key:"Orange",value:"Orange"},{key:"Green",value:"Green"},{key:"Blue",value:"Blue"},{key:"Red",value:"Red"}],value:null===(t=this.person)||void 0===t?void 0:t.favColor,order:3}),new ht({key:"name",label:"Name",value:null===(e=this.person)||void 0===e?void 0:e.name,order:1}),new ht({key:"description",label:"Description",type:"textbox",value:null===(n=this.person)||void 0===n?void 0:n.description,order:2})].sort((function(t,e){return t.order-e.order}))}},{key:"onSave",value:function(t){var e=this,n=new Date;Object.keys(this.person).forEach((function(r){t[r]!=e.person[r]&&(e.store.dispatch(new p.a({user:e.userControl.value,version:e.version,date:n,newValue:t[r],oldValue:e.person[r],field:r})),e.person[r]=t[r])}))}}]),t}(),ct.\u0275fac=function(t){return new(t||ct)(b.Ub(u.i),b.Ub(y.b))},ct.\u0275cmp=b.Ob({type:ct,selectors:[["lazy-load-route-two"]],decls:19,vars:7,consts:[["fxFlex",""],["mat-raised-button","","color","accent","routerLink","/home",2,"margin","20px"],["mat-raised-button","","color","accent",2,"margin","20px",3,"click"],["mat-raised-button","","color","accent",2,"margin","20px",3,"disabled","click"],["fxLayout","column"],[2,"margin","10px","width","120px"],["matInput","","placeholder","user","id","userVal",3,"formControl"],[2,"margin","10px"]],template:function(t,e){1&t&&(b.ac(0,"div",0),b.ac(1,"button",1),b.Kc(2," Lazy-App Home "),b.Zb(),b.ac(3,"button",2),b.ic("click",(function(){return e.openForms()})),b.Kc(4," Edit Person "),b.Zb(),b.ac(5,"button",3),b.ic("click",(function(){return e.openHistory()})),b.nc(6,"async"),b.Kc(7," History Modal "),b.Zb(),b.ac(8,"div",4),b.ac(9,"mat-form-field",5),b.ac(10,"mat-label"),b.Kc(11,"User"),b.Zb(),b.Vb(12,"input",6),b.Zb(),b.ac(13,"span",7),b.Kc(14),b.Zb(),b.ac(15,"span",7),b.Kc(16),b.Zb(),b.ac(17,"span",7),b.Kc(18),b.Zb(),b.Zb(),b.Zb()),2&t&&(b.Ib(5),b.tc("disabled",0==b.oc(6,5,e.histories$).length),b.Ib(7),b.tc("formControl",e.userControl),b.Ib(2),b.Mc(" Name: ",e.person.name," "),b.Ib(2),b.Mc(" Description: ",e.person.description," "),b.Ib(2),b.Mc(" Favorite Color: ",e.person.favColor," "))},directives:[k.a,v.a,c.h,k.c,O.b,O.e,Q.b,m.b,m.o,m.f],pipes:[a.b],styles:[""]}),Object(s.b)([Object(u.e)(l.a.getHistories),Object(s.c)("design:type",f.a)],ct.prototype,"histories$",void 0),ct)}],bt=((lt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Sb({type:lt}),lt.\u0275inj=b.Rb({factory:function(t){return new(t||lt)},imports:[[c.i.forChild(mt)],c.i]}),lt),dt=((st=function t(){_classCallCheck(this,t)}).\u0275mod=b.Sb({type:st}),st.\u0275inj=b.Rb({factory:function(t){return new(t||st)},imports:[[a.c,h.c,m.s,bt,_]]}),st)}}]);