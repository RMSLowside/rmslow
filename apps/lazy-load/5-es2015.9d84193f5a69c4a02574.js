(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"1vCq":function(t,e,r){"use strict";(function(t){var o=r("fw2E"),n="object"==typeof exports&&exports&&!exports.nodeType&&exports,c=n&&"object"==typeof t&&t&&!t.nodeType&&t,a=c&&c.exports===n?o.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,o=s?s(r):new t.constructor(r);return t.copy(o),o}}).call(this,r("cyaT")(t))},"Z+F6":function(t,e,r){"use strict";r.r(e),r.d(e,"RouteTwoModule",(function(){return Ht}));var o=r("2kYt"),n=r("sEIs"),c=r("D57K"),a=r("MJ1a"),s=r("yDe4"),i=r("IdLP"),u=r("8htw"),l=r("LTOS"),b=r("nIj0"),p=r("EM62");let f=(()=>{class t{}return t.\u0275mod=p.Sb({type:t}),t.\u0275inj=p.Rb({factory:function(e){return new(e||t)},imports:[[o.c,l.c,b.s]]}),t})();var m=r("qFEQ"),h=r("OZ4H"),d=r("PBFl"),y=r("bFHC"),v=r("29Wa"),g=r("R7+U"),j=r("mFH5"),O=r("Meci");let w=(()=>{class t{constructor(){this.revertChange=new p.q}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Ob({type:t,selectors:[["rms-frontend-history-segment"]],inputs:{history:"history",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:22,vars:8,consts:[[1,"segment"],["fxLayout","column"],["fxLayout","row"],["fxFlex","1 1 auto"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["aria-hidden","false","aria-label","Arrow Icon",1,"icon",3,"inline"]],template:function(t,e){1&t&&(p.ac(0,"mat-card",0),p.ac(1,"mat-card-content",1),p.ac(2,"div",2),p.ac(3,"span"),p.ac(4,"strong"),p.Kc(5),p.Zb(),p.Kc(6," updated "),p.ac(7,"strong"),p.Kc(8),p.Zb(),p.Kc(9),p.nc(10,"date"),p.Zb(),p.Vb(11,"span",3),p.ac(12,"button",4),p.ic("click",(function(){return e.revertChange.emit(e.history)})),p.ac(13,"mat-icon"),p.Kc(14,"undo"),p.Zb(),p.Zb(),p.Zb(),p.ac(15,"div",5),p.ac(16,"p"),p.Kc(17),p.Zb(),p.ac(18,"mat-icon",6),p.Kc(19,"arrow_forward"),p.Zb(),p.ac(20,"p"),p.Kc(21),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.Ib(5),p.Lc(e.history.user),p.Ib(3),p.Lc(e.history.field),p.Ib(1),p.Mc(" ",p.oc(10,6,e.history.date),""),p.Ib(8),p.Lc(e.history.oldValue),p.Ib(1),p.tc("inline",!0),p.Ib(3),p.Lc(e.history.newValue))},directives:[O.a,O.b,m.c,m.a,d.a,y.a,m.b],pipes:[o.e],styles:[".segment[_ngcontent-%COMP%]{margin:10px;background-color:var(--alternate-card-color)}.icon[_ngcontent-%COMP%], .segment[_ngcontent-%COMP%]{font-size:large}.icon[_ngcontent-%COMP%]{margin:5px}"]}),t})();var I=r("4+zl");function C(t,e){if(1&t&&(p.ac(0,"mat-option",6),p.Kc(1),p.Zb()),2&t){const t=e.$implicit;p.tc("value",t),p.Ib(1),p.Lc(t)}}function F(t,e){if(1&t&&(p.ac(0,"mat-option",6),p.Kc(1),p.Zb()),2&t){const t=e.$implicit;p.tc("value",t),p.Ib(1),p.Lc(t)}}function Z(t,e){if(1&t){const t=p.bc();p.ac(0,"rms-frontend-history-segment",8),p.ic("revertChange",(function(e){return p.Bc(t),p.mc().revertChange.emit(e)})),p.Zb()}if(2&t){const t=e.$implicit,r=p.mc();p.tc("history",t)("canEdit",r.canEdit)}}let x=(()=>{class t{constructor(){this.revertChange=new p.q,this.fieldFilter=new b.e,this.userFilter=new b.e,this.sort=new b.e}ngOnInit(){}getFilter(t){return[...new Set(this.histories.map(e=>e[t]))]}filterHistories(){let t=this.histories;const e=this.fieldFilter.value,r=this.userFilter.value;return(null==e?void 0:e.length)&&(t=t.filter(t=>e.includes(t.field))),(null==r?void 0:r.length)&&(t=t.filter(t=>r.includes(t.user))),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Ob({type:t,selectors:[["rms-frontend-history-list"]],inputs:{histories:"histories",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:22,vars:13,consts:[["fxFlex","","flexlayout","column"],["fxLayoutAlign","space-between"],[1,"filters"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"formControl","value"],[3,"value"],[3,"history","canEdit","revertChange",4,"ngFor","ngForOf"],[3,"history","canEdit","revertChange"]],template:function(t,e){1&t&&(p.ac(0,"div",0),p.ac(1,"span",1),p.ac(2,"mat-form-field",2),p.ac(3,"mat-label"),p.Kc(4,"Field"),p.Zb(),p.ac(5,"mat-select",3),p.Ic(6,C,2,2,"mat-option",4),p.Zb(),p.Zb(),p.ac(7,"mat-form-field",2),p.ac(8,"mat-label"),p.Kc(9,"User"),p.Zb(),p.ac(10,"mat-select",3),p.Ic(11,F,2,2,"mat-option",4),p.Zb(),p.Zb(),p.ac(12,"mat-form-field",2),p.ac(13,"mat-label"),p.Kc(14,"Sort"),p.Zb(),p.ac(15,"mat-select",5),p.ac(16,"mat-option",6),p.Kc(17," Least Recent"),p.Zb(),p.ac(18,"mat-option",6),p.Kc(19," Most Recent"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Ic(20,Z,1,2,"rms-frontend-history-segment",7),p.nc(21,"orderBy"),p.Zb()),2&t&&(p.Ib(5),p.tc("formControl",e.fieldFilter),p.Ib(1),p.tc("ngForOf",e.getFilter("field")),p.Ib(4),p.tc("formControl",e.userFilter),p.Ib(1),p.tc("ngForOf",e.getFilter("user")),p.Ib(4),p.tc("formControl",e.sort)("value","asc"),p.Ib(1),p.tc("value","asc"),p.Ib(2),p.tc("value","desc"),p.Ib(2),p.tc("ngForOf",p.qc(21,9,e.filterHistories(),e.sort.value,"date")))},directives:[m.a,m.b,v.b,v.e,g.a,b.o,b.f,o.k,j.n,w],pipes:[I.a],styles:[".filters[_ngcontent-%COMP%]{width:100px}"]}),t})(),q=(()=>{class t{constructor(){this.revertChange=new p.q}ngOnInit(){}emit(t){this.revertChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Ob({type:t,selectors:[["rms-frontend-history-modal"]],outputs:{revertChange:"revertChange"},decls:10,vars:4,consts:[["fxLayout","row"],["mat-dialog-title",""],["fxFlex","1 1 auto"],["mat-icon-button","","mat-dialog-close",""],[3,"histories","canEdit","revertChange"]],template:function(t,e){1&t&&(p.ac(0,"div",0),p.ac(1,"h1",1),p.Kc(2,"History"),p.Zb(),p.Vb(3,"span",2),p.ac(4,"button",3),p.ac(5,"mat-icon"),p.Kc(6," close "),p.Zb(),p.Zb(),p.Zb(),p.ac(7,"mat-dialog-content"),p.ac(8,"rms-frontend-history-list",4),p.ic("revertChange",(function(t){return e.emit(t)})),p.nc(9,"async"),p.Zb(),p.Zb()),2&t&&(p.Ib(8),p.tc("histories",p.oc(9,2,e.histories))("canEdit",e.canEdit))},directives:[m.c,h.g,m.a,d.a,h.c,y.a,h.d,x],pipes:[o.b],styles:[""]}),t})();var k=r("ZTXN"),D=r("Ohay"),_=r("kuMc"),A=r("mWib");class S{constructor(t){this.payload=t}static get type(){return"[Forms] Update Form Status"}}class E{constructor(t){this.payload=t}static get type(){return"[Forms] Update Form Value"}}class K{constructor(t){this.payload=t}static get type(){return"[Forms] Update Form"}}class M{constructor(t){this.payload=t}static get type(){return"[Forms] Update Form Dirty"}}class L{constructor(t){this.payload=t}static get type(){return"[Forms] Update Form Errors"}}let U=(()=>{class t{constructor(t,e,r){this._store=t,this._formGroupDirective=e,this._cd=r,this.path=null,this.debounce=100,this.clearDestroy=!1,this._destroy$=new k.a,this._updating=!1}ngOnInit(){this.getStateStream(`${this.path}.model`).subscribe(t=>{!this._updating&&t&&(this.form.patchValue(t),this._cd.markForCheck())}),this.getStateStream(`${this.path}.dirty`).subscribe(t=>{this.form.dirty!==t&&"boolean"==typeof t&&(t?this.form.markAsDirty():this.form.markAsPristine(),this._cd.markForCheck())}),this._store.selectOnce(t=>Object(s.m)(t,this.path)).subscribe(()=>{this._store.dispatch([new E({path:this.path,value:this.form.getRawValue()}),new S({path:this.path,status:this.form.status}),new M({path:this.path,dirty:this.form.dirty})])}),this.getStateStream(`${this.path}.disabled`).subscribe(t=>{this.form.disabled!==t&&"boolean"==typeof t&&(t?this.form.disable():this.form.enable(),this._cd.markForCheck())}),this._formGroupDirective.valueChanges.pipe(this.debounceChange()).subscribe(()=>{const t=this._formGroupDirective.control.getRawValue();this._updating=!0,this._store.dispatch([new E({path:this.path,value:t}),new M({path:this.path,dirty:this._formGroupDirective.dirty}),new L({path:this.path,errors:this._formGroupDirective.errors})]).subscribe({error:()=>this._updating=!1,complete:()=>this._updating=!1})}),this._formGroupDirective.statusChanges.pipe(Object(D.a)(),this.debounceChange()).subscribe(t=>{this._store.dispatch(new S({status:t,path:this.path}))})}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this.clearDestroy&&this._store.dispatch(new K({path:this.path,value:null,dirty:null,status:null,errors:null}))}debounceChange(){return"change"!==this._formGroupDirective.control.updateOn||this.debounce<0?t=>t.pipe(Object(_.a)(this._destroy$)):t=>t.pipe(Object(A.a)(this.debounce),Object(_.a)(this._destroy$))}get form(){return this._formGroupDirective.form}getStateStream(t){return this._store.select(e=>Object(s.m)(e,t)).pipe(Object(_.a)(this._destroy$))}}return t.\u0275fac=function(e){return new(e||t)(p.Ub(s.i),p.Ub(b.i),p.Ub(p.i))},t.\u0275dir=p.Pb({type:t,selectors:[["","ngxsForm",""]],inputs:{path:["ngxsForm","path"],debounce:["ngxsFormDebounce","debounce"],clearDestroy:["ngxsFormClearOnDestroy","clearDestroy"]}}),t})();class V{constructor(t={}){this.value=t.value,this.key=t.key||"",this.label=t.label||"",this.required=!!t.required,this.order=void 0===t.order?1:t.order,this.controlType=t.controlType||"",this.type=t.type||""}}var G=r("Cd2c");function $(t,e){if(1&t&&(p.ac(0,"mat-form-field"),p.ac(1,"mat-label"),p.Kc(2),p.Zb(),p.Vb(3,"input",4),p.Zb()),2&t){const t=p.mc();p.Ib(2),p.Lc(t.question.label),p.Ib(1),p.tc("placeholder",t.question.label)("id",t.question.key)("type",t.question.type)("formControlName",t.question.key)}}function P(t,e){if(1&t&&(p.ac(0,"mat-option",7),p.Kc(1),p.Zb()),2&t){const t=e.$implicit;p.tc("value",t.key),p.Ib(1),p.Mc(" ",t.value," ")}}function B(t,e){if(1&t&&(p.ac(0,"mat-form-field"),p.ac(1,"mat-label"),p.Kc(2),p.Zb(),p.ac(3,"mat-select",5),p.Ic(4,P,2,2,"mat-option",6),p.Zb(),p.Zb()),2&t){const t=p.mc();p.Ib(2),p.Lc(t.question.label),p.Ib(1),p.tc("formControlName",t.question.key),p.Ib(1),p.tc("ngForOf",t.question.options)}}function H(t,e){if(1&t&&(p.ac(0,"div",8),p.Kc(1),p.Zb()),2&t){const t=p.mc();p.Ib(1),p.Mc(" ",t.question.label," is required ")}}let R=(()=>{class t{get isValid(){return this.form.controls[this.question.key].valid}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Ob({type:t,selectors:[["app-question"]],inputs:{question:"question",form:"form"},decls:5,vars:5,consts:[[3,"formGroup"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","errorMessage",4,"ngIf"],["matInput","",3,"placeholder","id","type","formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"errorMessage"]],template:function(t,e){1&t&&(p.ac(0,"div",0),p.ac(1,"div",1),p.Ic(2,$,4,5,"mat-form-field",2),p.Ic(3,B,5,3,"mat-form-field",2),p.Zb(),p.Ic(4,H,2,1,"div",3),p.Zb()),2&t&&(p.tc("formGroup",e.form),p.Ib(1),p.tc("ngSwitch",e.question.controlType),p.Ib(1),p.tc("ngSwitchCase","textbox"),p.Ib(1),p.tc("ngSwitchCase","dropdown"),p.Ib(1),p.tc("ngIf",!e.isValid))},directives:[b.p,b.i,o.n,o.o,o.l,v.b,v.e,G.b,b.b,b.o,b.g,g.a,o.k,j.n],encapsulation:2}),t})();function T(t,e){if(1&t&&(p.ac(0,"div",2),p.Vb(1,"app-question",3),p.Zb()),2&t){const t=e.$implicit,r=p.mc();p.Ib(1),p.tc("question",t)("form",r.form)}}let N=(()=>{class t{constructor(){this.questions=[],this.clearOnDestroy=!1,this.payLoad=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Ob({type:t,selectors:[["dynamic-form"]],inputs:{questions:"questions",form:"form",clearOnDestroy:"clearOnDestroy"},decls:3,vars:3,consts:[["ngxsForm","dynamicForms.formGroup","autocomplete","off",3,"formGroup","ngxsFormClearOnDestroy"],["class","form-row",4,"ngFor","ngForOf"],[1,"form-row"],[3,"question","form"]],template:function(t,e){1&t&&(p.ac(0,"div"),p.ac(1,"form",0),p.Ic(2,T,2,2,"div",1),p.Zb(),p.Zb()),2&t&&(p.Ib(1),p.tc("formGroup",e.form)("ngxsFormClearOnDestroy",e.clearOnDestroy),p.Ib(1),p.tc("ngForOf",e.questions))},directives:[b.u,b.p,U,b.i,o.k,R],encapsulation:2}),t})(),z=(()=>{class t{constructor(){this.outputEvent=new p.q}ngOnInit(){this.form=this.toFormGroup(this.questions)}saveAsDraft(){this.outputEvent.emit(this.form.value)}toFormGroup(t){let e={};return t.forEach(t=>{e[t.key]=t.required?new b.e(t.value||"",b.t.required):new b.e(t.value||"")}),new b.h(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Ob({type:t,selectors:[["rms-dynamic-form-modal"]],inputs:{questions:"questions",clearOnDestroy:"clearOnDestroy"},outputs:{outputEvent:"outputEvent"},decls:9,vars:3,consts:[["mat-dialog-title",""],[3,"form","questions","clearOnDestroy"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"],["mat-raised-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(p.ac(0,"div"),p.Vb(1,"h1",0),p.ac(2,"mat-dialog-content"),p.Vb(3,"dynamic-form",1),p.Zb(),p.ac(4,"mat-dialog-actions"),p.ac(5,"button",2),p.ic("click",(function(){return e.saveAsDraft()})),p.Kc(6," Submit "),p.Zb(),p.ac(7,"button",3),p.Kc(8,"Cancel"),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.Ib(3),p.tc("form",e.form)("questions",e.questions)("clearOnDestroy",e.clearOnDestroy))},directives:[h.g,h.d,N,h.b,d.a,h.c],styles:[""]}),t})();class J extends V{constructor(t={}){super(t),this.controlType="dropdown",this.options=[],this.options=t.options||[]}}class Q extends V{constructor(t={}){super(t),this.controlType="textbox",this.type=t.type||""}}var W=r("DHAC"),Y=r("lv0l"),X=function(t,e,r){"__proto__"==e&&Y.a?Object(Y.a)(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},tt=r("HVAe"),et=Object.prototype.hasOwnProperty,rt=function(t,e,r){var o=t[e];et.call(t,e)&&Object(tt.a)(o,r)&&(void 0!==r||e in t)||X(t,e,r)},ot=function(t,e,r,o){var n=!r;r||(r={});for(var c=-1,a=e.length;++c<a;){var s=e[c],i=o?o(r[s],t[s],s,r,t):void 0;void 0===i&&(i=t[s]),n?X(r,s,i):rt(r,s,i)}return r},nt=r("FoV5"),ct=r("/ciH"),at=r("gDU4"),st=r("Rmop"),it=Object.prototype.hasOwnProperty,ut=r("GIvL"),lt=function(t){return Object(ut.a)(t)?Object(ct.a)(t,!0):function(t){if(!Object(at.a)(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Object(st.a)(t),r=[];for(var o in t)("constructor"!=o||!e&&it.call(t,o))&&r.push(o);return r}(t)},bt=r("1vCq"),pt=r("qd5q"),ft=r("gFym"),mt=r("CrBj"),ht=Object(mt.a)(Object.getPrototypeOf,Object),dt=r("NUo7"),yt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(ft.a)(e,Object(pt.a)(t)),t=ht(t);return e}:dt.a,vt=r("BaCy"),gt=r("lnqP"),jt=function(t){return Object(gt.a)(t,lt,yt)},Ot=r("EaxY"),wt=Object.prototype.hasOwnProperty,It=r("mY74"),Ct=function(t){var e=new t.constructor(t.byteLength);return new It.a(e).set(new It.a(t)),e},Ft=/\w*$/,Zt=r("GAvS"),xt=Zt.a?Zt.a.prototype:void 0,qt=xt?xt.valueOf:void 0,kt=Object.create,Dt=function(){function t(){}return function(e){if(!Object(at.a)(e))return{};if(kt)return kt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),_t=r("SEb4"),At=r("TPB+"),St=r("gfy7"),Et=r("clBK"),Kt=r("Af8m"),Mt=Kt.a&&Kt.a.isMap,Lt=Mt?Object(Et.a)(Mt):function(t){return Object(St.a)(t)&&"[object Map]"==Object(Ot.a)(t)},Ut=Kt.a&&Kt.a.isSet,Vt=Ut?Object(Et.a)(Ut):function(t){return Object(St.a)(t)&&"[object Set]"==Object(Ot.a)(t)},Gt={};Gt["[object Arguments]"]=Gt["[object Array]"]=Gt["[object ArrayBuffer]"]=Gt["[object DataView]"]=Gt["[object Boolean]"]=Gt["[object Date]"]=Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Map]"]=Gt["[object Number]"]=Gt["[object Object]"]=Gt["[object RegExp]"]=Gt["[object Set]"]=Gt["[object String]"]=Gt["[object Symbol]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt["[object Error]"]=Gt["[object Function]"]=Gt["[object WeakMap]"]=!1;var $t=function t(e,r,o,n,c,a){var s,i=1&r,u=2&r,l=4&r;if(o&&(s=c?o(e,n,c,a):o(e)),void 0!==s)return s;if(!Object(at.a)(e))return e;var b=Object(_t.a)(e);if(b){if(s=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&wt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!i)return function(t,e){var r=-1,o=t.length;for(e||(e=Array(o));++r<o;)e[r]=t[r];return e}(e,s)}else{var p=Object(Ot.a)(e),f="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(At.a)(e))return Object(bt.a)(e,i);if("[object Object]"==p||"[object Arguments]"==p||f&&!c){if(s=u||f?{}:function(t){return"function"!=typeof t.constructor||Object(st.a)(t)?{}:Dt(ht(t))}(e),!i)return u?function(t,e){return ot(t,yt(t),e)}(e,function(t,e){return t&&ot(e,lt(e),t)}(s,e)):function(t,e){return ot(t,Object(pt.a)(t),e)}(e,function(t,e){return t&&ot(e,Object(nt.a)(e),t)}(s,e))}else{if(!Gt[p])return c?e:{};s=function(t,e,r){var o,n,c=t.constructor;switch(e){case"[object ArrayBuffer]":return Ct(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return function(t,e){var r=e?Ct(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?Ct(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return(n=new(o=t).constructor(o.source,Ft.exec(o))).lastIndex=o.lastIndex,n;case"[object Set]":return new c;case"[object Symbol]":return qt?Object(qt.call(t)):{}}}(e,p,i)}}a||(a=new W.a);var m=a.get(e);if(m)return m;a.set(e,s),Vt(e)?e.forEach((function(n){s.add(t(n,r,o,n,e,a))})):Lt(e)&&e.forEach((function(n,c){s.set(c,t(n,r,o,c,e,a))}));var h=l?u?jt:vt.a:u?keysIn:nt.a,d=b?void 0:h(e);return function(t,e){for(var r=-1,o=null==t?0:t.length;++r<o&&!1!==e(t[r],r););}(d||e,(function(n,c){d&&(n=e[c=n]),rt(s,c,t(n,r,o,c,e,a))})),s};const Pt=[{path:"",component:(()=>{class t{constructor(t,e){this.store=t,this.dialog=e,this.userControl=new b.e,this.person={name:"",description:"",favColor:""},this.version=0}ngOnInit(){this.userControl.setValue("Steve")}openHistory(){const t=this.dialog.open(q);t.componentInstance.histories=this.histories$,t.componentInstance.canEdit=!0,t.componentInstance.revertChange.subscribe(t=>{const e=function(t){return $t(t,5)}(this.person);e[t.field]=t.oldValue,this.onSave(e)}),t.afterClosed().subscribe(t=>{})}openForms(){const t=this.dialog.open(z,{width:"500px"});t.componentInstance.questions=this.getQuestions(),t.componentInstance.clearOnDestroy=!1,t.componentInstance.outputEvent.subscribe(t=>{this.onSave(t)}),t.afterClosed().subscribe(t=>{})}getQuestions(){var t,e,r;return[new J({key:"favColor",label:"Favorite Color",options:[{key:"Orange",value:"Orange"},{key:"Green",value:"Green"},{key:"Blue",value:"Blue"},{key:"Red",value:"Red"}],value:null===(t=this.person)||void 0===t?void 0:t.favColor,order:3}),new Q({key:"name",label:"Name",value:null===(e=this.person)||void 0===e?void 0:e.name,order:1}),new Q({key:"description",label:"Description",type:"textbox",value:null===(r=this.person)||void 0===r?void 0:r.description,order:2})].sort((t,e)=>t.order-e.order)}onSave(t){const e=new Date;Object.keys(this.person).forEach(r=>{t[r]!=this.person[r]&&(this.store.dispatch(new u.a({user:this.userControl.value,version:this.version,date:e,newValue:t[r],oldValue:this.person[r],field:r})),this.person[r]=t[r])})}}return t.\u0275fac=function(e){return new(e||t)(p.Ub(s.i),p.Ub(h.a))},t.\u0275cmp=p.Ob({type:t,selectors:[["lazy-load-route-two"]],decls:19,vars:7,consts:[["fxFlex",""],["mat-raised-button","","color","accent","routerLink","/home",2,"margin","20px"],["mat-raised-button","","color","accent",2,"margin","20px",3,"click"],["mat-raised-button","","color","accent",2,"margin","20px",3,"disabled","click"],["fxLayout","column"],[2,"margin","10px","width","120px"],["matInput","","placeholder","user","id","userVal",3,"formControl"],[2,"margin","10px"]],template:function(t,e){1&t&&(p.ac(0,"div",0),p.ac(1,"button",1),p.Kc(2," Lazy-App Home "),p.Zb(),p.ac(3,"button",2),p.ic("click",(function(){return e.openForms()})),p.Kc(4," Edit Person "),p.Zb(),p.ac(5,"button",3),p.ic("click",(function(){return e.openHistory()})),p.nc(6,"async"),p.Kc(7," History Modal "),p.Zb(),p.ac(8,"div",4),p.ac(9,"mat-form-field",5),p.ac(10,"mat-label"),p.Kc(11,"User"),p.Zb(),p.Vb(12,"input",6),p.Zb(),p.ac(13,"span",7),p.Kc(14),p.Zb(),p.ac(15,"span",7),p.Kc(16),p.Zb(),p.ac(17,"span",7),p.Kc(18),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.Ib(5),p.tc("disabled",0==p.oc(6,5,e.histories$).length),p.Ib(7),p.tc("formControl",e.userControl),p.Ib(2),p.Mc(" Name: ",e.person.name," "),p.Ib(2),p.Mc(" Description: ",e.person.description," "),p.Ib(2),p.Mc(" Favorite Color: ",e.person.favColor," "))},directives:[m.a,d.a,n.h,m.c,v.b,v.e,G.b,b.b,b.o,b.f],pipes:[o.b],styles:[""]}),Object(c.b)([Object(s.e)(a.a.getHistories),Object(c.c)("design:type",i.a)],t.prototype,"histories$",void 0),t})()}];let Bt=(()=>{class t{}return t.\u0275mod=p.Sb({type:t}),t.\u0275inj=p.Rb({factory:function(e){return new(e||t)},imports:[[n.i.forChild(Pt)],n.i]}),t})(),Ht=(()=>{class t{}return t.\u0275mod=p.Sb({type:t}),t.\u0275inj=p.Rb({factory:function(e){return new(e||t)},imports:[[o.c,l.c,b.s,Bt,f]]}),t})()}}]);