function _createSuper(t){return function(){var e,n=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"Z+F6":function(t,e,n){"use strict";n.r(e),n.d(e,"RouteTwoModule",(function(){return dt}));var r,o,i,a=n("2kYt"),c=n("sEIs"),s=n("D57K"),l=n("MJ1a"),u=n("yDe4"),f=n("IdLP"),p=n("8htw"),h=n("LTOS"),b=n("nIj0"),m=n("EM62"),d=((r=function t(){_classCallCheck(this,t)}).\u0275mod=m.Sb({type:r}),r.\u0275inj=m.Rb({factory:function(t){return new(t||r)},imports:[[h.c,a.c]]}),r),y=n("OZ4H"),v=n("PBFl"),g=((o=function(){function t(e,n){_classCallCheck(this,t),this.dialogRef=e,this.data=n,this.title=n.title,this.message=n.message}return _createClass(t,[{key:"onConfirm",value:function(){this.dialogRef.close(!0)}},{key:"onDismiss",value:function(){this.dialogRef.close(!1)}}]),t}()).\u0275fac=function(t){return new(t||o)(m.Ub(y.g),m.Ub(y.a))},o.\u0275cmp=m.Ob({type:o,selectors:[["rms-frontend-confirmation-modal"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"innerHtml"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(m.ac(0,"h1",0),m.Kc(1),m.Zb(),m.ac(2,"div",1),m.Vb(3,"p",2),m.Zb(),m.ac(4,"div",3),m.ac(5,"button",4),m.ic("click",(function(){return e.onDismiss()})),m.Kc(6,"No"),m.Zb(),m.ac(7,"button",5),m.ic("click",(function(){return e.onConfirm()})),m.Kc(8,"Yes"),m.Zb(),m.Zb()),2&t&&(m.Ib(1),m.Mc(" ",e.title,"\n"),m.Ib(2),m.tc("innerHtml",e.message,m.Cc))},directives:[y.h,y.e,y.c,v.a],styles:[""]}),o),C=function t(e,n){_classCallCheck(this,t),this.title=e,this.message=n},k=((i=function t(){_classCallCheck(this,t)}).\u0275mod=m.Sb({type:i}),i.\u0275inj=m.Rb({factory:function(t){return new(t||i)},imports:[[a.c,h.c,b.s,d]]}),i),_=n("qFEQ"),I=n("bFHC"),w=n("nsO7"),O=n("29Wa"),Z=n("R7+U"),F=n("mFH5");function x(t,e){if(1&t){var n=m.bc();m.ac(0,"button",10),m.ic("click",(function(){m.Bc(n);var t=m.mc().$implicit;return m.mc().confirmDialog([t])})),m.ac(1,"mat-icon"),m.Kc(2,"reply"),m.Zb(),m.Zb()}}function D(t,e){if(1&t&&(m.ac(0,"div",5),m.ac(1,"span"),m.ac(2,"strong",6),m.Kc(3),m.Zb(),m.Zb(),m.Vb(4,"span",7),m.ac(5,"mat-icon",8),m.Kc(6,"arrow_forward"),m.Zb(),m.Vb(7,"span",7),m.Vb(8,"span",2),m.Ic(9,x,3,0,"button",9),m.Zb()),2&t){var n=e.$implicit,r=e.first,o=e.last;m.Ib(3),m.Mc("",n.field,":"),m.Ib(1),m.tc("innerHTML",n.oldValue||"<em>Blank</em>",m.Cc),m.Ib(1),m.tc("inline",!0),m.Ib(2),m.tc("innerHTML",n.newValue||"<em>Blank</em>",m.Cc),m.Ib(2),m.tc("ngIf",!(r&&o))}}var q,S=((q=function(){function t(e){_classCallCheck(this,t),this.dialog=e,this.revertChange=new m.q}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"emit",value:function(t){this.revertChange.emit(t)}},{key:"trackByIndex",value:function(t,e){return t}},{key:"confirmDialog",value:function(t){var e=this,n="You are about to revert ";t.forEach((function(e,r){n+="<strong>".concat(e.field,"</strong> to ").concat(e.oldValue||"<em>Blank</em>"," "),r!=t.length-1&&(n+="and ")}));var r=new C("Confirm Revert",n+=". Do you want to continue?");this.dialog.open(g,{maxWidth:"400px",data:r}).afterClosed().subscribe((function(n){n&&e.emit(t)}))}}]),t}()).\u0275fac=function(t){return new(t||q)(m.Ub(y.b))},q.\u0275cmp=m.Ob({type:q,selectors:[["rms-frontend-history-segment"]],inputs:{histories:"histories",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:16,vars:8,consts:[["fxLayout","column"],["fxLayout","row","fxLayoutAlign","start center"],["fxFlex","1 1 auto"],["mat-icon-button","","title","Revert all changes in set",3,"click"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","class","change-segment",4,"ngFor","ngForOf","ngForTrackBy"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"change-segment"],[2,"padding-right","5px","padding-left","10px"],[3,"innerHTML"],["aria-hidden","false","aria-label","Arrow Icon",1,"icon",3,"inline"],["mat-icon-button","","style","padding-right: 50px;","title","Revert change",3,"click",4,"ngIf"],["mat-icon-button","","title","Revert change",2,"padding-right","50px",3,"click"]],template:function(t,e){1&t&&(m.ac(0,"div",0),m.ac(1,"div",1),m.ac(2,"span"),m.ac(3,"strong"),m.Kc(4),m.Zb(),m.Kc(5," updated "),m.ac(6,"strong"),m.Kc(7),m.Zb(),m.Kc(8),m.nc(9,"date"),m.Zb(),m.Vb(10,"span",2),m.ac(11,"button",3),m.ic("click",(function(){return e.confirmDialog(e.histories)})),m.ac(12,"mat-icon"),m.Kc(13,"reply_all"),m.Zb(),m.Zb(),m.Zb(),m.ac(14,"div",0),m.Ic(15,D,10,5,"div",4),m.Zb(),m.Zb()),2&t&&(m.Ib(4),m.Lc(e.histories[0].user),m.Ib(3),m.Lc(e.histories.length),m.Ib(1),m.Mc(" fields ",m.pc(9,5,e.histories[0].date,"medium")," "),m.Ib(7),m.tc("ngForOf",e.histories)("ngForTrackBy",e.trackByIndex))},directives:[_.c,_.b,_.a,v.a,I.a,a.k,a.l],pipes:[a.e],styles:[".segment[_ngcontent-%COMP%]{margin:10px;background-color:var(--alternate-card-color)}.icon[_ngcontent-%COMP%], .segment[_ngcontent-%COMP%]{font-size:large}.icon[_ngcontent-%COMP%]{margin:5px}.change-segment[_ngcontent-%COMP%]{margin-top:-10px}"]}),q);function K(t,e){if(1&t&&(m.ac(0,"mat-option",6),m.Kc(1),m.Zb()),2&t){var n=e.$implicit;m.tc("value",n),m.Ib(1),m.Lc(n)}}function E(t,e){if(1&t&&(m.ac(0,"mat-option",6),m.Kc(1),m.Zb()),2&t){var n=e.$implicit;m.tc("value",n),m.Ib(1),m.Lc(n)}}function L(t,e){if(1&t){var n=m.bc();m.ac(0,"div"),m.ac(1,"rms-frontend-history-segment",8),m.ic("revertChange",(function(t){return m.Bc(n),m.mc().revertChange.emit(t)})),m.Zb(),m.Vb(2,"hr"),m.Zb()}if(2&t){var r=e.$implicit,o=m.mc();m.Ib(1),m.tc("histories",r)("canEdit",o.canEdit)}}var R,T,j,A=((T=function(){function t(){_classCallCheck(this,t),this.revertChange=new m.q,this.fieldFilter=new b.e,this.userFilter=new b.e,this.sort=new b.e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getFilter",value:function(t){return _toConsumableArray(new Set(this.histories.map((function(e){return e[t]}))))}},{key:"filterHistories",value:function(){var t=this.histories,e=this.fieldFilter.value,n=this.userFilter.value;(null==e?void 0:e.length)&&(t=t.filter((function(t){return e.includes(t.field)}))),(null==n?void 0:n.length)&&(t=t.filter((function(t){return n.includes(t.user)})));var r=[],o=[];return t.forEach((function(e,n){0===n||o.length&&o[0].date===e.date?o.push(e):(r.push(w.cloneDeep(o)),o=[e]),n===t.length-1&&r.push(w.cloneDeep(o))})),"desc"===this.sort.value?r.reverse():r}},{key:"trackByIndex",value:function(t,e){return t}}]),t}()).\u0275fac=function(t){return new(t||T)},T.\u0275cmp=m.Ob({type:T,selectors:[["rms-frontend-history-list"]],inputs:{histories:"histories",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:21,vars:10,consts:[["fxFlex","","flexlayout","column"],["fxLayoutAlign","space-between"],[1,"filters"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"formControl","value"],[3,"value"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"histories","canEdit","revertChange"]],template:function(t,e){1&t&&(m.ac(0,"div",0),m.ac(1,"span",1),m.ac(2,"mat-form-field",2),m.ac(3,"mat-label"),m.Kc(4,"Field"),m.Zb(),m.ac(5,"mat-select",3),m.Ic(6,K,2,2,"mat-option",4),m.Zb(),m.Zb(),m.ac(7,"mat-form-field",2),m.ac(8,"mat-label"),m.Kc(9,"User"),m.Zb(),m.ac(10,"mat-select",3),m.Ic(11,E,2,2,"mat-option",4),m.Zb(),m.Zb(),m.ac(12,"mat-form-field",2),m.ac(13,"mat-label"),m.Kc(14,"Sort"),m.Zb(),m.ac(15,"mat-select",5),m.ac(16,"mat-option",6),m.Kc(17," Least Recent"),m.Zb(),m.ac(18,"mat-option",6),m.Kc(19," Most Recent"),m.Zb(),m.Zb(),m.Zb(),m.Zb(),m.Ic(20,L,3,2,"div",7),m.Zb()),2&t&&(m.Ib(5),m.tc("formControl",e.fieldFilter),m.Ib(1),m.tc("ngForOf",e.getFilter("field")),m.Ib(4),m.tc("formControl",e.userFilter),m.Ib(1),m.tc("ngForOf",e.getFilter("user")),m.Ib(4),m.tc("formControl",e.sort)("value","asc"),m.Ib(1),m.tc("value","asc"),m.Ib(2),m.tc("value","desc"),m.Ib(2),m.tc("ngForOf",e.filterHistories())("ngForTrackBy",e.trackByIndex))},directives:[_.a,_.b,O.b,O.e,Z.a,b.o,b.f,a.k,F.n,S],styles:[".filters[_ngcontent-%COMP%]{width:100px}"]}),T),P=((R=function(){function t(){_classCallCheck(this,t),this.revertChange=new m.q}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"emit",value:function(t){this.revertChange.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||R)},R.\u0275cmp=m.Ob({type:R,selectors:[["rms-frontend-history-modal"]],outputs:{revertChange:"revertChange"},decls:10,vars:4,consts:[["fxLayout","row"],["mat-dialog-title",""],["fxFlex","1 1 auto"],["mat-icon-button","","mat-dialog-close",""],[3,"histories","canEdit","revertChange"]],template:function(t,e){1&t&&(m.ac(0,"div",0),m.ac(1,"h1",1),m.Kc(2,"History"),m.Zb(),m.Vb(3,"span",2),m.ac(4,"button",3),m.ac(5,"mat-icon"),m.Kc(6," close "),m.Zb(),m.Zb(),m.Zb(),m.ac(7,"mat-dialog-content"),m.ac(8,"rms-frontend-history-list",4),m.ic("revertChange",(function(t){return e.emit(t)})),m.nc(9,"async"),m.Zb(),m.Zb()),2&t&&(m.Ib(8),m.tc("histories",m.oc(9,2,e.histories))("canEdit",e.canEdit))},directives:[_.c,y.h,_.a,v.a,y.d,I.a,y.e,A],pipes:[a.b],styles:[""]}),R),M=n("ZTXN"),V=n("Ohay"),H=n("kuMc"),G=n("mWib"),U=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Status"}}]),t}(),$=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Value"}}]),t}(),B=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form"}}]),t}(),N=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Dirty"}}]),t}(),z=function(){function t(e){_classCallCheck(this,t),this.payload=e}return _createClass(t,null,[{key:"type",get:function(){return"[Forms] Update Form Errors"}}]),t}(),W=((j=function(){function t(e,n,r){_classCallCheck(this,t),this._store=e,this._formGroupDirective=n,this._cd=r,this.path=null,this.debounce=100,this.clearDestroy=!1,this._destroy$=new M.a,this._updating=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.getStateStream("".concat(this.path,".model")).subscribe((function(e){!t._updating&&e&&(t.form.patchValue(e),t._cd.markForCheck())})),this.getStateStream("".concat(this.path,".dirty")).subscribe((function(e){t.form.dirty!==e&&"boolean"==typeof e&&(e?t.form.markAsDirty():t.form.markAsPristine(),t._cd.markForCheck())})),this._store.selectOnce((function(e){return Object(u.m)(e,t.path)})).subscribe((function(){t._store.dispatch([new $({path:t.path,value:t.form.getRawValue()}),new U({path:t.path,status:t.form.status}),new N({path:t.path,dirty:t.form.dirty})])})),this.getStateStream("".concat(this.path,".disabled")).subscribe((function(e){t.form.disabled!==e&&"boolean"==typeof e&&(e?t.form.disable():t.form.enable(),t._cd.markForCheck())})),this._formGroupDirective.valueChanges.pipe(this.debounceChange()).subscribe((function(){var e=t._formGroupDirective.control.getRawValue();t._updating=!0,t._store.dispatch([new $({path:t.path,value:e}),new N({path:t.path,dirty:t._formGroupDirective.dirty}),new z({path:t.path,errors:t._formGroupDirective.errors})]).subscribe({error:function(){return t._updating=!1},complete:function(){return t._updating=!1}})})),this._formGroupDirective.statusChanges.pipe(Object(V.a)(),this.debounceChange()).subscribe((function(e){t._store.dispatch(new U({status:e,path:t.path}))}))}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this.clearDestroy&&this._store.dispatch(new B({path:this.path,value:null,dirty:null,status:null,errors:null}))}},{key:"debounceChange",value:function(){var t=this;return"change"!==this._formGroupDirective.control.updateOn||this.debounce<0?function(e){return e.pipe(Object(H.a)(t._destroy$))}:function(e){return e.pipe(Object(G.a)(t.debounce),Object(H.a)(t._destroy$))}}},{key:"getStateStream",value:function(t){return this._store.select((function(e){return Object(u.m)(e,t)})).pipe(Object(H.a)(this._destroy$))}},{key:"form",get:function(){return this._formGroupDirective.form}}]),t}()).\u0275fac=function(t){return new(t||j)(m.Ub(u.i),m.Ub(b.i),m.Ub(m.i))},j.\u0275dir=m.Pb({type:j,selectors:[["","ngxsForm",""]],inputs:{path:["ngxsForm","path"],debounce:["ngxsFormDebounce","debounce"],clearDestroy:["ngxsFormClearOnDestroy","clearDestroy"]}}),j),J=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.value=e.value,this.key=e.key||"",this.label=e.label||"",this.required=!!e.required,this.order=void 0===e.order?1:e.order,this.controlType=e.controlType||"",this.type=e.type||""},Q=n("Cd2c");function Y(t,e){if(1&t&&(m.ac(0,"mat-form-field"),m.ac(1,"mat-label"),m.Kc(2),m.Zb(),m.Vb(3,"input",4),m.Zb()),2&t){var n=m.mc();m.Ib(2),m.Lc(n.question.label),m.Ib(1),m.tc("placeholder",n.question.label)("id",n.question.key)("type",n.question.type)("formControlName",n.question.key)}}function X(t,e){if(1&t&&(m.ac(0,"mat-option",7),m.Kc(1),m.Zb()),2&t){var n=e.$implicit;m.tc("value",n.key),m.Ib(1),m.Mc(" ",n.value," ")}}function tt(t,e){if(1&t&&(m.ac(0,"mat-form-field"),m.ac(1,"mat-label"),m.Kc(2),m.Zb(),m.ac(3,"mat-select",5),m.Ic(4,X,2,2,"mat-option",6),m.Zb(),m.Zb()),2&t){var n=m.mc();m.Ib(2),m.Lc(n.question.label),m.Ib(1),m.tc("formControlName",n.question.key),m.Ib(1),m.tc("ngForOf",n.question.options)}}function et(t,e){if(1&t&&(m.ac(0,"div",8),m.Kc(1),m.Zb()),2&t){var n=m.mc();m.Ib(1),m.Mc(" ",n.question.label," is required ")}}var nt,rt=((nt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isValid",get:function(){return this.form.controls[this.question.key].valid}}]),t}()).\u0275fac=function(t){return new(t||nt)},nt.\u0275cmp=m.Ob({type:nt,selectors:[["app-question"]],inputs:{question:"question",form:"form"},decls:5,vars:5,consts:[[3,"formGroup"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","errorMessage",4,"ngIf"],["matInput","",3,"placeholder","id","type","formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"errorMessage"]],template:function(t,e){1&t&&(m.ac(0,"div",0),m.ac(1,"div",1),m.Ic(2,Y,4,5,"mat-form-field",2),m.Ic(3,tt,5,3,"mat-form-field",2),m.Zb(),m.Ic(4,et,2,1,"div",3),m.Zb()),2&t&&(m.tc("formGroup",e.form),m.Ib(1),m.tc("ngSwitch",e.question.controlType),m.Ib(1),m.tc("ngSwitchCase","textbox"),m.Ib(1),m.tc("ngSwitchCase","dropdown"),m.Ib(1),m.tc("ngIf",!e.isValid))},directives:[b.p,b.i,a.n,a.o,a.l,O.b,O.e,Q.b,b.b,b.o,b.g,Z.a,a.k,F.n],encapsulation:2}),nt);function ot(t,e){if(1&t&&(m.ac(0,"div",2),m.Vb(1,"app-question",3),m.Zb()),2&t){var n=e.$implicit,r=m.mc();m.Ib(1),m.tc("question",n)("form",r.form)}}var it,at,ct,st,lt,ut=((at=function(){function t(){_classCallCheck(this,t),this.questions=[],this.clearOnDestroy=!1,this.payLoad=""}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||at)},at.\u0275cmp=m.Ob({type:at,selectors:[["dynamic-form"]],inputs:{questions:"questions",form:"form",clearOnDestroy:"clearOnDestroy"},decls:3,vars:3,consts:[["ngxsForm","dynamicForms.formGroup","autocomplete","off",3,"formGroup","ngxsFormClearOnDestroy"],["class","form-row",4,"ngFor","ngForOf"],[1,"form-row"],[3,"question","form"]],template:function(t,e){1&t&&(m.ac(0,"div"),m.ac(1,"form",0),m.Ic(2,ot,2,2,"div",1),m.Zb(),m.Zb()),2&t&&(m.Ib(1),m.tc("formGroup",e.form)("ngxsFormClearOnDestroy",e.clearOnDestroy),m.Ib(1),m.tc("ngForOf",e.questions))},directives:[b.u,b.p,W,b.i,a.k,rt],encapsulation:2}),at),ft=((it=function(){function t(){_classCallCheck(this,t),this.outputEvent=new m.q}return _createClass(t,[{key:"ngOnInit",value:function(){this.form=this.toFormGroup(this.questions)}},{key:"saveAsDraft",value:function(){this.outputEvent.emit(this.form.value)}},{key:"toFormGroup",value:function(t){var e={};return t.forEach((function(t){e[t.key]=t.required?new b.e(t.value||"",b.t.required):new b.e(t.value||"")})),new b.h(e)}}]),t}()).\u0275fac=function(t){return new(t||it)},it.\u0275cmp=m.Ob({type:it,selectors:[["rms-dynamic-form-modal"]],inputs:{questions:"questions",clearOnDestroy:"clearOnDestroy"},outputs:{outputEvent:"outputEvent"},decls:9,vars:3,consts:[["mat-dialog-title",""],[3,"form","questions","clearOnDestroy"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"],["mat-raised-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(m.ac(0,"div"),m.Vb(1,"h1",0),m.ac(2,"mat-dialog-content"),m.Vb(3,"dynamic-form",1),m.Zb(),m.ac(4,"mat-dialog-actions"),m.ac(5,"button",2),m.ic("click",(function(){return e.saveAsDraft()})),m.Kc(6," Submit "),m.Zb(),m.ac(7,"button",3),m.Kc(8,"Cancel"),m.Zb(),m.Zb(),m.Zb()),2&t&&(m.Ib(3),m.tc("form",e.form)("questions",e.questions)("clearOnDestroy",e.clearOnDestroy))},directives:[y.h,y.e,ut,y.c,v.a,y.d],styles:[""]}),it),pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).controlType="dropdown",t.options=[],t.options=r.options||[],t}return n}(J),ht=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).controlType="textbox",t.type=r.type||"",t}return n}(J),bt=[{path:"",component:(ct=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.dialog=n,this.userControl=new b.e,this.person={name:"",description:"",favColor:""},this.version=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.userControl.setValue("Steve")}},{key:"openHistory",value:function(){var t=this,e=this.dialog.open(P,{width:"700px"});e.componentInstance.histories=this.histories$,e.componentInstance.canEdit=!0,e.componentInstance.revertChange.subscribe((function(n){var r=w.cloneDeep(t.person);n.forEach((function(t){r[t.field]=t.oldValue})),t.onSave(r),e.close()})),e.afterClosed().subscribe((function(t){}))}},{key:"openForms",value:function(){var t=this,e=this.dialog.open(ft,{width:"500px"});e.componentInstance.questions=this.getQuestions(),e.componentInstance.clearOnDestroy=!1,e.componentInstance.outputEvent.subscribe((function(e){t.onSave(e)})),e.afterClosed().subscribe((function(t){}))}},{key:"getQuestions",value:function(){var t,e,n;return[new pt({key:"favColor",label:"Favorite Color",options:[{key:"Orange",value:"Orange"},{key:"Green",value:"Green"},{key:"Blue",value:"Blue"},{key:"Red",value:"Red"}],value:null===(t=this.person)||void 0===t?void 0:t.favColor,order:3}),new ht({key:"name",label:"Name",value:null===(e=this.person)||void 0===e?void 0:e.name,order:1}),new ht({key:"description",label:"Description",type:"textbox",value:null===(n=this.person)||void 0===n?void 0:n.description,order:2})].sort((function(t,e){return t.order-e.order}))}},{key:"onSave",value:function(t){var e=this,n=new Date;Object.keys(this.person).forEach((function(r){t[r]!=e.person[r]&&(e.store.dispatch(new p.a({user:e.userControl.value,version:e.version,date:n,newValue:t[r],oldValue:e.person[r],field:r})),e.person[r]=t[r])}))}}]),t}(),ct.\u0275fac=function(t){return new(t||ct)(m.Ub(u.i),m.Ub(y.b))},ct.\u0275cmp=m.Ob({type:ct,selectors:[["lazy-load-route-two"]],decls:19,vars:7,consts:[["fxFlex",""],["mat-raised-button","","color","accent","routerLink","/home",2,"margin","20px"],["mat-raised-button","","color","accent",2,"margin","20px",3,"click"],["mat-raised-button","","color","accent",2,"margin","20px",3,"disabled","click"],["fxLayout","column"],[2,"margin","10px","width","120px"],["matInput","","placeholder","user","id","userVal",3,"formControl"],[2,"margin","10px"]],template:function(t,e){1&t&&(m.ac(0,"div",0),m.ac(1,"button",1),m.Kc(2," Lazy-App Home "),m.Zb(),m.ac(3,"button",2),m.ic("click",(function(){return e.openForms()})),m.Kc(4," Edit Person "),m.Zb(),m.ac(5,"button",3),m.ic("click",(function(){return e.openHistory()})),m.nc(6,"async"),m.Kc(7," History Modal "),m.Zb(),m.ac(8,"div",4),m.ac(9,"mat-form-field",5),m.ac(10,"mat-label"),m.Kc(11,"User"),m.Zb(),m.Vb(12,"input",6),m.Zb(),m.ac(13,"span",7),m.Kc(14),m.Zb(),m.ac(15,"span",7),m.Kc(16),m.Zb(),m.ac(17,"span",7),m.Kc(18),m.Zb(),m.Zb(),m.Zb()),2&t&&(m.Ib(5),m.tc("disabled",0==m.oc(6,5,e.histories$).length),m.Ib(7),m.tc("formControl",e.userControl),m.Ib(2),m.Mc(" Name: ",e.person.name," "),m.Ib(2),m.Mc(" Description: ",e.person.description," "),m.Ib(2),m.Mc(" Favorite Color: ",e.person.favColor," "))},directives:[_.a,v.a,c.h,_.c,O.b,O.e,Q.b,b.b,b.o,b.f],pipes:[a.b],styles:[""]}),Object(s.b)([Object(u.e)(l.a.getHistories),Object(s.c)("design:type",f.a)],ct.prototype,"histories$",void 0),ct)}],mt=((lt=function t(){_classCallCheck(this,t)}).\u0275mod=m.Sb({type:lt}),lt.\u0275inj=m.Rb({factory:function(t){return new(t||lt)},imports:[[c.i.forChild(bt)],c.i]}),lt),dt=((st=function t(){_classCallCheck(this,t)}).\u0275mod=m.Sb({type:st}),st.\u0275inj=m.Rb({factory:function(t){return new(t||st)},imports:[[a.c,h.c,b.s,mt,k]]}),st)}}]);