(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"Z+F6":function(t,e,n){"use strict";n.r(e),n.d(e,"RouteTwoModule",(function(){return V}));var c=n("2kYt"),o=n("sEIs"),r=n("D57K"),i=n("MJ1a"),a=n("LTOS"),s=n("nIj0"),l=n("EM62");let u=(()=>{class t{}return t.\u0275mod=l.Sb({type:t}),t.\u0275inj=l.Rb({factory:function(e){return new(e||t)},imports:[[c.c,a.c,s.r]]}),t})();class b{}var d=n("qFEQ"),f=n("OZ4H"),m=n("PBFl"),h=n("bFHC"),p=n("29Wa"),g=n("R7+U"),y=n("mFH5"),v=n("Meci");let Z=(()=>{class t{constructor(){this.revertChange=new l.q}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ob({type:t,selectors:[["rms-frontend-history-segment"]],inputs:{history:"history",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:22,vars:8,consts:[[1,"segment"],["fxLayout","column"],["fxLayout","row"],["fxFlex","1 1 auto"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["aria-hidden","false","aria-label","Arrow Icon",1,"icon",3,"inline"]],template:function(t,e){1&t&&(l.ac(0,"mat-card",0),l.ac(1,"mat-card-content",1),l.ac(2,"div",2),l.ac(3,"span"),l.ac(4,"strong"),l.Kc(5),l.Zb(),l.Kc(6," updated "),l.ac(7,"strong"),l.Kc(8),l.Zb(),l.Kc(9),l.nc(10,"date"),l.Zb(),l.Vb(11,"span",3),l.ac(12,"button",4),l.ic("click",(function(){return e.revertChange.emit(e.history)})),l.ac(13,"mat-icon"),l.Kc(14,"undo"),l.Zb(),l.Zb(),l.Zb(),l.ac(15,"div",5),l.ac(16,"p"),l.Kc(17),l.Zb(),l.ac(18,"mat-icon",6),l.Kc(19,"arrow_forward"),l.Zb(),l.ac(20,"p"),l.Kc(21),l.Zb(),l.Zb(),l.Zb(),l.Zb()),2&t&&(l.Ib(5),l.Lc(e.history.user),l.Ib(3),l.Lc(e.history.field),l.Ib(1),l.Mc(" ",l.oc(10,6,e.history.date),""),l.Ib(8),l.Lc(e.history.oldValue),l.Ib(1),l.tc("inline",!0),l.Ib(3),l.Lc(e.history.newValue))},directives:[v.a,v.b,d.c,d.a,m.a,h.a,d.b],pipes:[c.e],styles:[".segment[_ngcontent-%COMP%]{margin:10px;background-color:var(--alternate-card-color)}.icon[_ngcontent-%COMP%], .segment[_ngcontent-%COMP%]{font-size:large}.icon[_ngcontent-%COMP%]{margin:5px}"]}),t})();var w=n("4+zl");function I(t,e){if(1&t&&(l.ac(0,"mat-option",6),l.Kc(1),l.Zb()),2&t){const t=e.$implicit;l.tc("value",t),l.Ib(1),l.Lc(t)}}function C(t,e){if(1&t&&(l.ac(0,"mat-option",6),l.Kc(1),l.Zb()),2&t){const t=e.$implicit;l.tc("value",t),l.Ib(1),l.Lc(t)}}function F(t,e){if(1&t){const t=l.bc();l.ac(0,"rms-frontend-history-segment",8),l.ic("revertChange",(function(e){return l.Bc(t),l.mc().revertChange.emit(e)})),l.Zb()}if(2&t){const t=e.$implicit,n=l.mc();l.tc("history",t)("canEdit",n.canEdit)}}let O=(()=>{class t{constructor(){this.revertChange=new l.q,this.fieldFilter=new s.e,this.userFilter=new s.e,this.sort=new s.e}ngOnInit(){}getFilter(t){return[...new Set(this.histories.map(e=>e[t]))]}filterHistories(){let t=this.histories;const e=this.fieldFilter.value,n=this.userFilter.value;return(null==e?void 0:e.length)&&(t=t.filter(t=>e.includes(t.field))),(null==n?void 0:n.length)&&(t=t.filter(t=>n.includes(t.user))),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ob({type:t,selectors:[["rms-frontend-history-list"]],inputs:{histories:"histories",canEdit:"canEdit"},outputs:{revertChange:"revertChange"},decls:22,vars:13,consts:[["fxFlex","","flexlayout","column"],["fxLayoutAlign","space-between"],[1,"filters"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"formControl","value"],[3,"value"],[3,"history","canEdit","revertChange",4,"ngFor","ngForOf"],[3,"history","canEdit","revertChange"]],template:function(t,e){1&t&&(l.ac(0,"div",0),l.ac(1,"span",1),l.ac(2,"mat-form-field",2),l.ac(3,"mat-label"),l.Kc(4,"Field"),l.Zb(),l.ac(5,"mat-select",3),l.Ic(6,I,2,2,"mat-option",4),l.Zb(),l.Zb(),l.ac(7,"mat-form-field",2),l.ac(8,"mat-label"),l.Kc(9,"User"),l.Zb(),l.ac(10,"mat-select",3),l.Ic(11,C,2,2,"mat-option",4),l.Zb(),l.Zb(),l.ac(12,"mat-form-field",2),l.ac(13,"mat-label"),l.Kc(14,"Sort"),l.Zb(),l.ac(15,"mat-select",5),l.ac(16,"mat-option",6),l.Kc(17," Least Recent"),l.Zb(),l.ac(18,"mat-option",6),l.Kc(19," Most Recent"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Ic(20,F,1,2,"rms-frontend-history-segment",7),l.nc(21,"orderBy"),l.Zb()),2&t&&(l.Ib(5),l.tc("formControl",e.fieldFilter),l.Ib(1),l.tc("ngForOf",e.getFilter("field")),l.Ib(4),l.tc("formControl",e.userFilter),l.Ib(1),l.tc("ngForOf",e.getFilter("user")),l.Ib(4),l.tc("formControl",e.sort)("value","asc"),l.Ib(1),l.tc("value","asc"),l.Ib(2),l.tc("value","desc"),l.Ib(2),l.tc("ngForOf",l.qc(21,9,e.filterHistories(),e.sort.value,"date")))},directives:[d.a,d.b,p.b,p.e,g.a,s.n,s.f,c.k,y.n,Z],pipes:[w.a],styles:[".filters[_ngcontent-%COMP%]{width:100px}"]}),t})(),x=(()=>{class t{constructor(){}ngOnInit(){}emit(t){alert(`You are reverting ${t.field} to: "${t.newValue}"`)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ob({type:t,selectors:[["rms-frontend-history-modal"]],decls:10,vars:4,consts:[["fxLayout","row"],["mat-dialog-title",""],["fxFlex","1 1 auto"],["mat-icon-button","","mat-dialog-close",""],[3,"histories","canEdit","revertChange"]],template:function(t,e){1&t&&(l.ac(0,"div",0),l.ac(1,"h1",1),l.Kc(2,"History"),l.Zb(),l.Vb(3,"span",2),l.ac(4,"button",3),l.ac(5,"mat-icon"),l.Kc(6," close "),l.Zb(),l.Zb(),l.Zb(),l.ac(7,"mat-dialog-content"),l.ac(8,"rms-frontend-history-list",4),l.ic("revertChange",(function(t){return e.emit(t)})),l.nc(9,"async"),l.Zb(),l.Zb()),2&t&&(l.Ib(8),l.tc("histories",l.oc(9,2,e.histories))("canEdit",e.canEdit))},directives:[d.c,f.g,d.a,m.a,f.c,h.a,f.d,O],pipes:[c.b],styles:[""]}),t})();var K=n("yDe4"),L=n("IdLP"),E=n("8htw");const M=[{path:"",component:(()=>{class t{constructor(t,e){this.store=t,this.dialog=e}ngOnInit(){const t=[];if(0===this.store.selectSnapshot(t=>{var e;return null===(e=t.history)||void 0===e?void 0:e.histories.length})){for(let e=0;e<10;e++){const n=new b;n.date=new Date,n.date.setDate(n.date.getDate()-(10-e)),n.field=e%2==0?"fieldOne":"fieldTwo",n.oldValue=e>1?t[e-2].newValue:"None",n.user=e%2==0?"Steve":"Bryan",n.version=Math.floor((e+2)/2),n.newValue=`This is the ${n.version} entry for ${n.field}`,t.push(n)}this.store.dispatch(new E.a(t))}}openHistory(){const t=this.dialog.open(x);t.componentInstance.histories=this.histories$,t.componentInstance.canEdit=!0,t.afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(l.Ub(K.i),l.Ub(f.a))},t.\u0275cmp=l.Ob({type:t,selectors:[["lazy-load-route-two"]],decls:12,vars:6,consts:[["fxFlex",""],["mat-raised-button","","color","accent","routerLink","/home",2,"margin","20px"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","column"]],template:function(t,e){1&t&&(l.ac(0,"div",0),l.ac(1,"button",1),l.Kc(2," Lazy-App Home "),l.Zb(),l.ac(3,"button",2),l.ic("click",(function(){return e.openHistory()})),l.Kc(4," History Modal "),l.Zb(),l.ac(5,"div",3),l.ac(6,"span"),l.Kc(7),l.nc(8,"async"),l.Zb(),l.ac(9,"span"),l.Kc(10),l.nc(11,"async"),l.Zb(),l.Zb(),l.Zb()),2&t&&(l.Ib(7),l.Mc(" Current Value for fieldOne is: ",null==l.oc(8,2,e.histories$)[8]?null:l.oc(8,2,e.histories$)[8].newValue," "),l.Ib(3),l.Mc(" Current Value for fieldTwo is: ",null==l.oc(11,4,e.histories$)[9]?null:l.oc(11,4,e.histories$)[9].newValue," "))},directives:[d.a,m.a,o.h,d.c],pipes:[c.b],styles:[""]}),Object(r.b)([Object(K.e)(i.a.getHistories),Object(r.c)("design:type",L.a)],t.prototype,"histories$",void 0),t})()}];let $=(()=>{class t{}return t.\u0275mod=l.Sb({type:t}),t.\u0275inj=l.Rb({factory:function(e){return new(e||t)},imports:[[o.i.forChild(M)],o.i]}),t})(),V=(()=>{class t{}return t.\u0275mod=l.Sb({type:t}),t.\u0275inj=l.Rb({factory:function(e){return new(e||t)},imports:[[c.c,a.c,$,u]]}),t})()}}]);