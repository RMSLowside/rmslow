(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2Xdf":function(e,t,n){"use strict";n.r(t),n.d(t,"FileExplorerComponent",(function(){return _}));var i=n("EM62"),o=n("rQns"),c=n("OZ4H"),l=n("29Wa"),a=n("Cd2c"),r=n("nIj0"),s=n("PBFl");let d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Fb({type:e,selectors:[["s3-new-folder-modal"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"example-full-width"],["matInput","","placeholder","Folder Name",3,"ngModel","ngModelChange"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.Rb(0,"h1",0),i.xc(1,"Create a new folder"),i.Qb(),i.Rb(2,"mat-dialog-content"),i.Rb(3,"mat-form-field",1),i.Rb(4,"input",2),i.Zb("ngModelChange",(function(e){return t.folderName=e})),i.Qb(),i.Qb(),i.Qb(),i.Rb(5,"mat-dialog-actions"),i.Rb(6,"button",3),i.xc(7,"Cancel"),i.Qb(),i.Rb(8,"button",4),i.xc(9," OK "),i.Qb(),i.Qb()),2&e&&(i.zb(4),i.ic("ngModel",t.folderName),i.zb(4),i.ic("mat-dialog-close",t.folderName))},directives:[c.f,c.d,l.b,a.b,r.b,r.h,r.j,c.b,s.a,c.c],styles:[""]}),e})(),b=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Fb({type:e,selectors:[["s3-rename-modal"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"example-full-width"],["matInput","","placeholder","Folder Name",3,"ngModel","ngModelChange"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.Rb(0,"h1",0),i.xc(1,"Rename Element"),i.Qb(),i.Rb(2,"mat-dialog-content"),i.Rb(3,"mat-form-field",1),i.Rb(4,"input",2),i.Zb("ngModelChange",(function(e){return t.folderName=e})),i.Qb(),i.Qb(),i.Qb(),i.Rb(5,"mat-dialog-actions"),i.Rb(6,"button",3),i.xc(7,"Cancel"),i.Qb(),i.Rb(8,"button",4),i.xc(9," OK "),i.Qb(),i.Qb()),2&e&&(i.zb(4),i.ic("ngModel",t.folderName),i.zb(4),i.ic("mat-dialog-close",t.folderName))},directives:[c.f,c.d,l.b,a.b,r.b,r.h,r.j,c.b,s.a,c.c],styles:[""]}),e})();var m=n("A7yd"),f=n("2kYt"),u=n("bFHC"),p=n("kAAd"),g=n("Jb3d"),h=n("hcP7");function v(e,t){if(1&e){const e=i.Sb();i.Rb(0,"button",5),i.Zb("click",(function(){return i.qc(e),i.dc().navigateUp()})),i.Rb(1,"mat-icon"),i.xc(2," arrow_back "),i.Qb(),i.Qb()}}function R(e,t){if(1&e&&(i.Rb(0,"span",17),i.xc(1),i.Qb()),2&e){const e=i.dc();i.zb(1),i.zc("",e.selected.length," File(s) Selected")}}function x(e,t){if(1&e){const e=i.Sb();i.Rb(0,"button",5),i.Zb("click",(function(){return i.qc(e),i.dc().selected=[]})),i.Rb(1,"mat-icon"),i.xc(2," clear "),i.Qb(),i.Qb()}}function Q(e,t){1&e&&(i.Rb(0,"mat-icon",23),i.xc(1," folder "),i.Qb())}function F(e,t){1&e&&(i.Rb(0,"mat-icon",23),i.xc(1," insert_drive_file "),i.Qb())}const w=function(e){return{element:e}},y=function(e){return{"background-color":e}};function M(e,t){if(1&e){const e=i.Sb();i.Rb(0,"mat-grid-tile",18),i.Mb(1,"span",19,20),i.Rb(3,"div",21),i.Zb("click",(function(n){i.qc(e);const o=t.$implicit;return i.dc().navigate(o,n)}))("contextmenu",(function(t){return i.qc(e),i.oc(2).openMenu(),t.preventDefault()})),i.vc(4,Q,2,0,"mat-icon",22),i.vc(5,F,2,0,"mat-icon",22),i.Rb(6,"span"),i.xc(7),i.Qb(),i.Qb(),i.Qb()}if(2&e){const e=t.$implicit,n=i.dc(),o=i.oc(19);i.zb(1),i.ic("matMenuTriggerFor",o)("matMenuTriggerData",i.lc(6,w,e)),i.zb(2),i.ic("ngStyle",i.lc(8,y,n.selected.includes(e)?"grey":"")),i.zb(1),i.ic("ngIf",e.isFolder),i.zb(1),i.ic("ngIf",!e.isFolder),i.zb(2),i.yc(e.name)}}function k(e,t){if(1&e){const e=i.Sb();i.Rb(0,"button",26),i.Zb("click",(function(){i.qc(e);const t=i.dc().element;return i.dc().encrypt(t)})),i.Rb(1,"mat-icon"),i.xc(2,"lock"),i.Qb(),i.Rb(3,"span"),i.xc(4,"Encrypt"),i.Qb(),i.Qb()}}function z(e,t){if(1&e){const e=i.Sb();i.Rb(0,"button",26),i.Zb("click",(function(){i.qc(e);const t=i.dc().element;return i.dc().decrypt(t)})),i.Rb(1,"mat-icon"),i.xc(2,"lock_open"),i.Qb(),i.Rb(3,"span"),i.xc(4,"Decrypt"),i.Qb(),i.Qb()}}const E=function(e){return{self:e}};function C(e,t){if(1&e){const e=i.Sb();i.Rb(0,"button",24),i.Rb(1,"mat-icon"),i.xc(2,"open_with"),i.Qb(),i.Rb(3,"span"),i.xc(4,"Move To"),i.Qb(),i.Qb(),i.Rb(5,"button",25),i.Zb("click",(function(){i.qc(e);const n=t.element;return i.dc().openRenameDialog(n)})),i.Rb(6,"mat-icon"),i.xc(7,"edit"),i.Qb(),i.Rb(8,"span"),i.xc(9,"Rename"),i.Qb(),i.Qb(),i.Rb(10,"button",26),i.Zb("click",(function(){i.qc(e);const n=t.element;return i.dc().deleteElement(n)})),i.Rb(11,"mat-icon"),i.xc(12,"delete"),i.Qb(),i.Rb(13,"span"),i.xc(14,"Delete"),i.Qb(),i.Qb(),i.vc(15,k,5,0,"button",27),i.vc(16,z,5,0,"button",27)}if(2&e){const e=t.element,n=i.dc(),o=i.oc(22);i.ic("matMenuTriggerFor",o)("matMenuTriggerData",i.lc(5,E,e)),i.zb(5),i.ic("disabled",n.selected.length>0),i.zb(10),i.ic("ngIf",!e.isFolder),i.zb(1),i.ic("ngIf",!e.isFolder)}}function D(e,t){if(1&e){const e=i.Sb();i.Rb(0,"button",26),i.Zb("click",(function(){i.qc(e);const t=i.dc().$implicit,n=i.dc().self;return i.dc().moveElement(n,t)})),i.xc(1),i.Qb()}if(2&e){const e=i.dc().$implicit;i.zb(1),i.zc(" ",e.name," ")}}function O(e,t){if(1&e&&(i.Pb(0),i.vc(1,D,2,1,"button",27),i.Ob()),2&e){const e=t.$implicit,n=i.dc().self,o=i.dc();i.zb(1),i.ic("ngIf",e.isFolder&&e.id!==n.id&&!o.selected.includes(e))}}function I(e,t){if(1&e&&i.vc(0,O,2,1,"ng-container",28),2&e){const e=i.dc();i.ic("ngForOf",e._fileElements)}}function Z(e,t){if(1&e){const e=i.Sb();i.Rb(0,"ngx-file-drop",29),i.Zb("onFileDrop",(function(t){i.qc(e);const n=i.dc();return n.dropped(t),n.dragged=!1}))("onFileOver",(function(t){return i.qc(e),i.dc().fileOver(t)}))("onFileLeave",(function(t){i.qc(e);const n=i.dc();return n.fileLeave(t),n.dragged=!1})),i.Qb()}}let _=(()=>{class e{constructor(e){this.dialog=e,this.selected=[],this._fileElements=[],this.folderAdded=new i.m,this.filesUploaded=new i.m,this.elementRemoved=new i.m,this.elementRenamed=new i.m,this.elementMoved=new i.m,this.navigatedDown=new i.m,this.fileSelected=new i.m,this.navigatedUp=new i.m,this.encryptEmitter=new i.m,this.decryptEmitter=new i.m}set fileElements(e){this._fileElements=e,this.selected=[]}deleteElement(e){this.selected.length?(this.selected.includes(e)||this.selected.push(e),this.selected.forEach(e=>{this.elementRemoved.emit(e)})):this.elementRemoved.emit(e)}navigate(e,t){t.ctrlKey?this.selected=this.toggleInArray(this.selected,e):(this.selected=[],e.isFolder?this.navigatedDown.emit(e):this.fileSelected.emit(e))}navigateUp(){this.navigatedUp.emit()}moveElement(e,t){this.selected.length?(this.selected.includes(e)||this.selected.push(e),this.selected.forEach(e=>{this.elementMoved.emit({element:e,moveTo:t})})):this.elementMoved.emit({element:e,moveTo:t})}openNewFolderDialog(){this.dialog.open(d).afterClosed().subscribe(e=>{e&&this.folderAdded.emit({name:e})})}openRenameDialog(e){this.dialog.open(b).afterClosed().subscribe(t=>{t&&(e.name=t,this.elementRenamed.emit(e))})}openMenu(e,t,n){e.preventDefault(),n.openMenu()}uploadFile(e){const t=e.srcElement.files,n=[];for(let i=0;i<t.length;i++){const e=t[i],c=new o.a;c.actualFile=e,c.isFolder=!1,c.name=e.name,n.push(c)}this.filesUploaded.emit(n)}dropped(e,t){const n=[],i=e.length;let c=0;for(const l of e)l.fileEntry.isFile&&l.fileEntry.file(e=>{let t=l.relativePath;const a=t.split("/");a.pop(),t=a.join("/"),c++;const r=new o.a;r.actualFile=e,r.isFolder=!1,r.name=e.name,r.parent=t,n.push(r),c===i&&this.filesUploaded.emit(n)})}fileOver(e){}fileLeave(e){}encrypt(e){this.encryptEmitter.emit(e)}decrypt(e){this.decryptEmitter.emit(e)}toggleInArray(e,t){const n=e.indexOf(t);return-1===n?e.push(t):e.splice(n,1),e}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(c.a))},e.\u0275cmp=i.Fb({type:e,selectors:[["rms-file-explorer"]],inputs:{fileElements:"fileElements",canNavigateUp:"canNavigateUp",path:"path"},outputs:{folderAdded:"folderAdded",filesUploaded:"filesUploaded",elementRemoved:"elementRemoved",elementRenamed:"elementRenamed",elementMoved:"elementMoved",navigatedDown:"navigatedDown",fileSelected:"fileSelected",navigatedUp:"navigatedUp",encryptEmitter:"encryptEmitter",decryptEmitter:"decryptEmitter"},decls:27,vars:7,consts:[[3,"dragover"],["mat-icon-button","",3,"click",4,"ngIf"],[2,"margin-left","8px"],[1,"spacer"],["style","font-size: small;",4,"ngIf"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between stretch",1,"container"],["fxFlex","","fxLayout","row",1,"content"],["cols","8","rowHeight","100px","fxFlex",""],["class","file-or-folder",4,"ngFor","ngForOf"],[3,"overlapTrigger"],["rootMenu","matMenu"],["matMenuContent",""],["moveToMenu","matMenu"],["dropZoneLabel","Drop files here","dropZoneClassName","drop-area","contentClassName","drop-content",3,"onFileDrop","onFileOver","onFileLeave",4,"ngIf"],["hidden","","multiple","","type","file",3,"change"],["uploader",""],[2,"font-size","small"],[1,"file-or-folder"],[3,"matMenuTriggerFor","matMenuTriggerData"],["menuTrigger","matMenuTrigger"],[1,"element-container",3,"ngStyle","click","contextmenu"],["color","primary","class","file-or-folder-icon pointer",4,"ngIf"],["color","primary",1,"file-or-folder-icon","pointer"],["mat-menu-item","",3,"matMenuTriggerFor","matMenuTriggerData"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["dropZoneLabel","Drop files here","dropZoneClassName","drop-area","contentClassName","drop-content",3,"onFileDrop","onFileOver","onFileLeave"]],template:function(e,t){if(1&e){const e=i.Sb();i.Rb(0,"div",0),i.Zb("dragover",(function(){return t.dragged=!0})),i.Rb(1,"mat-toolbar"),i.vc(2,v,3,0,"button",1),i.Rb(3,"span",2),i.xc(4),i.Qb(),i.Mb(5,"span",3),i.vc(6,R,2,1,"span",4),i.vc(7,x,3,0,"button",1),i.Rb(8,"button",5),i.Zb("click",(function(){return t.openNewFolderDialog()})),i.Rb(9,"mat-icon"),i.xc(10," create_new_folder "),i.Qb(),i.Qb(),i.Rb(11,"button",5),i.Zb("click",(function(){return i.qc(e),i.oc(26).click()})),i.Rb(12,"mat-icon"),i.xc(13," cloud_upload "),i.Qb(),i.Qb(),i.Qb(),i.Rb(14,"div",6),i.Rb(15,"div",7),i.Rb(16,"mat-grid-list",8),i.vc(17,M,8,10,"mat-grid-tile",9),i.Qb(),i.Qb(),i.Qb(),i.Rb(18,"mat-menu",10,11),i.vc(20,C,17,7,"ng-template",12),i.Qb(),i.Rb(21,"mat-menu",null,13),i.vc(23,I,1,1,"ng-template",12),i.Qb(),i.Qb(),i.vc(24,Z,1,0,"ngx-file-drop",14),i.Rb(25,"input",15,16),i.Zb("change",(function(e){return t.uploadFile(e)})),i.Qb()}2&e&&(i.zb(2),i.ic("ngIf",t.canNavigateUp),i.zb(2),i.zc(" ",t.path||"Files"," "),i.zb(2),i.ic("ngIf",t.selected.length),i.zb(1),i.ic("ngIf",t.selected.length),i.zb(10),i.ic("ngForOf",t._fileElements),i.zb(1),i.ic("overlapTrigger",!1),i.zb(6),i.ic("ngIf",t.dragged))},directives:[m.a,f.g,s.a,u.a,p.a,f.f,g.e,g.a,p.c,g.d,f.h,g.b,h.a],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.file-or-folder[_ngcontent-%COMP%]{padding:8px;overflow:hidden}.file-or-folder-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:50px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.element-container[_ngcontent-%COMP%]{display:flex;align-content:space-between;flex-direction:column;padding:15px;word-break:break-all;overflow-y:hidden;height:60px}"],changeDetection:0}),e})()}}]);