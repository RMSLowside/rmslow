(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"PA/7":function(t,e,o){"use strict";o.r(e),o.d(e,"CreateRuleComponent",(function(){return E}));var n=o("EM62"),i=o("OZ4H"),r=o("qFEQ"),a=o("nIj0"),c=o("29Wa"),b=o("Cd2c"),d=o("H0K4"),s=o("R7+U"),l=o("mFH5"),m=o("PBFl"),u=o("bFHC"),p=o("Meci"),f=o("oqI+"),h=o("2kYt"),g=o("zmEM");function v(t,e){1&t&&n.Rb(0,"div",13)}function V(t,e){if(1&t&&(n.Wb(0,"div",14),n.Wb(1,"mat-form-field",15),n.Wb(2,"mat-label"),n.Ec(3,"Condition"),n.Vb(),n.Wb(4,"mat-select",16),n.Wb(5,"mat-option",17),n.Ec(6,"CreateDate"),n.Vb(),n.Wb(7,"mat-option",18),n.Ec(8,"Producer"),n.Vb(),n.Wb(9,"mat-option",19),n.Ec(10,"Title"),n.Vb(),n.Wb(11,"mat-option",20),n.Ec(12,"TextContent"),n.Vb(),n.Vb(),n.Vb(),n.Wb(13,"mat-form-field",15),n.Wb(14,"mat-label"),n.Ec(15,"Comparator"),n.Vb(),n.Wb(16,"mat-select",21),n.Wb(17,"mat-option",22),n.Ec(18,"EQUALS"),n.Vb(),n.Wb(19,"mat-option",23),n.Ec(20,"CONTAINS"),n.Vb(),n.Wb(21,"mat-option",24),n.Ec(22,"NOT CONTAINS"),n.Vb(),n.Wb(23,"mat-option",25),n.Ec(24,"GREATER THAN"),n.Vb(),n.Wb(25,"mat-option",26),n.Ec(26,"LESS THAN"),n.Vb(),n.Vb(),n.Vb(),n.Wb(27,"mat-form-field",27),n.Wb(28,"mat-label"),n.Ec(29,"Value"),n.Vb(),n.Rb(30,"input",28),n.Vb(),n.Vb()),2&t){const t=n.ic().index;n.nc("formGroupName",t)}}function W(t,e){if(1&t&&(n.Wb(0,"div",14),n.Wb(1,"mat-form-field",29),n.Wb(2,"mat-label"),n.Ec(3,"Action"),n.Vb(),n.Wb(4,"mat-select",30),n.Wb(5,"mat-option",31),n.Ec(6,"Add To RMM"),n.Vb(),n.Wb(7,"mat-option",32),n.Ec(8,"Send Notification"),n.Vb(),n.Wb(9,"mat-option",33),n.Ec(10,"Transfer To System"),n.Vb(),n.Wb(11,"mat-option",34),n.Ec(12,"Drop / Do nothing"),n.Vb(),n.Vb(),n.Vb(),n.Wb(13,"mat-form-field",35),n.Wb(14,"mat-label"),n.Ec(15,"Value"),n.Vb(),n.Rb(16,"input",28),n.Vb(),n.Vb()),2&t){const t=n.ic().index;n.nc("formGroupName",t)}}function x(t,e){if(1&t){const t=n.Xb();n.Wb(0,"div",3),n.Wb(1,"mat-card",4),n.Cc(2,v,1,0,"div",5),n.Wb(3,"div",6),n.Wb(4,"button",7),n.ec("click",(function(){n.vc(t);const o=e.index;return n.ic().removeHelpCard(o)})),n.Wb(5,"mat-icon"),n.Ec(6,"remove"),n.Vb(),n.Vb(),n.Wb(7,"button",8),n.ec("click",(function(){n.vc(t);const o=e.index;return n.ic().addHelpCard(o)})),n.Wb(8,"mat-icon"),n.Ec(9,"add"),n.Vb(),n.Vb(),n.Wb(10,"button",9),n.Wb(11,"mat-icon",10),n.Ec(12,"swap_vert"),n.Vb(),n.Vb(),n.Vb(),n.Rb(13,"mat-divider",11),n.Cc(14,V,31,1,"div",12),n.Cc(15,W,17,1,"div",12),n.Vb(),n.Vb()}if(2&t){const t=n.ic();n.Eb(14),n.nc("ngIf",t.conditionType),n.Eb(1),n.nc("ngIf",!t.conditionType)}}let C=(()=>{class t{constructor(t){this.formBuilder=t,this.contents=[],this.conditionType=!0,this.contentChange=new n.p}ngOnInit(){this.form=this.formBuilder.group({items:this.formBuilder.array([])}),this.items=this.form.get("items"),this.conditionType?this.contents.length>0?this.contents.forEach(t=>{this.items.push(this.formBuilder.group({condition:new a.e(t.condition||""),comparator:new a.e(t.comparator||""),value:new a.e(t.value||""),order:new a.e(t.order)}))}):this.items.push(this.formBuilder.group({condition:"",comparator:"",value:"",order:""})):this.contents.length>0?this.contents.forEach(t=>{this.items.push(this.formBuilder.group({action:new a.e(t.condition||""),value:new a.e(t.comparator||""),order:new a.e(t.order)}))}):this.items.push(this.formBuilder.group({action:"",value:"",order:""})),this.form.get("items").valueChanges.subscribe(t=>{this.contents=this.reorder(t),this.contentChange.emit(this.contents)})}drop(t){const e=this.items.at(t.previousIndex);this.items.removeAt(t.previousIndex),this.items.insert(t.currentIndex,e)}removeHelpCard(t){this.items.controls.length>1&&(this.items=this.form.get("items"),this.items.removeAt(t))}addHelpCard(t){this.items=this.form.get("items"),this.items.insert(t+1,this.formBuilder.group(this.conditionType?{condition:"",comparator:"",value:"",order:""}:{action:"",value:"",order:""}))}reorder(t){return t.map((t,e)=>(t.order=e+1,t))}emitContentChange(t){this.contentChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(a.d))},t.\u0275cmp=n.Kb({type:t,selectors:[["rms-frontend-rule-build-piece"]],inputs:{contents:"contents",conditionType:"conditionType"},outputs:{contentChange:"contentChange"},decls:3,vars:2,consts:[[1,"example-form",3,"formGroup"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["formArrayName","items","cdkDrag","","class","example-box",4,"ngFor","ngForOf"],["formArrayName","items","cdkDrag","",1,"example-box"],["fxLayout","row",1,"full-width"],["class","drag-placeholder",4,"cdkDragPlaceholder"],["fxLayout","column","fxLayoutAlign","space-evenly start"],["mat-icon-button","","type","button",1,"remove-btn",3,"click"],["mat-icon-button","","type","button",3,"click"],["mat-icon-button","","type","button"],["cdkDragHandle","",1,"dragable"],["vertical","true",2,"margin-right","10px"],["fxLayout","row","fxLayoutAlign","space-around center","class","full-width",3,"formGroupName",4,"ngIf"],[1,"drag-placeholder"],["fxLayout","row","fxLayoutAlign","space-around center",1,"full-width",3,"formGroupName"],[2,"width","20%"],["formControlName","condition"],["value","createDate"],["value","producer"],["value","title"],["value","text"],["formControlName","comparator"],["value","equals"],["value","contains"],["value","notcontains"],["value","greater"],["value","less"],[2,"width","45%"],["matInput","","formControlName","value","required",""],[2,"width","30%"],["formControlName","action"],["value","rmm"],["value","message"],["value","transfer"],["value","drop"],[2,"width","50%"]],template:function(t,e){1&t&&(n.Wb(0,"form",0),n.Wb(1,"div",1),n.ec("cdkDropListDropped",(function(t){return e.drop(t)})),n.Cc(2,x,16,2,"div",2),n.Vb(),n.Vb()),2&t&&(n.nc("formGroup",e.form),n.Eb(2),n.nc("ngForOf",e.form.get("items").controls))},directives:[a.s,a.n,a.g,f.d,h.k,a.c,f.a,p.a,r.c,f.c,r.b,m.a,u.a,f.b,g.a,h.l,a.h,c.b,c.e,s.a,a.m,a.f,l.n,b.b,a.b,a.q],styles:[".example-form[_ngcontent-%COMP%], .full-width[_ngcontent-%COMP%]{width:100%}.example-list[_ngcontent-%COMP%]{width:100%;border:1px solid #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;background:#fff;font-size:14px;width:100%}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.drag-placeholder[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-placeholder[_ngcontent-%COMP%]{background:#ccc;border:3px dotted #999;min-height:60px}.dragable[_ngcontent-%COMP%]{cursor:move}.remove-btn[_ngcontent-%COMP%]{color:red}"]}),t})(),E=(()=>{class t{constructor(t,e){this.dialogRef=t,this.dialog=e,this.name=""}ngOnInit(){}saveForm(){console.log("Actual save the information one day"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(i.f),n.Qb(i.a))},t.\u0275cmp=n.Kb({type:t,selectors:[["rms-frontend-create-rule"]],inputs:{name:"name"},decls:54,vars:2,consts:[[1,"body"],["fxLayout","column","fxLayoutAlign","space-between start",1,"left"],[1,"full-width"],["matInput","","required",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","5","cdkAutosizeMaxRows","10","required",""],["matNativeControl","","required",""],["value","guide://1111-1111-1111"],["value","guide://2222-2222-2222"],["value","guide://3333-3333-3333"],["value","guide://4444-4444-4444"],["fxFlex","1 1 auto"],["mat-raised-button","","color","accent",3,"click"],["fxFlex","1 1 auto",1,"right"],[1,"build-top"],["fxLayout","column","fxLayoutAlign","start stretch",1,"build-bottom"],[1,"card"],[3,"conditionType"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"div"),n.Wb(3,"form"),n.Wb(4,"mat-form-field",2),n.Wb(5,"mat-label"),n.Ec(6,"Name"),n.Vb(),n.Rb(7,"input",3),n.Vb(),n.Wb(8,"mat-form-field",2),n.Wb(9,"mat-label"),n.Ec(10,"Description"),n.Vb(),n.Rb(11,"textarea",4),n.Vb(),n.Wb(12,"mat-form-field",2),n.Wb(13,"mat-label"),n.Ec(14,"Record System"),n.Vb(),n.Wb(15,"mat-select",5),n.Wb(16,"mat-option",6),n.Ec(17,"Google"),n.Vb(),n.Wb(18,"mat-option",7),n.Ec(19,"Amazon"),n.Vb(),n.Wb(20,"mat-option",8),n.Ec(21,"Microsoft"),n.Vb(),n.Wb(22,"mat-option",9),n.Ec(23,"SpaceX"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(24,"p",2),n.Ec(25,"Priority: LAST"),n.Vb(),n.Wb(26,"p",2),n.Ec(27,"Active: FALSE"),n.Vb(),n.Vb(),n.Rb(28,"span",10),n.Wb(29,"button",11),n.ec("click",(function(){return e.saveForm()})),n.Wb(30,"mat-icon"),n.Ec(31,"save"),n.Vb(),n.Ec(32," Save Rule "),n.Vb(),n.Vb(),n.Wb(33,"div",12),n.Wb(34,"div",13),n.Wb(35,"h2"),n.Ec(36,"Build Rule"),n.Vb(),n.Vb(),n.Wb(37,"div",14),n.Wb(38,"mat-card",15),n.Wb(39,"mat-card-header"),n.Wb(40,"mat-card-title"),n.Ec(41,"Conditions"),n.Vb(),n.Wb(42,"mat-card-subtitle"),n.Ec(43,"Add at least one condition"),n.Vb(),n.Vb(),n.Wb(44,"mat-card-content"),n.Rb(45,"rms-frontend-rule-build-piece",16),n.Vb(),n.Vb(),n.Wb(46,"mat-card",15),n.Wb(47,"mat-card-header"),n.Wb(48,"mat-card-title"),n.Ec(49,"Actions"),n.Vb(),n.Wb(50,"mat-card-subtitle"),n.Ec(51,"Add at least one action"),n.Vb(),n.Vb(),n.Wb(52,"mat-card-content"),n.Rb(53,"rms-frontend-rule-build-piece",16),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&t&&(n.Eb(45),n.nc("conditionType",!0),n.Eb(8),n.nc("conditionType",!1))},directives:[r.c,r.b,a.s,a.n,a.o,c.b,c.e,b.b,d.b,s.a,l.n,r.a,m.a,u.a,p.a,p.c,p.f,p.e,p.b,C],styles:[".body[_ngcontent-%COMP%]{padding-top:15px;height:100%}.left[_ngcontent-%COMP%]{width:25%;border-right:1px solid;height:100%;overflow:hidden}.right[_ngcontent-%COMP%]{padding-left:15px}.build-top[_ngcontent-%COMP%]{width:100%}.build-bottom[_ngcontent-%COMP%]{height:90%;width:100%;overflow:auto}.card[_ngcontent-%COMP%]{margin-bottom:10px}.full-width[_ngcontent-%COMP%]{width:90%}"]}),t})()}}]);