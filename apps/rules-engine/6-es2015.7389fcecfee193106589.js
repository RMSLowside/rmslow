(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RqEb:function(t,e,n){"use strict";n.r(e),n.d(e,"CreateRuleComponent",(function(){return $}));var o=n("D57K"),i=n("kJa8"),c=n("IdLP"),a=n("yDe4"),r=n("B797"),s=n("EM62"),b=n("OZ4H");let d=(()=>{class t{constructor(){}buildRulesText(t,e){let n="",o="";for(let i=0;i<t.length;i++){let e=t[i],o=this.determineText(e.conditionName.value),c=this.determineText(e.conditionComparator),a=e.conditionValue||"";""!=e.conditionValueHidden&&(a=a.split(", ").join(" OR ")),n=n+"with "+o+c+a,i!=t.length-1&&(n+="<br><i>AND</i><br>")}for(let i=0;i<e.length;i++){let t=e[i],n=this.determineText(t.actionName),c=t.actionValue||"";""!=t.actionValueHidden&&(c=c.split(", ").join(" AND ")),o=o+n+"<b>"+c+"</b>",i!=e.length-1&&(o+="<br><i>AND</i><br>")}return"ALL_CONDITIONS<br><br><h3><b>Perform these actions</b></h3>ALL_ACTIONS".replace("ALL_CONDITIONS",n).replace("ALL_ACTIONS",o)}determineText(t){switch(t){case"equals":return"equal to ";case"notEquals":return"not equal to ";case"contains":return"containing ";case"notContains":return"not containing ";case"greaterThan":return"greater than ";case"lessThan":return"less than ";case"createDate":return"a <b>create date</b> ";case"producer":return"a <b>producer</b> ";case"title":return"the <b>title</b> ";case"textContent":return"the <b>text content</b> ";case"rmm":return"Add document to RMM with value ";case"message":return"Then a message to ";case"transfer":return"Transfer to ";case"drop":return"Do nothing";default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=n("qFEQ"),l=n("nIj0"),u=n("29Wa"),f=n("Cd2c"),g=n("H0K4"),p=n("R7+U"),h=n("mFH5"),V=n("PBFl"),v=n("bFHC"),x=n("Meci"),W=n("2kYt");n("LTOS");var C=n("zmEM");function E(t,e){if(1&t){const t=s.Xb();s.Wb(0,"div",7),s.Wb(1,"mat-card",8),s.Wb(2,"div",9),s.Wb(3,"button",10),s.ec("click",(function(){s.vc(t);const n=e.index;return s.ic().removeTextValue(n)})),s.Wb(4,"mat-icon"),s.Ec(5,"remove"),s.Vb(),s.Vb(),s.Wb(6,"button",11),s.ec("click",(function(){s.vc(t);const n=e.index;return s.ic().addTextValue(n)})),s.Wb(7,"mat-icon"),s.Ec(8,"add"),s.Vb(),s.Vb(),s.Vb(),s.Rb(9,"mat-divider",12),s.Wb(10,"div",13),s.Wb(11,"mat-form-field",14),s.Wb(12,"mat-label"),s.Ec(13,"Text"),s.Vb(),s.Rb(14,"input",15),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=e.index;s.Eb(10),s.nc("formGroupName",t)}}let y=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.dialog=e,this.dialogRef=n,this.contents=[],this.contentSaved=new s.p,this.form=this.formBuilder.group({items:this.formBuilder.array([])})}ngOnInit(){this.items=this.form.get("items"),0==this.contents.length?this.items.push(this.formBuilder.group({textValue:"",order:""})):this.contents.forEach(t=>{this.items.push(this.formBuilder.group({textValue:new l.e(t.textValue||""),order:new l.e(t.order)}))}),this.form.valueChanges.subscribe(t=>{this.contents=this.reorder(t.items)})}removeTextValue(t){this.items.controls.length>1&&(this.items=this.form.get("items"),this.items.removeAt(t))}addTextValue(t){this.items=this.form.get("items"),this.items.push(this.formBuilder.group({textValue:"",order:""}))}reorder(t){return t.map((t,e)=>(t.order=e+1,t))}save(){this.contentSaved.emit(this.contents),this.dialogRef.close()}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(l.d),s.Qb(b.a),s.Qb(b.f))},t.\u0275cmp=s.Kb({type:t,selectors:[["text-add-modal"]],inputs:{contents:"contents"},outputs:{contentSaved:"contentSaved"},decls:14,vars:2,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"main"],[1,"title"],[1,"form",3,"formGroup"],["formArrayName","items","class","textTerms",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center",1,"buttons"],["mat-raised-button","","type","button","color","accent",1,"button",3,"click"],["mat-raised-button","","type","button","color","accent",3,"click"],["formArrayName","items",1,"textTerms"],["fxLayout","row",1,"full-width"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","type","button",1,"remove-btn",3,"click"],["mat-icon-button","","type","button",3,"click"],["vertical","true",2,"margin-right","10px"],["fxLayout","row","fxLayoutAlign","space-around center",1,"full-width",3,"formGroupName"],[2,"width","100%"],["matInput","","required","","formControlName","textValue"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Ec(2,"Add Text Values"),s.Vb(),s.Wb(3,"form",2),s.Cc(4,E,15,1,"div",3),s.Vb(),s.Wb(5,"div",4),s.Wb(6,"button",5),s.ec("click",(function(){return e.save()})),s.Wb(7,"mat-icon"),s.Ec(8,"save"),s.Vb(),s.Ec(9," Save "),s.Vb(),s.Wb(10,"button",6),s.ec("click",(function(){return e.close()})),s.Wb(11,"mat-icon"),s.Ec(12,"close"),s.Vb(),s.Ec(13," Close "),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Eb(3),s.nc("formGroup",e.form),s.Eb(1),s.nc("ngForOf",e.form.get("items").controls))},directives:[m.c,m.b,l.s,l.n,l.g,W.k,V.a,v.a,l.c,x.a,C.a,l.h,u.b,u.e,f.b,l.b,l.q,l.m,l.f],styles:[".main[_ngcontent-%COMP%]{height:100%;width:100%}.title[_ngcontent-%COMP%]{height:10%}.form[_ngcontent-%COMP%]{height:75%;width:100%;overflow-y:auto}.buttons[_ngcontent-%COMP%]{width:100%;height:10%}.button[_ngcontent-%COMP%]{margin-right:10px}.textTerms[_ngcontent-%COMP%]{overflow-y:auto}.full-width[_ngcontent-%COMP%]{width:100%}.remove-btn[_ngcontent-%COMP%]{color:red}"]}),t})();var w=n("oqI+"),O=n("Jb3d"),A=n("gcUQ");function T(t,e){1&t&&s.Rb(0,"div",15)}function M(t,e){if(1&t&&(s.Wb(0,"mat-option",23),s.Ec(1),s.Vb()),2&t){const t=e.$implicit;s.nc("value",t),s.Eb(1),s.Gc(" ",t.name," ")}}function N(t,e){1&t&&(s.Wb(0,"mat-select",24),s.Wb(1,"mat-option",25),s.Ec(2,"EQUALS"),s.Vb(),s.Wb(3,"mat-option",26),s.Ec(4,"NOT EQUALS"),s.Vb(),s.Wb(5,"mat-option",27),s.Ec(6,"CONTAINS"),s.Vb(),s.Wb(7,"mat-option",28),s.Ec(8,"NOT CONTAINS"),s.Vb(),s.Vb())}function k(t,e){1&t&&(s.Wb(0,"mat-select",24),s.Wb(1,"mat-option",25),s.Ec(2,"EQUALS"),s.Vb(),s.Wb(3,"mat-option",26),s.Ec(4,"NOT EQUALS"),s.Vb(),s.Wb(5,"mat-option",29),s.Ec(6,"GREATER THAN"),s.Vb(),s.Wb(7,"mat-option",30),s.Ec(8,"LESS THAN"),s.Vb(),s.Vb())}function S(t,e){1&t&&(s.Wb(0,"mat-select",24),s.Wb(1,"mat-option",25),s.Ec(2,"EQUALS"),s.Vb(),s.Wb(3,"mat-option",26),s.Ec(4,"NOT EQUALS"),s.Vb(),s.Vb())}function I(t,e){1&t&&s.Rb(0,"mat-select",31),2&t&&s.nc("disabled",!0)}function L(t,e){if(1&t){const t=s.Xb();s.Wb(0,"div",32),s.Wb(1,"button",8),s.ec("click",(function(){s.vc(t);const e=s.ic(2).index;return s.ic().openMultiAddModal(e,"condition")})),s.Wb(2,"mat-icon"),s.Ec(3,"add_box"),s.Vb(),s.Vb(),s.Wb(4,"mat-form-field",33),s.Wb(5,"mat-label"),s.Ec(6,"Value"),s.Vb(),s.Rb(7,"input",34),s.Vb(),s.Wb(8,"mat-form-field",35),s.Rb(9,"input",36),s.Vb(),s.Vb()}}function R(t,e){if(1&t&&(s.Wb(0,"mat-form-field",32),s.Wb(1,"mat-label"),s.Ec(2,"Choose a date"),s.Vb(),s.Rb(3,"input",37),s.Rb(4,"mat-datepicker-toggle",38),s.Rb(5,"mat-datepicker",39,40),s.Vb()),2&t){const t=s.tc(6);s.Eb(3),s.nc("matDatepicker",t),s.Eb(1),s.nc("for",t)}}function _(t,e){if(1&t&&(s.Wb(0,"mat-option",23),s.Ec(1),s.Vb()),2&t){const t=e.$implicit;s.nc("value",t),s.Eb(1),s.Gc(" ",t," ")}}function P(t,e){if(1&t&&(s.Wb(0,"mat-form-field",32),s.Wb(1,"mat-select",41),s.Cc(2,_,2,2,"mat-option",19),s.Vb(),s.Vb()),2&t){const t=s.ic(2).index,e=s.ic();s.Eb(2),s.nc("ngForOf",e.getOptions(t,"condition"))}}function D(t,e){1&t&&(s.Wb(0,"mat-form-field",32),s.Wb(1,"mat-label"),s.Ec(2,"Value"),s.Vb(),s.Rb(3,"input",42),s.Vb()),2&t&&(s.Eb(3),s.nc("disabled",!0))}function F(t,e){if(1&t){const t=s.Xb();s.Wb(0,"div",16),s.Wb(1,"mat-form-field",17),s.Wb(2,"mat-label"),s.Ec(3,"Condition"),s.Vb(),s.Wb(4,"mat-select",18),s.ec("selectionChange",(function(e){s.vc(t);const n=s.ic().index;return s.ic().conditionChanged(e,n)})),s.Cc(5,M,2,2,"mat-option",19),s.Vb(),s.Vb(),s.Wb(6,"mat-form-field",17),s.Wb(7,"mat-label"),s.Ec(8,"Comparator"),s.Vb(),s.Cc(9,N,9,0,"mat-select",20),s.Cc(10,k,9,0,"mat-select",20),s.Cc(11,S,5,0,"mat-select",20),s.Cc(12,I,1,1,"mat-select",21),s.Vb(),s.Cc(13,L,10,0,"div",22),s.Cc(14,R,7,2,"mat-form-field",22),s.Cc(15,P,3,1,"mat-form-field",22),s.Cc(16,D,4,1,"mat-form-field",22),s.Vb()}if(2&t){const t=s.ic().index,e=s.ic();s.nc("formGroupName",t),s.Eb(5),s.nc("ngForOf",e.conditions),s.Eb(4),s.nc("ngIf","text"==e.getType(t)),s.Eb(1),s.nc("ngIf","date"==e.getType(t)),s.Eb(1),s.nc("ngIf","select"==e.getType(t)),s.Eb(1),s.nc("ngIf",!e.getType(t)),s.Eb(1),s.nc("ngIf","text"==e.getType(t)),s.Eb(1),s.nc("ngIf","date"==e.getType(t)),s.Eb(1),s.nc("ngIf","select"==e.getType(t)),s.Eb(1),s.nc("ngIf",!e.getType(t))}}function H(t,e){if(1&t&&(s.Wb(0,"mat-option",23),s.Ec(1),s.Vb()),2&t){const t=e.$implicit;s.nc("value",t),s.Eb(1),s.Gc(" ",t," ")}}function q(t,e){if(1&t&&(s.Wb(0,"mat-form-field",32),s.Wb(1,"mat-select",49),s.Cc(2,H,2,2,"mat-option",19),s.Vb(),s.Vb()),2&t){const t=s.ic(2).index,e=s.ic();s.Eb(2),s.nc("ngForOf",e.getOptions(t,"action"))}}function G(t,e){if(1&t){const t=s.Xb();s.Wb(0,"div",32),s.Wb(1,"button",8),s.ec("click",(function(){s.vc(t);const e=s.ic(2).index;return s.ic().openMultiAddModal(e,"action")})),s.Wb(2,"mat-icon"),s.Ec(3,"add_box"),s.Vb(),s.Vb(),s.Wb(4,"mat-form-field",33),s.Wb(5,"mat-label"),s.Ec(6,"Value"),s.Vb(),s.Rb(7,"input",50),s.Vb(),s.Wb(8,"mat-form-field",35),s.Rb(9,"input",51),s.Vb(),s.Vb()}}function Q(t,e){if(1&t&&(s.Wb(0,"mat-option",23),s.Ec(1),s.Vb()),2&t){const t=e.$implicit;s.nc("value",t),s.Eb(1),s.Gc(" ",t," ")}}function B(t,e){if(1&t&&(s.Wb(0,"mat-form-field",32),s.Wb(1,"mat-select",49),s.Cc(2,Q,2,2,"mat-option",19),s.Vb(),s.Vb()),2&t){const t=s.ic(2).index,e=s.ic();s.Eb(2),s.nc("ngForOf",e.getOptions(t,"action"))}}function z(t,e){1&t&&(s.Wb(0,"mat-form-field",32),s.Wb(1,"mat-label"),s.Ec(2,"Value"),s.Vb(),s.Rb(3,"input",42),s.Vb()),2&t&&(s.Eb(3),s.nc("disabled",!0))}function U(t,e){if(1&t&&(s.Wb(0,"div",16),s.Wb(1,"mat-form-field",43),s.Wb(2,"mat-label"),s.Ec(3,"Action"),s.Vb(),s.Wb(4,"mat-select",44),s.Wb(5,"mat-option",45),s.Ec(6,"Add To RMM"),s.Vb(),s.Wb(7,"mat-option",46),s.Ec(8,"Send Notification"),s.Vb(),s.Wb(9,"mat-option",47),s.Ec(10,"Transfer To System"),s.Vb(),s.Wb(11,"mat-option",48),s.Ec(12,"Drop / Do nothing"),s.Vb(),s.Vb(),s.Vb(),s.Cc(13,q,3,1,"mat-form-field",22),s.Cc(14,G,10,0,"div",22),s.Cc(15,B,3,1,"mat-form-field",22),s.Cc(16,z,4,1,"mat-form-field",22),s.Vb()),2&t){const t=s.ic().index,e=s.ic();s.nc("formGroupName",t),s.Eb(13),s.nc("ngIf","rmm"==e.getAction(t)),s.Eb(1),s.nc("ngIf","message"==e.getAction(t)),s.Eb(1),s.nc("ngIf","transfer"==e.getAction(t)),s.Eb(1),s.nc("ngIf",!e.getAction(t)||"drop"==e.getAction(t))}}function j(t,e){if(1&t){const t=s.Xb();s.Wb(0,"div",3),s.Wb(1,"mat-card",4),s.Cc(2,T,1,0,"div",5),s.Wb(3,"div",6),s.Wb(4,"button",7),s.ec("click",(function(){s.vc(t);const n=e.index;return s.ic().removeHelpCard(n)})),s.Wb(5,"mat-icon"),s.Ec(6,"remove"),s.Vb(),s.Vb(),s.Wb(7,"button",8),s.ec("click",(function(){s.vc(t);const n=e.index;return s.ic().addHelpCard(n)})),s.Wb(8,"mat-icon"),s.Ec(9,"add"),s.Vb(),s.Vb(),s.Wb(10,"button",9),s.Wb(11,"mat-icon",10),s.Ec(12,"swap_vert"),s.Vb(),s.Vb(),s.Wb(13,"mat-menu",null,11),s.Wb(15,"button",12),s.ec("click",(function(){s.vc(t);const n=e.index;return s.ic().moveUp(n)})),s.Ec(16,"Move Up"),s.Vb(),s.Wb(17,"button",12),s.ec("click",(function(){s.vc(t);const n=e.index;return s.ic().moveDown(n)})),s.Ec(18,"Move Down"),s.Vb(),s.Vb(),s.Vb(),s.Rb(19,"mat-divider",13),s.Cc(20,F,17,10,"div",14),s.Cc(21,U,17,5,"div",14),s.Vb(),s.Vb()}if(2&t){const t=s.tc(14),e=s.ic();s.Eb(10),s.nc("matMenuTriggerFor",t),s.Eb(10),s.nc("ngIf",e.conditionType),s.Eb(1),s.nc("ngIf",!e.conditionType)}}let X=(()=>{class t{constructor(t,e){this.formBuilder=t,this.dialog=e,this.contents=[],this.conditionType=!0,this.contentChange=new s.p,this.currentValue=null,this.conditions=[{name:"Create Date",value:"createDate",type:"date"},{name:"Producer",value:"producer",type:"select"},{name:"Title",value:"title",type:"text"},{name:"Text Content",value:"textContent",type:"text"}],this.form=this.formBuilder.group({items:this.formBuilder.array([])})}ngOnInit(){this.items=this.form.get("items"),this.items.push(this.formBuilder.group(this.conditionType?{conditionName:"",conditionComparator:"",conditionValue:"",conditionValueHidden:"",order:""}:{actionName:"",actionValue:"",actionValueHidden:"",order:""})),this.form.valueChanges.subscribe(t=>{this.contents=this.reorder(t.items),this.contentChange.emit(this.contents)})}drop(t){const e=this.items.at(t.previousIndex);this.items.removeAt(t.previousIndex),this.items.insert(t.currentIndex,e)}removeHelpCard(t){this.items.controls.length>1&&(this.items=this.form.get("items"),this.items.removeAt(t))}addHelpCard(t){this.items=this.form.get("items"),this.items.insert(t+1,this.formBuilder.group(this.conditionType?{conditionName:"",conditionComparator:"",conditionValue:"",conditionValueHidden:""}:{actionName:"",actionValue:"",actionValueHidden:"",order:""}))}reorder(t){return t.map((t,e)=>(t.order=e+1,t))}emitContentChange(t){this.contentChange.emit(t)}moveUp(t){if(this.items=this.form.get("items"),t>0){const e=this.items.at(t);this.items.removeAt(t),this.items.insert(t-1,e)}}moveDown(t){if(this.items=this.form.get("items"),this.items.controls.length!=length){const e=this.items.at(t);this.items.removeAt(t),this.items.insert(t+1,e)}}getType(t){return this.form.get("items").get(t.toString()).get("conditionName").value.type}getAction(t){return this.form.get("items").get(t.toString()).get("actionName").value}conditionChanged(t,e){this.form.get("items").get(e.toString()).get("conditionComparator").setValue(""),this.form.get("items").get(e.toString()).get("conditionValue").setValue("")}getOptions(t,e){let n="";switch("condition"==e?n=this.form.get("items").get(t.toString()).get("conditionName").value.value:"action"==e&&(n=this.form.get("items").get(t.toString()).get("actionName").value),n){case"producer":case"transfer":return["System 1","System 2"];case"rmm":return["FRCS-1","FRCS-2","FRCS-3"];default:return[]}}openMultiAddModal(t,e){let n="",o="";"condition"==e?(n="conditionValue",o="conditionValueHidden"):"action"==e&&(n="actionValue",o="actionValueHidden");let i=this.form.get("items").get(t.toString()).get(o).value||[];const c=this.dialog.open(y,{id:"text-add-modal",hasBackdrop:!1,minWidth:"20%",width:"20%",minHeight:"50%",height:"50%"});c.componentInstance.contents=i,c.componentInstance.contentSaved.subscribe(e=>{var i="";for(var c of e)i=i+c.textValue+", ";this.form.get("items").get(t.toString()).get(n).setValue(i.substring(0,i.length-2)),this.form.get("items").get(t.toString()).get(o).setValue(e)}),c.afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(l.d),s.Qb(b.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["rms-frontend-rule-build-piece"]],inputs:{contents:"contents",conditionType:"conditionType"},outputs:{contentChange:"contentChange"},decls:3,vars:2,consts:[[1,"example-form",3,"formGroup"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["formArrayName","items","cdkDrag","","class","example-box",4,"ngFor","ngForOf"],["formArrayName","items","cdkDrag","",1,"example-box"],["fxLayout","row",1,"full-width"],["class","drag-placeholder",4,"cdkDragPlaceholder"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","type","button",1,"remove-btn",3,"click"],["mat-icon-button","","type","button",3,"click"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["cdkDragHandle","",1,"dragable"],["moveMenu","matMenu"],["mat-menu-item","",3,"click"],["vertical","true",2,"margin-right","10px"],["fxLayout","row","fxLayoutAlign","space-around center","class","full-width",3,"formGroupName",4,"ngIf"],[1,"drag-placeholder"],["fxLayout","row","fxLayoutAlign","space-around center",1,"full-width",3,"formGroupName"],[2,"width","20%"],["formControlName","conditionName",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","conditionComparator",4,"ngIf"],[3,"disabled",4,"ngIf"],["style","width: 50%",4,"ngIf"],[3,"value"],["formControlName","conditionComparator"],["value","equals"],["value","notEquals"],["value","contains"],["value","notContains"],["value","greaterThan"],["value","lessThan"],[3,"disabled"],[2,"width","50%"],[2,"width","85%"],["matInput","","required","","formControlName","conditionValue","readonly",""],[2,"width","0%"],["matInput","","required","","formControlName","conditionValueHidden"],["matInput","","disabled","","formControlName","conditionValue",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["formControlName","conditionValue"],["matInput","","required","",3,"disabled"],[2,"width","40%"],["formControlName","actionName"],["value","rmm"],["value","message"],["value","transfer"],["value","drop"],["formControlName","actionValue"],["matInput","","required","","formControlName","actionValue","readonly",""],["matInput","","required","","formControlName","actionValueHidden"]],template:function(t,e){1&t&&(s.Wb(0,"form",0),s.Wb(1,"div",1),s.ec("cdkDropListDropped",(function(t){return e.drop(t)})),s.Cc(2,j,22,3,"div",2),s.Vb(),s.Vb()),2&t&&(s.nc("formGroup",e.form),s.Eb(2),s.nc("ngForOf",e.form.get("items").controls))},directives:[l.s,l.n,l.g,w.d,W.k,l.c,w.a,x.a,m.c,w.c,m.b,V.a,v.a,O.c,w.b,O.d,O.a,C.a,W.l,l.h,u.b,u.e,p.a,l.m,l.f,h.n,f.b,l.b,l.q,A.b,A.d,u.f,A.a],styles:[".example-form[_ngcontent-%COMP%], .full-width[_ngcontent-%COMP%]{width:100%}.example-list[_ngcontent-%COMP%]{width:100%;border:1px solid #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;background:#fff;font-size:14px;width:100%}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.drag-placeholder[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-placeholder[_ngcontent-%COMP%]{background:#ccc;border:3px dotted #999;min-height:60px}.dragable[_ngcontent-%COMP%]{cursor:move}.remove-btn[_ngcontent-%COMP%]{color:red}  .mat-card{padding:4px}"]}),t})(),$=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.store=e,this.name="",this.conditions=[],this.actions=[],this.service=n}ngOnInit(){this.updateString()}saveForm(){console.log("Actual save the information one day"),this.dialogRef.close()}setConditionState(t){console.log("A Condition changed"),this.conditions=t,this.updateString()}setActionState(t){console.log("A Action changed"),this.actions=t,this.updateString()}updateString(){this.store.dispatch(new r.a(this.service.buildRulesText(this.conditions,this.actions)))}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(b.f),s.Qb(a.i),s.Qb(d))},t.\u0275cmp=s.Kb({type:t,selectors:[["rms-frontend-create-rule"]],inputs:{name:"name"},decls:62,vars:5,consts:[["fxLayout","row","fxLayoutAlign","start",1,"body"],["fxLayout","column","fxLayoutAlign","space-between start",1,"left"],[1,"full-width"],["matInput","","required",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","5","cdkAutosizeMaxRows","10","required",""],["matNativeControl","","required",""],["value","guide://1111-1111-1111"],["value","guide://2222-2222-2222"],["value","guide://3333-3333-3333"],["value","guide://4444-4444-4444"],["fxFlex","1 1 auto"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","column","fxFlex","start",1,"middle"],[1,"build-top"],["fxLayout","column","fxLayoutAlign","start stretch",1,"build-bottom"],[1,"card"],[3,"conditionType","contentChange"],[1,"right"],[3,"innerHtml"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div"),s.Wb(3,"form"),s.Wb(4,"mat-form-field",2),s.Wb(5,"mat-label"),s.Ec(6,"Name"),s.Vb(),s.Rb(7,"input",3),s.Vb(),s.Wb(8,"mat-form-field",2),s.Wb(9,"mat-label"),s.Ec(10,"Description"),s.Vb(),s.Rb(11,"textarea",4),s.Vb(),s.Wb(12,"mat-form-field",2),s.Wb(13,"mat-label"),s.Ec(14,"Record System"),s.Vb(),s.Wb(15,"mat-select",5),s.Wb(16,"mat-option",6),s.Ec(17,"Google"),s.Vb(),s.Wb(18,"mat-option",7),s.Ec(19,"Amazon"),s.Vb(),s.Wb(20,"mat-option",8),s.Ec(21,"Microsoft"),s.Vb(),s.Wb(22,"mat-option",9),s.Ec(23,"SpaceX"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(24,"p",2),s.Ec(25,"Priority: LAST"),s.Vb(),s.Wb(26,"p",2),s.Ec(27,"Active: FALSE"),s.Vb(),s.Vb(),s.Rb(28,"span",10),s.Wb(29,"button",11),s.ec("click",(function(){return e.saveForm()})),s.Wb(30,"mat-icon"),s.Ec(31,"save"),s.Vb(),s.Ec(32," Save Rule "),s.Vb(),s.Vb(),s.Wb(33,"div",12),s.Wb(34,"div",13),s.Wb(35,"h2"),s.Ec(36,"Build Rule"),s.Vb(),s.Vb(),s.Wb(37,"div",14),s.Wb(38,"mat-card",15),s.Wb(39,"mat-card-header"),s.Wb(40,"mat-card-title"),s.Ec(41,"Conditions"),s.Vb(),s.Wb(42,"mat-card-subtitle"),s.Ec(43,"Add at least one condition"),s.Vb(),s.Vb(),s.Wb(44,"mat-card-content"),s.Wb(45,"rms-frontend-rule-build-piece",16),s.ec("contentChange",(function(t){return e.setConditionState(t)})),s.Vb(),s.Vb(),s.Vb(),s.Wb(46,"mat-card",15),s.Wb(47,"mat-card-header"),s.Wb(48,"mat-card-title"),s.Ec(49,"Actions"),s.Vb(),s.Wb(50,"mat-card-subtitle"),s.Ec(51,"Add at least one action"),s.Vb(),s.Vb(),s.Wb(52,"mat-card-content"),s.Wb(53,"rms-frontend-rule-build-piece",16),s.ec("contentChange",(function(t){return e.setActionState(t)})),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(54,"div",17),s.Wb(55,"h2"),s.Ec(56,"Rule Output"),s.Vb(),s.Wb(57,"h3"),s.Wb(58,"b"),s.Ec(59,"When a messages arrives"),s.Vb(),s.Vb(),s.Rb(60,"span",18),s.jc(61,"async"),s.Vb(),s.Vb()),2&t&&(s.Eb(45),s.nc("conditionType",!0),s.Eb(8),s.nc("conditionType",!1),s.Eb(7),s.oc("innerHtml",s.kc(61,3,e.rulesText$),s.wc))},directives:[m.c,m.b,l.s,l.n,l.o,u.b,u.e,f.b,g.b,p.a,h.n,m.a,V.a,v.a,x.a,x.c,x.f,x.e,x.b,X],pipes:[W.b],styles:[".body[_ngcontent-%COMP%]{padding-top:15px}.body[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{height:100%;overflow:hidden}.left[_ngcontent-%COMP%]{width:25%;border-right:1px solid}.middle[_ngcontent-%COMP%]{width:40%;word-break:break-all}.middle[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding-left:15px}.right[_ngcontent-%COMP%]{width:30%;overflow-x:auto;white-space:nowrap;font-size:small}.build-top[_ngcontent-%COMP%]{padding-bottom:10px;max-height:15%}.build-bottom[_ngcontent-%COMP%], .build-top[_ngcontent-%COMP%]{width:100%;overflow-y:auto}.build-bottom[_ngcontent-%COMP%]{height:90%;overflow-x:hidden}.card[_ngcontent-%COMP%]{margin-bottom:10px;overflow-x:hidden;max-height:50%}.full-width[_ngcontent-%COMP%]{width:90%}"]}),Object(o.b)([Object(a.e)(i.a.rulesText),Object(o.c)("design:type",c.a)],t.prototype,"rulesText$",void 0),t})()}}]);