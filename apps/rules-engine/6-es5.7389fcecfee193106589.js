function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,a=!0,r=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){r=!0,i=t},f:function(){try{a||null==o.return||o.return()}finally{if(r)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RqEb:function(t,e,n){"use strict";n.r(e),n.d(e,"CreateRuleComponent",(function(){return Z}));var o,i=n("D57K"),a=n("kJa8"),r=n("IdLP"),c=n("yDe4"),l=n("B797"),u=n("EM62"),b=n("OZ4H"),s=((o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildRulesText",value:function(t,e){for(var n="",o="",i=0;i<t.length;i++){var a=t[i],r=this.determineText(a.conditionName.value),c=this.determineText(a.conditionComparator),l=a.conditionValue||"";""!=a.conditionValueHidden&&(l=l.split(", ").join(" OR ")),n=n+"with "+r+c+l,i!=t.length-1&&(n+="<br><i>AND</i><br>")}for(var u=0;u<e.length;u++){var b=e[u],s=this.determineText(b.actionName),d=b.actionValue||"";""!=b.actionValueHidden&&(d=d.split(", ").join(" AND ")),o=o+s+"<b>"+d+"</b>",u!=e.length-1&&(o+="<br><i>AND</i><br>")}return"ALL_CONDITIONS<br><br><h3><b>Perform these actions</b></h3>ALL_ACTIONS".replace("ALL_CONDITIONS",n).replace("ALL_ACTIONS",o)}},{key:"determineText",value:function(t){switch(t){case"equals":return"equal to ";case"notEquals":return"not equal to ";case"contains":return"containing ";case"notContains":return"not containing ";case"greaterThan":return"greater than ";case"lessThan":return"less than ";case"createDate":return"a <b>create date</b> ";case"producer":return"a <b>producer</b> ";case"title":return"the <b>title</b> ";case"textContent":return"the <b>text content</b> ";case"rmm":return"Add document to RMM with value ";case"message":return"Then a message to ";case"transfer":return"Transfer to ";case"drop":return"Do nothing";default:return""}}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275prov=u.Mb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),d=n("qFEQ"),m=n("nIj0"),f=n("29Wa"),g=n("Cd2c"),p=n("H0K4"),h=n("R7+U"),v=n("mFH5"),V=n("PBFl"),y=n("bFHC"),C=n("Meci"),x=n("2kYt");n("LTOS");var W=n("zmEM");function E(t,e){if(1&t){var n=u.Xb();u.Wb(0,"div",7),u.Wb(1,"mat-card",8),u.Wb(2,"div",9),u.Wb(3,"button",10),u.ec("click",(function(){u.vc(n);var t=e.index;return u.ic().removeTextValue(t)})),u.Wb(4,"mat-icon"),u.Ec(5,"remove"),u.Vb(),u.Vb(),u.Wb(6,"button",11),u.ec("click",(function(){u.vc(n);var t=e.index;return u.ic().addTextValue(t)})),u.Wb(7,"mat-icon"),u.Ec(8,"add"),u.Vb(),u.Vb(),u.Vb(),u.Rb(9,"mat-divider",12),u.Wb(10,"div",13),u.Wb(11,"mat-form-field",14),u.Wb(12,"mat-label"),u.Ec(13,"Text"),u.Vb(),u.Rb(14,"input",15),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){var o=e.index;u.Eb(10),u.nc("formGroupName",o)}}var w,k=((w=function(){function t(e,n,o){_classCallCheck(this,t),this.formBuilder=e,this.dialog=n,this.dialogRef=o,this.contents=[],this.contentSaved=new u.p,this.form=this.formBuilder.group({items:this.formBuilder.array([])})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.items=this.form.get("items"),0==this.contents.length?this.items.push(this.formBuilder.group({textValue:"",order:""})):this.contents.forEach((function(e){t.items.push(t.formBuilder.group({textValue:new m.e(e.textValue||""),order:new m.e(e.order)}))})),this.form.valueChanges.subscribe((function(e){t.contents=t.reorder(e.items)}))}},{key:"removeTextValue",value:function(t){this.items.controls.length>1&&(this.items=this.form.get("items"),this.items.removeAt(t))}},{key:"addTextValue",value:function(t){this.items=this.form.get("items"),this.items.push(this.formBuilder.group({textValue:"",order:""}))}},{key:"reorder",value:function(t){return t.map((function(t,e){return t.order=e+1,t}))}},{key:"save",value:function(){this.contentSaved.emit(this.contents),this.dialogRef.close()}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||w)(u.Qb(m.d),u.Qb(b.a),u.Qb(b.f))},w.\u0275cmp=u.Kb({type:w,selectors:[["text-add-modal"]],inputs:{contents:"contents"},outputs:{contentSaved:"contentSaved"},decls:14,vars:2,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"main"],[1,"title"],[1,"form",3,"formGroup"],["formArrayName","items","class","textTerms",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center",1,"buttons"],["mat-raised-button","","type","button","color","accent",1,"button",3,"click"],["mat-raised-button","","type","button","color","accent",3,"click"],["formArrayName","items",1,"textTerms"],["fxLayout","row",1,"full-width"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","type","button",1,"remove-btn",3,"click"],["mat-icon-button","","type","button",3,"click"],["vertical","true",2,"margin-right","10px"],["fxLayout","row","fxLayoutAlign","space-around center",1,"full-width",3,"formGroupName"],[2,"width","100%"],["matInput","","required","","formControlName","textValue"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Ec(2,"Add Text Values"),u.Vb(),u.Wb(3,"form",2),u.Cc(4,E,15,1,"div",3),u.Vb(),u.Wb(5,"div",4),u.Wb(6,"button",5),u.ec("click",(function(){return e.save()})),u.Wb(7,"mat-icon"),u.Ec(8,"save"),u.Vb(),u.Ec(9," Save "),u.Vb(),u.Wb(10,"button",6),u.ec("click",(function(){return e.close()})),u.Wb(11,"mat-icon"),u.Ec(12,"close"),u.Vb(),u.Ec(13," Close "),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Eb(3),u.nc("formGroup",e.form),u.Eb(1),u.nc("ngForOf",e.form.get("items").controls))},directives:[d.c,d.b,m.s,m.n,m.g,x.k,V.a,y.a,m.c,C.a,W.a,m.h,f.b,f.e,g.b,m.b,m.q,m.m,m.f],styles:[".main[_ngcontent-%COMP%]{height:100%;width:100%}.title[_ngcontent-%COMP%]{height:10%}.form[_ngcontent-%COMP%]{height:75%;width:100%;overflow-y:auto}.buttons[_ngcontent-%COMP%]{width:100%;height:10%}.button[_ngcontent-%COMP%]{margin-right:10px}.textTerms[_ngcontent-%COMP%]{overflow-y:auto}.full-width[_ngcontent-%COMP%]{width:100%}.remove-btn[_ngcontent-%COMP%]{color:red}"]}),w),A=n("oqI+"),O=n("Jb3d"),T=n("gcUQ");function _(t,e){1&t&&u.Rb(0,"div",15)}function M(t,e){if(1&t&&(u.Wb(0,"mat-option",23),u.Ec(1),u.Vb()),2&t){var n=e.$implicit;u.nc("value",n),u.Eb(1),u.Gc(" ",n.name," ")}}function S(t,e){1&t&&(u.Wb(0,"mat-select",24),u.Wb(1,"mat-option",25),u.Ec(2,"EQUALS"),u.Vb(),u.Wb(3,"mat-option",26),u.Ec(4,"NOT EQUALS"),u.Vb(),u.Wb(5,"mat-option",27),u.Ec(6,"CONTAINS"),u.Vb(),u.Wb(7,"mat-option",28),u.Ec(8,"NOT CONTAINS"),u.Vb(),u.Vb())}function N(t,e){1&t&&(u.Wb(0,"mat-select",24),u.Wb(1,"mat-option",25),u.Ec(2,"EQUALS"),u.Vb(),u.Wb(3,"mat-option",26),u.Ec(4,"NOT EQUALS"),u.Vb(),u.Wb(5,"mat-option",29),u.Ec(6,"GREATER THAN"),u.Vb(),u.Wb(7,"mat-option",30),u.Ec(8,"LESS THAN"),u.Vb(),u.Vb())}function I(t,e){1&t&&(u.Wb(0,"mat-select",24),u.Wb(1,"mat-option",25),u.Ec(2,"EQUALS"),u.Vb(),u.Wb(3,"mat-option",26),u.Ec(4,"NOT EQUALS"),u.Vb(),u.Vb())}function L(t,e){1&t&&u.Rb(0,"mat-select",31),2&t&&u.nc("disabled",!0)}function P(t,e){if(1&t){var n=u.Xb();u.Wb(0,"div",32),u.Wb(1,"button",8),u.ec("click",(function(){u.vc(n);var t=u.ic(2).index;return u.ic().openMultiAddModal(t,"condition")})),u.Wb(2,"mat-icon"),u.Ec(3,"add_box"),u.Vb(),u.Vb(),u.Wb(4,"mat-form-field",33),u.Wb(5,"mat-label"),u.Ec(6,"Value"),u.Vb(),u.Rb(7,"input",34),u.Vb(),u.Wb(8,"mat-form-field",35),u.Rb(9,"input",36),u.Vb(),u.Vb()}}function R(t,e){if(1&t&&(u.Wb(0,"mat-form-field",32),u.Wb(1,"mat-label"),u.Ec(2,"Choose a date"),u.Vb(),u.Rb(3,"input",37),u.Rb(4,"mat-datepicker-toggle",38),u.Rb(5,"mat-datepicker",39,40),u.Vb()),2&t){var n=u.tc(6);u.Eb(3),u.nc("matDatepicker",n),u.Eb(1),u.nc("for",n)}}function D(t,e){if(1&t&&(u.Wb(0,"mat-option",23),u.Ec(1),u.Vb()),2&t){var n=e.$implicit;u.nc("value",n),u.Eb(1),u.Gc(" ",n," ")}}function F(t,e){if(1&t&&(u.Wb(0,"mat-form-field",32),u.Wb(1,"mat-select",41),u.Cc(2,D,2,2,"mat-option",19),u.Vb(),u.Vb()),2&t){var n=u.ic(2).index,o=u.ic();u.Eb(2),u.nc("ngForOf",o.getOptions(n,"condition"))}}function H(t,e){1&t&&(u.Wb(0,"mat-form-field",32),u.Wb(1,"mat-label"),u.Ec(2,"Value"),u.Vb(),u.Rb(3,"input",42),u.Vb()),2&t&&(u.Eb(3),u.nc("disabled",!0))}function q(t,e){if(1&t){var n=u.Xb();u.Wb(0,"div",16),u.Wb(1,"mat-form-field",17),u.Wb(2,"mat-label"),u.Ec(3,"Condition"),u.Vb(),u.Wb(4,"mat-select",18),u.ec("selectionChange",(function(t){u.vc(n);var e=u.ic().index;return u.ic().conditionChanged(t,e)})),u.Cc(5,M,2,2,"mat-option",19),u.Vb(),u.Vb(),u.Wb(6,"mat-form-field",17),u.Wb(7,"mat-label"),u.Ec(8,"Comparator"),u.Vb(),u.Cc(9,S,9,0,"mat-select",20),u.Cc(10,N,9,0,"mat-select",20),u.Cc(11,I,5,0,"mat-select",20),u.Cc(12,L,1,1,"mat-select",21),u.Vb(),u.Cc(13,P,10,0,"div",22),u.Cc(14,R,7,2,"mat-form-field",22),u.Cc(15,F,3,1,"mat-form-field",22),u.Cc(16,H,4,1,"mat-form-field",22),u.Vb()}if(2&t){var o=u.ic().index,i=u.ic();u.nc("formGroupName",o),u.Eb(5),u.nc("ngForOf",i.conditions),u.Eb(4),u.nc("ngIf","text"==i.getType(o)),u.Eb(1),u.nc("ngIf","date"==i.getType(o)),u.Eb(1),u.nc("ngIf","select"==i.getType(o)),u.Eb(1),u.nc("ngIf",!i.getType(o)),u.Eb(1),u.nc("ngIf","text"==i.getType(o)),u.Eb(1),u.nc("ngIf","date"==i.getType(o)),u.Eb(1),u.nc("ngIf","select"==i.getType(o)),u.Eb(1),u.nc("ngIf",!i.getType(o))}}function G(t,e){if(1&t&&(u.Wb(0,"mat-option",23),u.Ec(1),u.Vb()),2&t){var n=e.$implicit;u.nc("value",n),u.Eb(1),u.Gc(" ",n," ")}}function Q(t,e){if(1&t&&(u.Wb(0,"mat-form-field",32),u.Wb(1,"mat-select",49),u.Cc(2,G,2,2,"mat-option",19),u.Vb(),u.Vb()),2&t){var n=u.ic(2).index,o=u.ic();u.Eb(2),u.nc("ngForOf",o.getOptions(n,"action"))}}function B(t,e){if(1&t){var n=u.Xb();u.Wb(0,"div",32),u.Wb(1,"button",8),u.ec("click",(function(){u.vc(n);var t=u.ic(2).index;return u.ic().openMultiAddModal(t,"action")})),u.Wb(2,"mat-icon"),u.Ec(3,"add_box"),u.Vb(),u.Vb(),u.Wb(4,"mat-form-field",33),u.Wb(5,"mat-label"),u.Ec(6,"Value"),u.Vb(),u.Rb(7,"input",50),u.Vb(),u.Wb(8,"mat-form-field",35),u.Rb(9,"input",51),u.Vb(),u.Vb()}}function j(t,e){if(1&t&&(u.Wb(0,"mat-option",23),u.Ec(1),u.Vb()),2&t){var n=e.$implicit;u.nc("value",n),u.Eb(1),u.Gc(" ",n," ")}}function U(t,e){if(1&t&&(u.Wb(0,"mat-form-field",32),u.Wb(1,"mat-select",49),u.Cc(2,j,2,2,"mat-option",19),u.Vb(),u.Vb()),2&t){var n=u.ic(2).index,o=u.ic();u.Eb(2),u.nc("ngForOf",o.getOptions(n,"action"))}}function z(t,e){1&t&&(u.Wb(0,"mat-form-field",32),u.Wb(1,"mat-label"),u.Ec(2,"Value"),u.Vb(),u.Rb(3,"input",42),u.Vb()),2&t&&(u.Eb(3),u.nc("disabled",!0))}function $(t,e){if(1&t&&(u.Wb(0,"div",16),u.Wb(1,"mat-form-field",43),u.Wb(2,"mat-label"),u.Ec(3,"Action"),u.Vb(),u.Wb(4,"mat-select",44),u.Wb(5,"mat-option",45),u.Ec(6,"Add To RMM"),u.Vb(),u.Wb(7,"mat-option",46),u.Ec(8,"Send Notification"),u.Vb(),u.Wb(9,"mat-option",47),u.Ec(10,"Transfer To System"),u.Vb(),u.Wb(11,"mat-option",48),u.Ec(12,"Drop / Do nothing"),u.Vb(),u.Vb(),u.Vb(),u.Cc(13,Q,3,1,"mat-form-field",22),u.Cc(14,B,10,0,"div",22),u.Cc(15,U,3,1,"mat-form-field",22),u.Cc(16,z,4,1,"mat-form-field",22),u.Vb()),2&t){var n=u.ic().index,o=u.ic();u.nc("formGroupName",n),u.Eb(13),u.nc("ngIf","rmm"==o.getAction(n)),u.Eb(1),u.nc("ngIf","message"==o.getAction(n)),u.Eb(1),u.nc("ngIf","transfer"==o.getAction(n)),u.Eb(1),u.nc("ngIf",!o.getAction(n)||"drop"==o.getAction(n))}}function X(t,e){if(1&t){var n=u.Xb();u.Wb(0,"div",3),u.Wb(1,"mat-card",4),u.Cc(2,_,1,0,"div",5),u.Wb(3,"div",6),u.Wb(4,"button",7),u.ec("click",(function(){u.vc(n);var t=e.index;return u.ic().removeHelpCard(t)})),u.Wb(5,"mat-icon"),u.Ec(6,"remove"),u.Vb(),u.Vb(),u.Wb(7,"button",8),u.ec("click",(function(){u.vc(n);var t=e.index;return u.ic().addHelpCard(t)})),u.Wb(8,"mat-icon"),u.Ec(9,"add"),u.Vb(),u.Vb(),u.Wb(10,"button",9),u.Wb(11,"mat-icon",10),u.Ec(12,"swap_vert"),u.Vb(),u.Vb(),u.Wb(13,"mat-menu",null,11),u.Wb(15,"button",12),u.ec("click",(function(){u.vc(n);var t=e.index;return u.ic().moveUp(t)})),u.Ec(16,"Move Up"),u.Vb(),u.Wb(17,"button",12),u.ec("click",(function(){u.vc(n);var t=e.index;return u.ic().moveDown(t)})),u.Ec(18,"Move Down"),u.Vb(),u.Vb(),u.Vb(),u.Rb(19,"mat-divider",13),u.Cc(20,q,17,10,"div",14),u.Cc(21,$,17,5,"div",14),u.Vb(),u.Vb()}if(2&t){var o=u.tc(14),i=u.ic();u.Eb(10),u.nc("matMenuTriggerFor",o),u.Eb(10),u.nc("ngIf",i.conditionType),u.Eb(1),u.nc("ngIf",!i.conditionType)}}var K,J,Y=((J=function(){function t(e,n){_classCallCheck(this,t),this.formBuilder=e,this.dialog=n,this.contents=[],this.conditionType=!0,this.contentChange=new u.p,this.currentValue=null,this.conditions=[{name:"Create Date",value:"createDate",type:"date"},{name:"Producer",value:"producer",type:"select"},{name:"Title",value:"title",type:"text"},{name:"Text Content",value:"textContent",type:"text"}],this.form=this.formBuilder.group({items:this.formBuilder.array([])})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.items=this.form.get("items"),this.items.push(this.formBuilder.group(this.conditionType?{conditionName:"",conditionComparator:"",conditionValue:"",conditionValueHidden:"",order:""}:{actionName:"",actionValue:"",actionValueHidden:"",order:""})),this.form.valueChanges.subscribe((function(e){t.contents=t.reorder(e.items),t.contentChange.emit(t.contents)}))}},{key:"drop",value:function(t){var e=this.items.at(t.previousIndex);this.items.removeAt(t.previousIndex),this.items.insert(t.currentIndex,e)}},{key:"removeHelpCard",value:function(t){this.items.controls.length>1&&(this.items=this.form.get("items"),this.items.removeAt(t))}},{key:"addHelpCard",value:function(t){this.items=this.form.get("items"),this.items.insert(t+1,this.formBuilder.group(this.conditionType?{conditionName:"",conditionComparator:"",conditionValue:"",conditionValueHidden:""}:{actionName:"",actionValue:"",actionValueHidden:"",order:""}))}},{key:"reorder",value:function(t){return t.map((function(t,e){return t.order=e+1,t}))}},{key:"emitContentChange",value:function(t){this.contentChange.emit(t)}},{key:"moveUp",value:function(t){if(this.items=this.form.get("items"),t>0){var e=this.items.at(t);this.items.removeAt(t),this.items.insert(t-1,e)}}},{key:"moveDown",value:function(t){if(this.items=this.form.get("items"),this.items.controls.length!=length){var e=this.items.at(t);this.items.removeAt(t),this.items.insert(t+1,e)}}},{key:"getType",value:function(t){return this.form.get("items").get(t.toString()).get("conditionName").value.type}},{key:"getAction",value:function(t){return this.form.get("items").get(t.toString()).get("actionName").value}},{key:"conditionChanged",value:function(t,e){this.form.get("items").get(e.toString()).get("conditionComparator").setValue(""),this.form.get("items").get(e.toString()).get("conditionValue").setValue("")}},{key:"getOptions",value:function(t,e){var n="";switch("condition"==e?n=this.form.get("items").get(t.toString()).get("conditionName").value.value:"action"==e&&(n=this.form.get("items").get(t.toString()).get("actionName").value),n){case"producer":case"transfer":return["System 1","System 2"];case"rmm":return["FRCS-1","FRCS-2","FRCS-3"];default:return[]}}},{key:"openMultiAddModal",value:function(t,e){var n=this,o="",i="";"condition"==e?(o="conditionValue",i="conditionValueHidden"):"action"==e&&(o="actionValue",i="actionValueHidden");var a=this.form.get("items").get(t.toString()).get(i).value||[],r=this.dialog.open(k,{id:"text-add-modal",hasBackdrop:!1,minWidth:"20%",width:"20%",minHeight:"50%",height:"50%"});r.componentInstance.contents=a,r.componentInstance.contentSaved.subscribe((function(e){var a,r="",c=_createForOfIteratorHelper(e);try{for(c.s();!(a=c.n()).done;)r=r+a.value.textValue+", "}catch(l){c.e(l)}finally{c.f()}n.form.get("items").get(t.toString()).get(o).setValue(r.substring(0,r.length-2)),n.form.get("items").get(t.toString()).get(i).setValue(e)})),r.afterClosed().subscribe((function(t){}))}}]),t}()).\u0275fac=function(t){return new(t||J)(u.Qb(m.d),u.Qb(b.a))},J.\u0275cmp=u.Kb({type:J,selectors:[["rms-frontend-rule-build-piece"]],inputs:{contents:"contents",conditionType:"conditionType"},outputs:{contentChange:"contentChange"},decls:3,vars:2,consts:[[1,"example-form",3,"formGroup"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["formArrayName","items","cdkDrag","","class","example-box",4,"ngFor","ngForOf"],["formArrayName","items","cdkDrag","",1,"example-box"],["fxLayout","row",1,"full-width"],["class","drag-placeholder",4,"cdkDragPlaceholder"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","type","button",1,"remove-btn",3,"click"],["mat-icon-button","","type","button",3,"click"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["cdkDragHandle","",1,"dragable"],["moveMenu","matMenu"],["mat-menu-item","",3,"click"],["vertical","true",2,"margin-right","10px"],["fxLayout","row","fxLayoutAlign","space-around center","class","full-width",3,"formGroupName",4,"ngIf"],[1,"drag-placeholder"],["fxLayout","row","fxLayoutAlign","space-around center",1,"full-width",3,"formGroupName"],[2,"width","20%"],["formControlName","conditionName",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","conditionComparator",4,"ngIf"],[3,"disabled",4,"ngIf"],["style","width: 50%",4,"ngIf"],[3,"value"],["formControlName","conditionComparator"],["value","equals"],["value","notEquals"],["value","contains"],["value","notContains"],["value","greaterThan"],["value","lessThan"],[3,"disabled"],[2,"width","50%"],[2,"width","85%"],["matInput","","required","","formControlName","conditionValue","readonly",""],[2,"width","0%"],["matInput","","required","","formControlName","conditionValueHidden"],["matInput","","disabled","","formControlName","conditionValue",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["formControlName","conditionValue"],["matInput","","required","",3,"disabled"],[2,"width","40%"],["formControlName","actionName"],["value","rmm"],["value","message"],["value","transfer"],["value","drop"],["formControlName","actionValue"],["matInput","","required","","formControlName","actionValue","readonly",""],["matInput","","required","","formControlName","actionValueHidden"]],template:function(t,e){1&t&&(u.Wb(0,"form",0),u.Wb(1,"div",1),u.ec("cdkDropListDropped",(function(t){return e.drop(t)})),u.Cc(2,X,22,3,"div",2),u.Vb(),u.Vb()),2&t&&(u.nc("formGroup",e.form),u.Eb(2),u.nc("ngForOf",e.form.get("items").controls))},directives:[m.s,m.n,m.g,A.d,x.k,m.c,A.a,C.a,d.c,A.c,d.b,V.a,y.a,O.c,A.b,O.d,O.a,W.a,x.l,m.h,f.b,f.e,h.a,m.m,m.f,v.n,g.b,m.b,m.q,T.b,T.d,f.f,T.a],styles:[".example-form[_ngcontent-%COMP%], .full-width[_ngcontent-%COMP%]{width:100%}.example-list[_ngcontent-%COMP%]{width:100%;border:1px solid #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;background:#fff;font-size:14px;width:100%}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.drag-placeholder[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-placeholder[_ngcontent-%COMP%]{background:#ccc;border:3px dotted #999;min-height:60px}.dragable[_ngcontent-%COMP%]{cursor:move}.remove-btn[_ngcontent-%COMP%]{color:red}  .mat-card{padding:4px}"]}),J),Z=((K=function(){function t(e,n,o){_classCallCheck(this,t),this.dialogRef=e,this.store=n,this.name="",this.conditions=[],this.actions=[],this.service=o}return _createClass(t,[{key:"ngOnInit",value:function(){this.updateString()}},{key:"saveForm",value:function(){console.log("Actual save the information one day"),this.dialogRef.close()}},{key:"setConditionState",value:function(t){console.log("A Condition changed"),this.conditions=t,this.updateString()}},{key:"setActionState",value:function(t){console.log("A Action changed"),this.actions=t,this.updateString()}},{key:"updateString",value:function(){this.store.dispatch(new l.a(this.service.buildRulesText(this.conditions,this.actions)))}}]),t}()).\u0275fac=function(t){return new(t||K)(u.Qb(b.f),u.Qb(c.i),u.Qb(s))},K.\u0275cmp=u.Kb({type:K,selectors:[["rms-frontend-create-rule"]],inputs:{name:"name"},decls:62,vars:5,consts:[["fxLayout","row","fxLayoutAlign","start",1,"body"],["fxLayout","column","fxLayoutAlign","space-between start",1,"left"],[1,"full-width"],["matInput","","required",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","5","cdkAutosizeMaxRows","10","required",""],["matNativeControl","","required",""],["value","guide://1111-1111-1111"],["value","guide://2222-2222-2222"],["value","guide://3333-3333-3333"],["value","guide://4444-4444-4444"],["fxFlex","1 1 auto"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","column","fxFlex","start",1,"middle"],[1,"build-top"],["fxLayout","column","fxLayoutAlign","start stretch",1,"build-bottom"],[1,"card"],[3,"conditionType","contentChange"],[1,"right"],[3,"innerHtml"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"div"),u.Wb(3,"form"),u.Wb(4,"mat-form-field",2),u.Wb(5,"mat-label"),u.Ec(6,"Name"),u.Vb(),u.Rb(7,"input",3),u.Vb(),u.Wb(8,"mat-form-field",2),u.Wb(9,"mat-label"),u.Ec(10,"Description"),u.Vb(),u.Rb(11,"textarea",4),u.Vb(),u.Wb(12,"mat-form-field",2),u.Wb(13,"mat-label"),u.Ec(14,"Record System"),u.Vb(),u.Wb(15,"mat-select",5),u.Wb(16,"mat-option",6),u.Ec(17,"Google"),u.Vb(),u.Wb(18,"mat-option",7),u.Ec(19,"Amazon"),u.Vb(),u.Wb(20,"mat-option",8),u.Ec(21,"Microsoft"),u.Vb(),u.Wb(22,"mat-option",9),u.Ec(23,"SpaceX"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(24,"p",2),u.Ec(25,"Priority: LAST"),u.Vb(),u.Wb(26,"p",2),u.Ec(27,"Active: FALSE"),u.Vb(),u.Vb(),u.Rb(28,"span",10),u.Wb(29,"button",11),u.ec("click",(function(){return e.saveForm()})),u.Wb(30,"mat-icon"),u.Ec(31,"save"),u.Vb(),u.Ec(32," Save Rule "),u.Vb(),u.Vb(),u.Wb(33,"div",12),u.Wb(34,"div",13),u.Wb(35,"h2"),u.Ec(36,"Build Rule"),u.Vb(),u.Vb(),u.Wb(37,"div",14),u.Wb(38,"mat-card",15),u.Wb(39,"mat-card-header"),u.Wb(40,"mat-card-title"),u.Ec(41,"Conditions"),u.Vb(),u.Wb(42,"mat-card-subtitle"),u.Ec(43,"Add at least one condition"),u.Vb(),u.Vb(),u.Wb(44,"mat-card-content"),u.Wb(45,"rms-frontend-rule-build-piece",16),u.ec("contentChange",(function(t){return e.setConditionState(t)})),u.Vb(),u.Vb(),u.Vb(),u.Wb(46,"mat-card",15),u.Wb(47,"mat-card-header"),u.Wb(48,"mat-card-title"),u.Ec(49,"Actions"),u.Vb(),u.Wb(50,"mat-card-subtitle"),u.Ec(51,"Add at least one action"),u.Vb(),u.Vb(),u.Wb(52,"mat-card-content"),u.Wb(53,"rms-frontend-rule-build-piece",16),u.ec("contentChange",(function(t){return e.setActionState(t)})),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(54,"div",17),u.Wb(55,"h2"),u.Ec(56,"Rule Output"),u.Vb(),u.Wb(57,"h3"),u.Wb(58,"b"),u.Ec(59,"When a messages arrives"),u.Vb(),u.Vb(),u.Rb(60,"span",18),u.jc(61,"async"),u.Vb(),u.Vb()),2&t&&(u.Eb(45),u.nc("conditionType",!0),u.Eb(8),u.nc("conditionType",!1),u.Eb(7),u.oc("innerHtml",u.kc(61,3,e.rulesText$),u.wc))},directives:[d.c,d.b,m.s,m.n,m.o,f.b,f.e,g.b,p.b,h.a,v.n,d.a,V.a,y.a,C.a,C.c,C.f,C.e,C.b,Y],pipes:[x.b],styles:[".body[_ngcontent-%COMP%]{padding-top:15px}.body[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{height:100%;overflow:hidden}.left[_ngcontent-%COMP%]{width:25%;border-right:1px solid}.middle[_ngcontent-%COMP%]{width:40%;word-break:break-all}.middle[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding-left:15px}.right[_ngcontent-%COMP%]{width:30%;overflow-x:auto;white-space:nowrap;font-size:small}.build-top[_ngcontent-%COMP%]{padding-bottom:10px;max-height:15%}.build-bottom[_ngcontent-%COMP%], .build-top[_ngcontent-%COMP%]{width:100%;overflow-y:auto}.build-bottom[_ngcontent-%COMP%]{height:90%;overflow-x:hidden}.card[_ngcontent-%COMP%]{margin-bottom:10px;overflow-x:hidden;max-height:50%}.full-width[_ngcontent-%COMP%]{width:90%}"]}),Object(i.b)([Object(c.e)(a.a.rulesText),Object(i.c)("design:type",r.a)],K.prototype,"rulesText$",void 0),K)}}]);