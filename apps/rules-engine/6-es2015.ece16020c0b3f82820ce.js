(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RqEb:function(t,e,o){"use strict";o.r(e),o.d(e,"CreateRuleComponent",(function(){return Y}));var n=o("D57K"),i=o("kJa8"),c=o("IdLP"),a=o("yDe4"),r=o("B797"),s=o("EM62"),b=o("OZ4H");let d=(()=>{class t{constructor(){}buildRulesText(t,e){let o="",n="";for(let i=0;i<t.length;i++){let e=t[i],n=this.determineText(e.conditionName.value),c=this.determineText(e.conditionComparator),a=e.conditionValue||"";""!=e.conditionValueHidden&&(a=a.split(", ").join(" OR ")),o=o+"with "+n+c+a,i!=t.length-1&&(o+="<br><i>AND</i><br>")}for(let i=0;i<e.length;i++){let t=e[i],o=this.determineText(t.actionName),c=t.actionValue||"";""!=t.actionValueHidden&&(c=c.split(", ").join(" AND ")),n=n+o+"<b>"+c+"</b>",i!=e.length-1&&(n+="<br><i>AND</i><br>")}return"ALL_CONDITIONS<br><br><h3><b>Perform these actions</b></h3>ALL_ACTIONS".replace("ALL_CONDITIONS",o).replace("ALL_ACTIONS",n)}determineText(t){switch(t){case"equals":return"equal to ";case"notEquals":return"not equal to ";case"contains":return"containing ";case"notContains":return"not containing ";case"greaterThan":return"greater than ";case"lessThan":return"less than ";case"createDate":return"a <b>create date</b> ";case"producer":return"a <b>producer</b> ";case"title":return"the <b>title</b> ";case"textContent":return"the <b>text content</b> ";case"rmm":return"Add document to RMM with value ";case"message":return"Then a message to ";case"transfer":return"Transfer to ";case"drop":return"Do nothing";default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=o("qFEQ"),l=o("nIj0"),u=o("29Wa"),f=o("Cd2c"),g=o("H0K4"),p=o("R7+U"),h=o("mFH5"),x=o("PBFl"),v=o("bFHC"),W=o("Meci"),X=o("2kYt");o("LTOS");var C=o("zmEM");function w(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",7),s.Xb(1,"mat-card",8),s.Xb(2,"div",9),s.Xb(3,"button",10),s.fc("click",(function(){s.wc(t);const o=e.index;return s.jc().removeTextValue(o)})),s.Xb(4,"mat-icon"),s.Fc(5,"remove"),s.Wb(),s.Wb(),s.Xb(6,"button",11),s.fc("click",(function(){s.wc(t);const o=e.index;return s.jc().addTextValue(o)})),s.Xb(7,"mat-icon"),s.Fc(8,"add"),s.Wb(),s.Wb(),s.Wb(),s.Sb(9,"mat-divider",12),s.Xb(10,"div",13),s.Xb(11,"mat-form-field",14),s.Xb(12,"mat-label"),s.Fc(13,"Text"),s.Wb(),s.Sb(14,"input",15),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){const t=e.index;s.Eb(10),s.oc("formGroupName",t)}}let y=(()=>{class t{constructor(t,e,o){this.formBuilder=t,this.dialog=e,this.dialogRef=o,this.contents=[],this.contentSaved=new s.p,this.form=this.formBuilder.group({items:this.formBuilder.array([])})}ngOnInit(){this.items=this.form.get("items"),0==this.contents.length?this.items.push(this.formBuilder.group({textValue:"",order:""})):this.contents.forEach(t=>{this.items.push(this.formBuilder.group({textValue:new l.e(t.textValue||""),order:new l.e(t.order)}))}),this.form.valueChanges.subscribe(t=>{this.contents=this.reorder(t.items)})}removeTextValue(t){this.items.controls.length>1&&(this.items=this.form.get("items"),this.items.removeAt(t))}addTextValue(t){this.items=this.form.get("items"),this.items.push(this.formBuilder.group({textValue:"",order:""}))}reorder(t){return t.map((t,e)=>(t.order=e+1,t))}save(){this.contentSaved.emit(this.contents),this.dialogRef.close()}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(l.d),s.Rb(b.a),s.Rb(b.f))},t.\u0275cmp=s.Lb({type:t,selectors:[["text-add-modal"]],inputs:{contents:"contents"},outputs:{contentSaved:"contentSaved"},decls:14,vars:2,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"main"],[1,"title"],[1,"form",3,"formGroup"],["formArrayName","items","class","textTerms",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center",1,"buttons"],["mat-raised-button","","type","button","color","accent",1,"button",3,"click"],["mat-raised-button","","type","button","color","accent",3,"click"],["formArrayName","items",1,"textTerms"],["fxLayout","row",1,"full-width"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","type","button",1,"remove-btn",3,"click"],["mat-icon-button","","type","button",3,"click"],["vertical","true",2,"margin-right","10px"],["fxLayout","row","fxLayoutAlign","space-around center",1,"full-width",3,"formGroupName"],[2,"width","100%"],["matInput","","required","","formControlName","textValue"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Fc(2,"Add Text Values"),s.Wb(),s.Xb(3,"form",2),s.Dc(4,w,15,1,"div",3),s.Wb(),s.Xb(5,"div",4),s.Xb(6,"button",5),s.fc("click",(function(){return e.save()})),s.Xb(7,"mat-icon"),s.Fc(8,"save"),s.Wb(),s.Fc(9," Save "),s.Wb(),s.Xb(10,"button",6),s.fc("click",(function(){return e.close()})),s.Xb(11,"mat-icon"),s.Fc(12,"close"),s.Wb(),s.Fc(13," Close "),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(3),s.oc("formGroup",e.form),s.Eb(1),s.oc("ngForOf",e.form.get("items").controls))},directives:[m.c,m.b,l.s,l.n,l.g,X.k,x.a,v.a,l.c,W.a,C.a,l.h,u.b,u.e,f.b,l.b,l.q,l.m,l.f],styles:[".main[_ngcontent-%COMP%]{height:100%;width:100%}.title[_ngcontent-%COMP%]{height:10%}.form[_ngcontent-%COMP%]{height:75%;width:100%;overflow-y:auto}.buttons[_ngcontent-%COMP%]{width:100%;height:10%}.button[_ngcontent-%COMP%]{margin-right:10px}.textTerms[_ngcontent-%COMP%]{overflow-y:auto}.full-width[_ngcontent-%COMP%]{width:100%}.remove-btn[_ngcontent-%COMP%]{color:red}"]}),t})();var F=o("oqI+"),O=o("Jb3d"),S=o("gcUQ");function A(t,e){1&t&&s.Sb(0,"div",15)}function T(t,e){if(1&t&&(s.Xb(0,"mat-option",23),s.Fc(1),s.Wb()),2&t){const t=e.$implicit;s.oc("value",t),s.Eb(1),s.Hc(" ",t.name," ")}}function M(t,e){1&t&&(s.Xb(0,"mat-select",24),s.Xb(1,"mat-option",25),s.Fc(2,"EQUALS"),s.Wb(),s.Xb(3,"mat-option",26),s.Fc(4,"NOT EQUALS"),s.Wb(),s.Xb(5,"mat-option",27),s.Fc(6,"CONTAINS"),s.Wb(),s.Xb(7,"mat-option",28),s.Fc(8,"NOT CONTAINS"),s.Wb(),s.Wb())}function N(t,e){1&t&&(s.Xb(0,"mat-select",24),s.Xb(1,"mat-option",25),s.Fc(2,"EQUALS"),s.Wb(),s.Xb(3,"mat-option",26),s.Fc(4,"NOT EQUALS"),s.Wb(),s.Xb(5,"mat-option",29),s.Fc(6,"GREATER THAN"),s.Wb(),s.Xb(7,"mat-option",30),s.Fc(8,"LESS THAN"),s.Wb(),s.Wb())}function k(t,e){1&t&&(s.Xb(0,"mat-select",24),s.Xb(1,"mat-option",25),s.Fc(2,"EQUALS"),s.Wb(),s.Xb(3,"mat-option",26),s.Fc(4,"NOT EQUALS"),s.Wb(),s.Wb())}function E(t,e){1&t&&s.Sb(0,"mat-select",31),2&t&&s.oc("disabled",!0)}function D(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",32),s.Xb(1,"button",8),s.fc("click",(function(){s.wc(t);const e=s.jc(2).index;return s.jc().openMultiAddModal(e,"condition")})),s.Xb(2,"mat-icon"),s.Fc(3,"add_box"),s.Wb(),s.Wb(),s.Xb(4,"mat-form-field",33),s.Xb(5,"mat-label"),s.Fc(6,"Value"),s.Wb(),s.Sb(7,"input",34),s.Wb(),s.Xb(8,"mat-form-field",35),s.Sb(9,"input",36),s.Wb(),s.Wb()}}function L(t,e){if(1&t&&(s.Xb(0,"mat-form-field",32),s.Xb(1,"mat-label"),s.Fc(2,"Choose a date"),s.Wb(),s.Sb(3,"input",37),s.Sb(4,"mat-datepicker-toggle",38),s.Sb(5,"mat-datepicker",39,40),s.Wb()),2&t){const t=s.uc(6);s.Eb(3),s.oc("matDatepicker",t),s.Eb(1),s.oc("for",t)}}function I(t,e){if(1&t&&(s.Xb(0,"mat-option",23),s.Fc(1),s.Wb()),2&t){const t=e.$implicit;s.oc("value",t),s.Eb(1),s.Hc(" ",t," ")}}function V(t,e){if(1&t&&(s.Xb(0,"mat-form-field",32),s.Xb(1,"mat-select",41),s.Dc(2,I,2,2,"mat-option",19),s.Wb(),s.Wb()),2&t){const t=s.jc(2).index,e=s.jc();s.Eb(2),s.oc("ngForOf",e.getOptions(t,"condition"))}}function _(t,e){1&t&&(s.Xb(0,"mat-form-field",32),s.Xb(1,"mat-label"),s.Fc(2,"Value"),s.Wb(),s.Sb(3,"input",42),s.Wb()),2&t&&(s.Eb(3),s.oc("disabled",!0))}function P(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",16),s.Xb(1,"mat-form-field",17),s.Xb(2,"mat-label"),s.Fc(3,"Condition"),s.Wb(),s.Xb(4,"mat-select",18),s.fc("selectionChange",(function(e){s.wc(t);const o=s.jc().index;return s.jc().conditionChanged(e,o)})),s.Dc(5,T,2,2,"mat-option",19),s.Wb(),s.Wb(),s.Xb(6,"mat-form-field",17),s.Xb(7,"mat-label"),s.Fc(8,"Comparator"),s.Wb(),s.Dc(9,M,9,0,"mat-select",20),s.Dc(10,N,9,0,"mat-select",20),s.Dc(11,k,5,0,"mat-select",20),s.Dc(12,E,1,1,"mat-select",21),s.Wb(),s.Dc(13,D,10,0,"div",22),s.Dc(14,L,7,2,"mat-form-field",22),s.Dc(15,V,3,1,"mat-form-field",22),s.Dc(16,_,4,1,"mat-form-field",22),s.Wb()}if(2&t){const t=s.jc().index,e=s.jc();s.oc("formGroupName",t),s.Eb(5),s.oc("ngForOf",e.conditions),s.Eb(4),s.oc("ngIf","text"==e.getType(t)),s.Eb(1),s.oc("ngIf","date"==e.getType(t)),s.Eb(1),s.oc("ngIf","select"==e.getType(t)),s.Eb(1),s.oc("ngIf",!e.getType(t)),s.Eb(1),s.oc("ngIf","text"==e.getType(t)),s.Eb(1),s.oc("ngIf","date"==e.getType(t)),s.Eb(1),s.oc("ngIf","select"==e.getType(t)),s.Eb(1),s.oc("ngIf",!e.getType(t))}}function R(t,e){if(1&t&&(s.Xb(0,"mat-option",23),s.Fc(1),s.Wb()),2&t){const t=e.$implicit;s.oc("value",t),s.Eb(1),s.Hc(" ",t," ")}}function j(t,e){if(1&t&&(s.Xb(0,"mat-form-field",32),s.Xb(1,"mat-select",49),s.Dc(2,R,2,2,"mat-option",19),s.Wb(),s.Wb()),2&t){const t=s.jc(2).index,e=s.jc();s.Eb(2),s.oc("ngForOf",e.getOptions(t,"action"))}}function H(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",32),s.Xb(1,"button",8),s.fc("click",(function(){s.wc(t);const e=s.jc(2).index;return s.jc().openMultiAddModal(e,"action")})),s.Xb(2,"mat-icon"),s.Fc(3,"add_box"),s.Wb(),s.Wb(),s.Xb(4,"mat-form-field",33),s.Xb(5,"mat-label"),s.Fc(6,"Value"),s.Wb(),s.Sb(7,"input",50),s.Wb(),s.Xb(8,"mat-form-field",35),s.Sb(9,"input",51),s.Wb(),s.Wb()}}function q(t,e){if(1&t&&(s.Xb(0,"mat-option",23),s.Fc(1),s.Wb()),2&t){const t=e.$implicit;s.oc("value",t),s.Eb(1),s.Hc(" ",t," ")}}function B(t,e){if(1&t&&(s.Xb(0,"mat-form-field",32),s.Xb(1,"mat-select",49),s.Dc(2,q,2,2,"mat-option",19),s.Wb(),s.Wb()),2&t){const t=s.jc(2).index,e=s.jc();s.Eb(2),s.oc("ngForOf",e.getOptions(t,"action"))}}function G(t,e){1&t&&(s.Xb(0,"mat-form-field",32),s.Xb(1,"mat-label"),s.Fc(2,"Value"),s.Wb(),s.Sb(3,"input",42),s.Wb()),2&t&&(s.Eb(3),s.oc("disabled",!0))}function z(t,e){if(1&t&&(s.Xb(0,"div",16),s.Xb(1,"mat-form-field",43),s.Xb(2,"mat-label"),s.Fc(3,"Action"),s.Wb(),s.Xb(4,"mat-select",44),s.Xb(5,"mat-option",45),s.Fc(6,"Add To RMM"),s.Wb(),s.Xb(7,"mat-option",46),s.Fc(8,"Send Notification"),s.Wb(),s.Xb(9,"mat-option",47),s.Fc(10,"Transfer To System"),s.Wb(),s.Xb(11,"mat-option",48),s.Fc(12,"Drop / Do nothing"),s.Wb(),s.Wb(),s.Wb(),s.Dc(13,j,3,1,"mat-form-field",22),s.Dc(14,H,10,0,"div",22),s.Dc(15,B,3,1,"mat-form-field",22),s.Dc(16,G,4,1,"mat-form-field",22),s.Wb()),2&t){const t=s.jc().index,e=s.jc();s.oc("formGroupName",t),s.Eb(13),s.oc("ngIf","rmm"==e.getAction(t)),s.Eb(1),s.oc("ngIf","message"==e.getAction(t)),s.Eb(1),s.oc("ngIf","transfer"==e.getAction(t)),s.Eb(1),s.oc("ngIf",!e.getAction(t)||"drop"==e.getAction(t))}}function U(t,e){if(1&t){const t=s.Yb();s.Xb(0,"div",3),s.Xb(1,"mat-card",4),s.Dc(2,A,1,0,"div",5),s.Xb(3,"div",6),s.Xb(4,"button",7),s.fc("click",(function(){s.wc(t);const o=e.index;return s.jc().removeHelpCard(o)})),s.Xb(5,"mat-icon"),s.Fc(6,"remove"),s.Wb(),s.Wb(),s.Xb(7,"button",8),s.fc("click",(function(){s.wc(t);const o=e.index;return s.jc().addHelpCard(o)})),s.Xb(8,"mat-icon"),s.Fc(9,"add"),s.Wb(),s.Wb(),s.Xb(10,"button",9),s.Xb(11,"mat-icon",10),s.Fc(12,"swap_vert"),s.Wb(),s.Wb(),s.Xb(13,"mat-menu",null,11),s.Xb(15,"button",12),s.fc("click",(function(){s.wc(t);const o=e.index;return s.jc().moveUp(o)})),s.Fc(16,"Move Up"),s.Wb(),s.Xb(17,"button",12),s.fc("click",(function(){s.wc(t);const o=e.index;return s.jc().moveDown(o)})),s.Fc(18,"Move Down"),s.Wb(),s.Wb(),s.Wb(),s.Sb(19,"mat-divider",13),s.Dc(20,P,17,10,"div",14),s.Dc(21,z,17,5,"div",14),s.Wb(),s.Wb()}if(2&t){const t=s.uc(14),e=s.jc();s.Eb(10),s.oc("matMenuTriggerFor",t),s.Eb(10),s.oc("ngIf",e.conditionType),s.Eb(1),s.oc("ngIf",!e.conditionType)}}let Q=(()=>{class t{constructor(t,e){this.formBuilder=t,this.dialog=e,this.contents=[],this.conditionType=!0,this.contentChange=new s.p,this.currentValue=null,this.conditions=[{name:"Create Date",value:"createDate",type:"date"},{name:"Producer",value:"producer",type:"select"},{name:"Title",value:"title",type:"text"},{name:"Text Content",value:"textContent",type:"text"}],this.form=this.formBuilder.group({items:this.formBuilder.array([])})}ngOnInit(){this.items=this.form.get("items"),this.items.push(this.formBuilder.group(this.conditionType?{conditionName:"",conditionComparator:"",conditionValue:"",conditionValueHidden:"",order:""}:{actionName:"",actionValue:"",actionValueHidden:"",order:""})),this.form.valueChanges.subscribe(t=>{this.contents=this.reorder(t.items),this.contentChange.emit(this.contents)})}drop(t){const e=this.items.at(t.previousIndex);this.items.removeAt(t.previousIndex),this.items.insert(t.currentIndex,e)}removeHelpCard(t){this.items.controls.length>1&&(this.items=this.form.get("items"),this.items.removeAt(t))}addHelpCard(t){this.items=this.form.get("items"),this.items.insert(t+1,this.formBuilder.group(this.conditionType?{conditionName:"",conditionComparator:"",conditionValue:"",conditionValueHidden:""}:{actionName:"",actionValue:"",actionValueHidden:"",order:""}))}reorder(t){return t.map((t,e)=>(t.order=e+1,t))}emitContentChange(t){this.contentChange.emit(t)}moveUp(t){if(this.items=this.form.get("items"),t>0){const e=this.items.at(t);this.items.removeAt(t),this.items.insert(t-1,e)}}moveDown(t){if(this.items=this.form.get("items"),this.items.controls.length!=length){const e=this.items.at(t);this.items.removeAt(t),this.items.insert(t+1,e)}}getType(t){return this.form.get("items").get(t.toString()).get("conditionName").value.type}getAction(t){return this.form.get("items").get(t.toString()).get("actionName").value}conditionChanged(t,e){this.form.get("items").get(e.toString()).get("conditionComparator").setValue(""),this.form.get("items").get(e.toString()).get("conditionValue").setValue("")}getOptions(t,e){let o="";switch("condition"==e?o=this.form.get("items").get(t.toString()).get("conditionName").value.value:"action"==e&&(o=this.form.get("items").get(t.toString()).get("actionName").value),o){case"producer":case"transfer":return["System 1","System 2"];case"rmm":return["FRCS-1","FRCS-2","FRCS-3"];default:return[]}}openMultiAddModal(t,e){let o="",n="";"condition"==e?(o="conditionValue",n="conditionValueHidden"):"action"==e&&(o="actionValue",n="actionValueHidden");let i=this.form.get("items").get(t.toString()).get(n).value||[];const c=this.dialog.open(y,{id:"text-add-modal",hasBackdrop:!1,minWidth:"20%",width:"20%",minHeight:"50%",height:"50%"});c.componentInstance.contents=i,c.componentInstance.contentSaved.subscribe(e=>{var i="";for(var c of e)i=i+c.textValue+", ";this.form.get("items").get(t.toString()).get(o).setValue(i.substring(0,i.length-2)),this.form.get("items").get(t.toString()).get(n).setValue(e)}),c.afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(l.d),s.Rb(b.a))},t.\u0275cmp=s.Lb({type:t,selectors:[["rms-frontend-rule-build-piece"]],inputs:{contents:"contents",conditionType:"conditionType"},outputs:{contentChange:"contentChange"},decls:3,vars:2,consts:[[1,"example-form",3,"formGroup"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["formArrayName","items","cdkDrag","","class","example-box",4,"ngFor","ngForOf"],["formArrayName","items","cdkDrag","",1,"example-box"],["fxLayout","row",1,"full-width"],["class","drag-placeholder",4,"cdkDragPlaceholder"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","type","button",1,"remove-btn",3,"click"],["mat-icon-button","","type","button",3,"click"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["cdkDragHandle","",1,"dragable"],["moveMenu","matMenu"],["mat-menu-item","",3,"click"],["vertical","true",2,"margin-right","10px"],["fxLayout","row","fxLayoutAlign","space-around center","class","full-width",3,"formGroupName",4,"ngIf"],[1,"drag-placeholder"],["fxLayout","row","fxLayoutAlign","space-around center",1,"full-width",3,"formGroupName"],[2,"width","20%"],["formControlName","conditionName",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","conditionComparator",4,"ngIf"],[3,"disabled",4,"ngIf"],["style","width: 50%",4,"ngIf"],[3,"value"],["formControlName","conditionComparator"],["value","equals"],["value","notEquals"],["value","contains"],["value","notContains"],["value","greaterThan"],["value","lessThan"],[3,"disabled"],[2,"width","50%"],[2,"width","85%"],["matInput","","required","","formControlName","conditionValue","readonly",""],[2,"width","0%"],["matInput","","required","","formControlName","conditionValueHidden"],["matInput","","disabled","","formControlName","conditionValue",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["formControlName","conditionValue"],["matInput","","required","",3,"disabled"],[2,"width","40%"],["formControlName","actionName"],["value","rmm"],["value","message"],["value","transfer"],["value","drop"],["formControlName","actionValue"],["matInput","","required","","formControlName","actionValue","readonly",""],["matInput","","required","","formControlName","actionValueHidden"]],template:function(t,e){1&t&&(s.Xb(0,"form",0),s.Xb(1,"div",1),s.fc("cdkDropListDropped",(function(t){return e.drop(t)})),s.Dc(2,U,22,3,"div",2),s.Wb(),s.Wb()),2&t&&(s.oc("formGroup",e.form),s.Eb(2),s.oc("ngForOf",e.form.get("items").controls))},directives:[l.s,l.n,l.g,F.d,X.k,l.c,F.a,W.a,m.c,F.c,m.b,x.a,v.a,O.c,F.b,O.d,O.a,C.a,X.l,l.h,u.b,u.e,p.a,l.m,l.f,h.n,f.b,l.b,l.q,S.b,S.d,u.f,S.a],styles:[".example-form[_ngcontent-%COMP%], .full-width[_ngcontent-%COMP%]{width:100%}.example-list[_ngcontent-%COMP%]{width:100%;border:1px solid #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;background:#fff;font-size:14px;width:100%}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.drag-placeholder[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-placeholder[_ngcontent-%COMP%]{background:#ccc;border:3px dotted #999;min-height:60px}.dragable[_ngcontent-%COMP%]{cursor:move}.remove-btn[_ngcontent-%COMP%]{color:red}  .mat-card{padding:4px}"]}),t})(),Y=(()=>{class t{constructor(t,e,o){this.dialogRef=t,this.store=e,this.name="",this.conditions=[],this.actions=[],this.service=o}ngOnInit(){this.updateString()}saveForm(){console.log("Actual save the information one day"),this.dialogRef.close()}setConditionState(t){console.log("A Condition changed"),this.conditions=t,this.updateString()}setActionState(t){console.log("A Action changed"),this.actions=t,this.updateString()}updateString(){this.store.dispatch(new r.a(this.service.buildRulesText(this.conditions,this.actions)))}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(b.f),s.Rb(a.i),s.Rb(d))},t.\u0275cmp=s.Lb({type:t,selectors:[["rms-frontend-create-rule"]],inputs:{name:"name"},decls:62,vars:5,consts:[["fxLayout","row","fxLayoutAlign","start",1,"body"],["fxLayout","column","fxLayoutAlign","space-between start",1,"left"],[1,"full-width"],["matInput","","required",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","5","cdkAutosizeMaxRows","10","required",""],["matNativeControl","","required",""],["value","guide://1111-1111-1111"],["value","guide://2222-2222-2222"],["value","guide://3333-3333-3333"],["value","guide://4444-4444-4444"],["fxFlex","1 1 auto"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","column","fxFlex","start",1,"middle"],[1,"build-top"],["fxLayout","column","fxLayoutAlign","start stretch",1,"build-bottom"],[1,"card"],[3,"conditionType","contentChange"],[1,"right"],[3,"innerHtml"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div"),s.Xb(3,"form"),s.Xb(4,"mat-form-field",2),s.Xb(5,"mat-label"),s.Fc(6,"Name"),s.Wb(),s.Sb(7,"input",3),s.Wb(),s.Xb(8,"mat-form-field",2),s.Xb(9,"mat-label"),s.Fc(10,"Description"),s.Wb(),s.Sb(11,"textarea",4),s.Wb(),s.Xb(12,"mat-form-field",2),s.Xb(13,"mat-label"),s.Fc(14,"Record System"),s.Wb(),s.Xb(15,"mat-select",5),s.Xb(16,"mat-option",6),s.Fc(17,"Google"),s.Wb(),s.Xb(18,"mat-option",7),s.Fc(19,"Amazon"),s.Wb(),s.Xb(20,"mat-option",8),s.Fc(21,"Microsoft"),s.Wb(),s.Xb(22,"mat-option",9),s.Fc(23,"SpaceX"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"p",2),s.Fc(25,"Priority: LAST"),s.Wb(),s.Xb(26,"p",2),s.Fc(27,"Active: FALSE"),s.Wb(),s.Wb(),s.Sb(28,"span",10),s.Xb(29,"button",11),s.fc("click",(function(){return e.saveForm()})),s.Xb(30,"mat-icon"),s.Fc(31,"save"),s.Wb(),s.Fc(32," Save Rule "),s.Wb(),s.Wb(),s.Xb(33,"div",12),s.Xb(34,"div",13),s.Xb(35,"h2"),s.Fc(36,"Build Rule"),s.Wb(),s.Wb(),s.Xb(37,"div",14),s.Xb(38,"mat-card",15),s.Xb(39,"mat-card-header"),s.Xb(40,"mat-card-title"),s.Fc(41,"Conditions"),s.Wb(),s.Xb(42,"mat-card-subtitle"),s.Fc(43,"Add at least one condition"),s.Wb(),s.Wb(),s.Xb(44,"mat-card-content"),s.Xb(45,"rms-frontend-rule-build-piece",16),s.fc("contentChange",(function(t){return e.setConditionState(t)})),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"mat-card",15),s.Xb(47,"mat-card-header"),s.Xb(48,"mat-card-title"),s.Fc(49,"Actions"),s.Wb(),s.Xb(50,"mat-card-subtitle"),s.Fc(51,"Add at least one action"),s.Wb(),s.Wb(),s.Xb(52,"mat-card-content"),s.Xb(53,"rms-frontend-rule-build-piece",16),s.fc("contentChange",(function(t){return e.setActionState(t)})),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(54,"div",17),s.Xb(55,"h2"),s.Fc(56,"Rule Output"),s.Wb(),s.Xb(57,"h3"),s.Xb(58,"b"),s.Fc(59,"When a messages arrives"),s.Wb(),s.Wb(),s.Sb(60,"span",18),s.kc(61,"async"),s.Wb(),s.Wb()),2&t&&(s.Eb(45),s.oc("conditionType",!0),s.Eb(8),s.oc("conditionType",!1),s.Eb(7),s.pc("innerHtml",s.lc(61,3,e.rulesText$),s.xc))},directives:[m.c,m.b,l.s,l.n,l.o,u.b,u.e,f.b,g.b,p.a,h.n,m.a,x.a,v.a,W.a,W.c,W.f,W.e,W.b,Q],pipes:[X.b],styles:[".body[_ngcontent-%COMP%]{padding-top:15px}.body[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{height:100%;overflow:hidden}.left[_ngcontent-%COMP%]{width:25%;border-right:1px solid}.middle[_ngcontent-%COMP%]{width:40%;word-break:break-all}.middle[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding-left:15px}.right[_ngcontent-%COMP%]{width:30%;overflow-x:auto;white-space:nowrap;font-size:small}.build-top[_ngcontent-%COMP%]{padding-bottom:10px;max-height:15%}.build-bottom[_ngcontent-%COMP%], .build-top[_ngcontent-%COMP%]{width:100%;overflow-y:auto}.build-bottom[_ngcontent-%COMP%]{height:90%;overflow-x:hidden}.card[_ngcontent-%COMP%]{margin-bottom:10px;overflow-x:hidden;max-height:50%}.full-width[_ngcontent-%COMP%]{width:90%}"]}),Object(n.b)([Object(a.e)(i.a.rulesText),Object(n.c)("design:type",c.a)],t.prototype,"rulesText$",void 0),t})()}}]);